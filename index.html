<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>coddoc</title>
   <link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css">
      <link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css">
      <link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.css">
    <style type="text/css">
            

.subnav-inner {
    width: 100%;
    height: 36px;
    background-color: #EEE;
    background-repeat: repeat-x;
    background-image: -moz-linear-gradient(top, whiteSmoke 0%, #EEE 100%);
    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, whiteSmoke), color-stop(100%, #EEE));
    background-image: -webkit-linear-gradient(top, whiteSmoke 0%, #EEE 100%);
    background-image: -ms-linear-gradient(top, whiteSmoke 0%, #EEE 100%);
    background-image: -o-linear-gradient(top, whiteSmoke 0%, #EEE 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#f5f5f5', endColorstr = '#eeeeee', GradientType = 0);
    background-image: linear-gradient(top, whiteSmoke 0%, #EEE 100%);
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
}

.subnav .nav > li > a:hover {
    color: black !important;
}

.subnav .nav li.dropdown .dropdown-toggle .caret,
.subnav .nav li.dropdown.open .caret {
    border-top-color: #999 !important;
    border-bottom-color: #999 !important;
}

.subnav-fixed {
    position: fixed;
    width : 90%;
    margin-right: auto;
    margin-left: auto;
    top: 40px;
    left: 0;
    right: 0;
    z-index: 1020;
    border-color: #D5D5D5;
    border-width: 0 0 1px;
    -webkit-border-radius: 0;
    -moz-border-radius: 0;
    border-radius: 0;
    -webkit-box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
    -moz-box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
    box-shadow: inset 0 1px 0 #fff, 0 1px 5px rgba(0,0,0,.1);
    filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
}

.navbar .nav  .dropdown-menu {
    max-height: 500px;
    overflow: auto;
}â€‹

        </style>
        <style type="text/css">
          body {
            padding-top: 60px;
            padding-bottom: 40px;
          }
        </style>
     <script type="text/javascript">
         var init = (function () {
             "use strict";

             var processScroll = (function () {
                 var curr = null, prev = null;
                 return function (nav) {
                     var $win = $(window);
                     $('.subnav').each(function () {
                         var nav = $(this);
                         var navTop = nav.offset().top - 40;
                         var scrollTop = $win.scrollTop();
                         if (scrollTop >= navTop && curr != nav) {
                             if(curr){
                                 curr.removeClass('subnav-fixed')
                                 prev = curr;
                             }
                             curr = nav;
                             curr.addClass('subnav-fixed')
                         } else if (curr == nav && scrollTop <= navTop) {
                             curr.removeClass('subnav-fixed');
                             prev.addClass('subnav-fixed');
                             curr = prev;
                         }else{
                             nav.removeClass('subnav-fixed');
                         }
                     });
                 };
             })();

             return function () {
                 window.prettyPrint && prettyPrint();
                 $(".collapse").collapse();
                 // fix sub nav on scroll
                 processScroll();
                 $(window).on('scroll', processScroll)
             }
         })();
     </script>
  </head>
  <body onload="init()">
    <div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
      
           <div class="nav-collapse">
      <ul class="nav nav-pills">
      
        <li class="dropdown">
           <a href="#" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
           <ul class="dropdown-menu">
             
                         <li><a href="#patio_associations">patio.associations</a></li>
               
                         <li><a href="#patio_plugins">patio.plugins</a></li>
               
                         <li><a href="#patio_sql">patio.sql</a></li>
               
                         <li><a href="#patio_sql_Constants">patio.sql.Constants</a></li>
               
           </ul>
           </li>
        
        
           <li class="dropdown">
           <a href="#" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
           <ul class="dropdown-menu">
             
                         <li><a href="#patio">patio</a></li>
               
                         <li><a href="#patio_AlterTableGenerator">patio.AlterTableGenerator</a></li>
               
                         <li><a href="#patio_AssociationError">patio.AssociationError</a></li>
               
                         <li><a href="#patio_ConnectionPool">patio.ConnectionPool</a></li>
               
                         <li><a href="#patio_Database">patio.Database</a></li>
               
                         <li><a href="#patio_DatabaseError">patio.DatabaseError</a></li>
               
                         <li><a href="#patio_Dataset">patio.Dataset</a></li>
               
                         <li><a href="#patio_DatasetError">patio.DatasetError</a></li>
               
                         <li><a href="#patio_ExpressionError">patio.ExpressionError</a></li>
               
                         <li><a href="#patio_Model">patio.Model</a></li>
               
                         <li><a href="#patio_ModelError">patio.ModelError</a></li>
               
                         <li><a href="#patio_NotImplemented">patio.NotImplemented</a></li>
               
                         <li><a href="#patio_PatioError">patio.PatioError</a></li>
               
                         <li><a href="#patio_QueryError">patio.QueryError</a></li>
               
                         <li><a href="#patio_SchemaGenerator">patio.SchemaGenerator</a></li>
               
                         <li><a href="#patio_Time">patio.Time</a></li>
               
                         <li><a href="#patio_associations_Association">patio.associations.Association</a></li>
               
                         <li><a href="#patio_associations_ManyToMany">patio.associations.ManyToMany</a></li>
               
                         <li><a href="#patio_associations_ManyToOne">patio.associations.ManyToOne</a></li>
               
                         <li><a href="#patio_associations_ManyToOne">patio.associations.ManyToOne</a></li>
               
                         <li><a href="#patio_associations_OneToMany">patio.associations.OneToMany</a></li>
               
                         <li><a href="#patio_dataset__Query">patio.dataset._Query</a></li>
               
                         <li><a href="#patio_migrations_IntegerMigrator">patio.migrations.IntegerMigrator</a></li>
               
                         <li><a href="#patio_migrations_Migrator">patio.migrations.Migrator</a></li>
               
                         <li><a href="#patio_migrations_TimestampMigrator">patio.migrations.TimestampMigrator</a></li>
               
                         <li><a href="#patio_plugins_CachePlugin">patio.plugins.CachePlugin</a></li>
               
                         <li><a href="#patio_plugins_ClassTableInheritancePlugin">patio.plugins.ClassTableInheritancePlugin</a></li>
               
                         <li><a href="#patio_plugins_TimeStampPlugin">patio.plugins.TimeStampPlugin</a></li>
               
                         <li><a href="#patio_sql_AliasMethods">patio.sql.AliasMethods</a></li>
               
                         <li><a href="#patio_sql_AliasedExpression">patio.sql.AliasedExpression</a></li>
               
                         <li><a href="#patio_sql_BitWiseMethods">patio.sql.BitWiseMethods</a></li>
               
                         <li><a href="#patio_sql_BooleanConstant">patio.sql.BooleanConstant</a></li>
               
                         <li><a href="#patio_sql_BooleanExpression">patio.sql.BooleanExpression</a></li>
               
                         <li><a href="#patio_sql_BooleanMethods">patio.sql.BooleanMethods</a></li>
               
                         <li><a href="#patio_sql_CaseExpression">patio.sql.CaseExpression</a></li>
               
                         <li><a href="#patio_sql_Cast_constructor">patio.sql.Cast.constructor</a></li>
               
                         <li><a href="#patio_sql_CastMethods">patio.sql.CastMethods</a></li>
               
                         <li><a href="#patio_sql_ColumnAll">patio.sql.ColumnAll</a></li>
               
                         <li><a href="#patio_sql_ComplexExpression">patio.sql.ComplexExpression</a></li>
               
                         <li><a href="#patio_sql_ComplexExpressionMethods">patio.sql.ComplexExpressionMethods</a></li>
               
                         <li><a href="#patio_sql_Constant">patio.sql.Constant</a></li>
               
                         <li><a href="#patio_sql_DateTime">patio.sql.DateTime</a></li>
               
                         <li><a href="#patio_sql_Decimal">patio.sql.Decimal</a></li>
               
                         <li><a href="#patio_sql_Expression">patio.sql.Expression</a></li>
               
                         <li><a href="#patio_sql_Float">patio.sql.Float</a></li>
               
                         <li><a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
               
                         <li><a href="#patio_sql_Identifier">patio.sql.Identifier</a></li>
               
                         <li><a href="#patio_sql_InequalityMethods">patio.sql.InequalityMethods</a></li>
               
                         <li><a href="#patio_sql_JoinClause">patio.sql.JoinClause</a></li>
               
                         <li><a href="#patio_sql_JoinOnClause">patio.sql.JoinOnClause</a></li>
               
                         <li><a href="#patio_sql_JoinUsingClause">patio.sql.JoinUsingClause</a></li>
               
                         <li><a href="#patio_sql_LiteralString_constructor">patio.sql.LiteralString.constructor</a></li>
               
                         <li><a href="#patio_sql_NoBooleanInputMethods">patio.sql.NoBooleanInputMethods</a></li>
               
                         <li><a href="#patio_sql_NumericMethods">patio.sql.NumericMethods</a></li>
               
                         <li><a href="#patio_sql_OrderedExpression">patio.sql.OrderedExpression</a></li>
               
                         <li><a href="#patio_sql_OrderedMethods">patio.sql.OrderedMethods</a></li>
               
                         <li><a href="#patio_sql_PlaceHolderLiteralString">patio.sql.PlaceHolderLiteralString</a></li>
               
                         <li><a href="#patio_sql_QualifiedIdentifier">patio.sql.QualifiedIdentifier</a></li>
               
                         <li><a href="#patio_sql_QualifyingMethods">patio.sql.QualifyingMethods</a></li>
               
                         <li><a href="#patio_sql_SQLFunction_NumericExpression">patio.sql.SQLFunction.NumericExpression</a></li>
               
                         <li><a href="#patio_sql_SQLFunction_constructor">patio.sql.SQLFunction.constructor</a></li>
               
                         <li><a href="#patio_sql_StringConcatenationMethods">patio.sql.StringConcatenationMethods</a></li>
               
                         <li><a href="#patio_sql_StringExpression">patio.sql.StringExpression</a></li>
               
                         <li><a href="#patio_sql_StringMethods">patio.sql.StringMethods</a></li>
               
                         <li><a href="#patio_sql_SubScript">patio.sql.SubScript</a></li>
               
                         <li><a href="#patio_sql_SubscriptMethods">patio.sql.SubscriptMethods</a></li>
               
                         <li><a href="#patio_sql_Time">patio.sql.Time</a></li>
               
                         <li><a href="#patio_sql_TimeStamp">patio.sql.TimeStamp</a></li>
               
                         <li><a href="#patio_sql_Year">patio.sql.Year</a></li>
               
           </ul>
        </li>
       
      </ul>
      </div>
    </div>
  </div>
</div>


    <div class="container-fluid">
        <a name="top"></a>
        <div class="container">
        
        
    <a name="patio_associations"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
                  <div class="container">
                    <a href="#" class="brand">
                                patio.associations
                                
                                
                                        
                                 <span class="label label-success">Public</span>
                                        
                                
                    </a>
                   <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                            </a>

                            <div class="nav-collapse">
            
            </div>
            </div>
     </div>
</div>
<em>Defined associations/index.js</em>

<p>
</p>





    
    

    <a name="patio_plugins"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
                  <div class="container">
                    <a href="#" class="brand">
                                patio.plugins
                                
                                
                                        
                                 <span class="label label-success">Public</span>
                                        
                                
                    </a>
                   <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                            </a>

                            <div class="nav-collapse">
            
            </div>
            </div>
     </div>
</div>
<em>Defined plugins/index.js</em>

<p>
</p>





    
    

    <a name="patio_sql"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
                  <div class="container">
                    <a href="#" class="brand">
                                patio.sql
                                
                                
                                        
                                 <span class="label label-success">Public</span>
                                        
                                
                    </a>
                   <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                            </a>

                            <div class="nav-collapse">
            
            <ul class="nav pull-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Methods<b class="caret"></b></a>
                <ul class="dropdown-menu">
                    
                    <li><a href="#patio_sql_case">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                        case
                     </a></li>
                    
                    <li><a href="#patio_sql_identifier">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                        identifier
                     </a></li>
                    
                    <li><a href="#patio_sql_literal">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                        literal
                     </a></li>
                    
                    <li><a href="#patio_sql_sqlStringJoin">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                        sqlStringJoin
                     </a></li>
                    
                    <li><a href="#patio_sql_stringToIdentifier">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                        stringToIdentifier
                     </a></li>
                    
                </ul>
            </li>
            </ul>
            
            </div>
            </div>
     </div>
</div>
<em>Defined sql.js</em>

<p>
Collection of SQL related types, and expressions.

<p>
 The <a href='#patio_sql'>patio.sql</a> object
 can be used directly to create <a href='#patio_sql_Expression'>patio.sql.Expression</a>s, <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>s, <a href='#patio_sql_SQLFunction'>patio.sql.SQLFunction</a>s,
 and <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a>s.
<pre class='code'>
 var sql = patio.sql;
 //creating an identifier
 sql.a; //=> a;

 //creating a qualified identifier
 sql.table__column; //table.column;

 //BooleanExpression
 sql.a.lt(sql.b); //=> a < 'b';

 //SQL Functions
 sql.sum(sql.a); //=> sum(a)
 sql.avg(sql.b); //=> avg(b)
 sql.a("b", 1); //=> a(b, 1)
 sql.myDatabasesObjectFunction(sql.a, sql.b, sql.c); //=> myDatabasesObjectFunction(a, b, c);

 //combined
 sql.a.cast("boolean"); //=> 'CAST(a AS boolean)'
 sql.a.plus(sql.b).lt(sql.c.minus(3) //=> ((a + b) < (c - 3))

</pre>

This is useful when combined with dataset filtering

<pre class="code">
 var ds = DB.from("t");

 ds.filter({a:[sql.b, sql.c]}).sql;
     //=> SELECT * FROM t WHERE (a IN (b, c))

 ds.select(sql["case"]({b:{c:1}}, false)).sql;
     //=> SELECT (CASE WHEN b THEN (c = 1) ELSE 'f' END) FROM t

 ds.select(sql.a).qualifyToFirstSource().sql;
     //=>  SELECT a FROM t

 ds.order(sql.a.desc(), sql.b.asc()).sql;
     //=>  SELECT * FROM t ORDER BY a DESC, b ASC

 ds.select(sql.a.as("b")).sql;
     //=> SELECT a AS b FROM t

 ds.filter(sql["case"]({a:sql.b}, sql.c, sql.d)).sql
     //=> SELECT * FROM t WHERE (CASE d WHEN a THEN b ELSE c END)

 ds.filter(sql.a.cast("boolean")).sql;
     //=> SELECT * FROM t WHERE CAST(a AS boolean)

 ds.filter(sql.a("b", 1)).sql
     //=> SELECT * FROM t WHERE a(b, 1)
 ds.filter(sql.a.plus(sql.b).lt(sql.c.minus(3)).sql;
     //=> SELECT * FROM t WHERE ((a + b) < (c - 3))

 ds.filter(sql.a.sqlSubscript(sql.b, 3)).sql;
     //=> SELECT * FROM t WHERE a[b, 3]

 ds.filter('? > ?', sql.a, 1).sql;
    //=> SELECT * FROM t WHERE (a > 1);

 ds.filter('{a} > {b}', {a:sql.c, b:1}).sql;
     //=>SELECT * FROM t WHERE (c > 1)

 ds.select(sql.literal("'a'"))
    .filter(sql.a(3))
    .filter('blah')
    .order(sql.literal(true))
    .group(sql.literal('a > ?', [1]))
    .having(false).sql;
     //=>"SELECT 'a' FROM t WHERE (a(3) AND (blah)) GROUP BY a > 1 HAVING 'f' ORDER BY true");
 </pre>

</p></p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
{
    </pre>
    

    <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>NegativeBooleanConstant</td><td>declaration</td><td></td><td>
Represents inverse boolean constants (currently only NOTNULL). A
special class to allow for special behavior.

</td><tr></table>
    
        <a name="patio_sql_case"></a>
    <h3>
        case
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Returns a <a href='#patio_sql_CaseExpression'>patio.sql.CaseExpression</a>. See <a href='#patio_sql_CaseExpression'>patio.sql.CaseExpression</a> for argument types.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql[&quot;case&quot;]({a:sql.b}, sql.c, sql.d); //=&gt; (CASE t.d WHEN t.a THEN t.b ELSE t.c END)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hash</em>  : </li>
    
        <li> <em>/*args**/opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hash,/*args**/opts){
   var args = comb.argsToArray(arguments).slice(1);
   return CaseExpression.fromArgs([hashToArray(hash)].concat(args));
       
}
    </pre>
    


    
        <a name="patio_sql_identifier"></a>
    <h3>
        identifier
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Returns a <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>, <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a>,
or <a href='#patio_sql_ALiasedExpression'>patio.sql.ALiasedExpression</a> depending on the format of the string
passed in.

<ul>
     <li>For columns : table__column___alias.</li>
     <li>For tables : schema__table___alias.</li>
</ul>
each portion of the identifier is optional. See example below

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
patio.sql.identifier(&quot;a&quot;) //= &gt; new patio.sql.Identifier(&quot;a&quot;);
patio.sql.identifier(&quot;table__column&quot;); //=&gt; new patio.sql.QualifiedIdentifier(table, column);
patio.sql.identifier(&quot;table__column___alias&quot;);
     //=&gt; new patio.sql.AliasedExpression(new patio.sql.QualifiedIdentifier(table, column), alias);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>s</em>  : </li>
    
        <li> <em>name</em> <code>String</code> : the name to covert to an an <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>, <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a>, or <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a>.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.Identifier|patio.sql.QualifiedIdentifier|patio.sql.AliasedExpression</code> an identifier generated based on the name string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (s){
   return sql.stringToIdentifier(s);
       
}
    </pre>
    


    
        <a name="patio_sql_literal"></a>
    <h3>
        literal
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Creates a <a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a> or <a href='#patio_sql_PlaceHolderLiteralString'>patio.sql.PlaceHolderLiteralString</a>
depending on the arguments passed in. If a single string is passed in then
it is assumed to be a <a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a>. If more than one argument is
passed in then it is assumed to be a <a href='#patio_sql_PlaceHolderLiteralString'>patio.sql.PlaceHolderLiteralString</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//a literal string that will be placed in an SQL query with out quoting.
patio.sql.literal(&quot;a&quot;); //=&gt; new patio.sql.LiteralString(&#x27;a&#x27;);

//a placeholder string that will have ? replaced with the {@link patio.Dataset#literal} version of
//the arugment and replaced in the string.
patio.sql.literal(&quot;a = ?&quot;, 1)  //=&gt; a = 1
patio.sql.literal(&quot;a = ?&quot;, &quot;b&quot;); //=&gt; a = &#x27;b&#x27;
patio.sql.literal(&quot;a = {a} AND b = {b}&quot;, {a : 1, b : 2}); //=&gt; a = 1 AND b = 2
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>s</em>  : variable number of arguments where the first argument is a string. If multiple arguments are passed it is a assumed to be a <a href='#patio_sql_PlaceHolderLiteralString'>patio.sql.PlaceHolderLiteralString</a></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.LiteralString|patio.sql.PlaceHolderLiteralString</code> an expression that can be used as an argument
for <a href='#patio_Dataset'>patio.Dataset</a> query methods.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (s){
   var args = comb.argsToArray(arguments);
   return args.length &gt; 1 ? PlaceHolderLiteralString.fromArgs(args) : new LiteralString(s);
       
}
    </pre>
    


    
        <a name="patio_sql_sqlStringJoin"></a>
    <h3>
        sqlStringJoin
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Creates a <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a>

Return a <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a> representing an SQL string made up of the
concatenation of this array's elements.  If an joiner is passed
it is used in between each element of the array in the SQL
concatenation.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
patio.sql.sqlStringJoin([&quot;a&quot;]); //=&gt; a
  //you can use sql.* as a shortcut to get an identifier
  patio.sql.sqlStringJoin([sql.identifier(&quot;a&quot;), sql.b]);//=&gt; a || b
  patio.sql.sqlStringJoin([sql.a, &#x27;b&#x27;]) # SQL: a || &#x27;b&#x27;
  patio.sql.sqlStringJoin([&#x27;a&#x27;, sql.b], &#x27; &#x27;); //=&gt; &#x27;a&#x27; || &#x27; &#x27; || b
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : </li>
    
        <li> <em>joiner</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr,joiner){
   joiner = joiner || null;
   var args;
   arr = arr.map(function (a) {
       return comb.isInstanceOf(a, Expression, LiteralString, Boolean) || comb.isNull(a) ? a : sql.stringToIdentifier(a)
   });
   if (joiner) {
       var newJoiner = [];
       for (var i = 0; i &lt; arr.length; i++) {
           newJoiner.push(joiner);
       }
       args = array.flatten(array.zip(arr, newJoiner));
       args.pop();
   } else {
       args = arr;
   }
   args = args.map(function (a) {
       return comb.isInstanceOf(a, Expression, LiteralString, Boolean) || comb.isNull(a) ? a : &quot;&quot; + a;
   });
   return StringExpression.fromArgs([&quot;||&quot;].concat(args));
       
}
    </pre>
    


    
        <a name="patio_sql_stringToIdentifier"></a>
    <h3>
        stringToIdentifier
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   return new Dataset().stringToIdentifier(name);
       
}
    </pre>
    


    

    <a name="patio_sql_Constants"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
                  <div class="container">
                    <a href="#" class="brand">
                                patio.sql.Constants
                                
                                
                                        
                                 <span class="label label-success">Public</span>
                                        
                                
                    </a>
                   <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                            </a>

                            <div class="nav-collapse">
            
            </div>
            </div>
     </div>
</div>
<em>Defined sql.js</em>

<p>
Holds default generic constants that can be referenced.  These
are included in <a href='#patio'>patio</a></p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
{
    </pre>
    

    <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>CURRENT_DATE</em></td><td>patio.sql.Constant</td><td><code>new Constant("CURRENT_DATE")</code></td><td>
Constant for CURRENT DATE
</td><tr><tr><td><em>CURRENT_TIME</em></td><td>patio.sql.Constant</td><td><code>new Constant("CURRENT_TIME")</code></td><td>
Constant for CURRENT TIME
</td><tr><tr><td><em>CURRENT_TIMESTAMP</em></td><td>patio.sql.Constant</td><td><code>new Constant("CURRENT_TIMESTAMP")</code></td><td>
Constant for CURRENT TIMESTAMP
</td><tr><tr><td><em>FALSE</em></td><td>patio.sql.BooleanConstant</td><td><code>new BooleanConstant(0)</code></td><td>
Constant for FALSE
</td><tr><tr><td><em>NOTNULL</em></td><td>patio.sql.NegativeBooleanConstant</td><td><code>new NegativeBooleanConstant(null)</code></td><td>
Constant for NOT NULL
</td><tr><tr><td><em>NULL</em></td><td>patio.sql.BooleanConstant</td><td><code>new BooleanConstant(null)</code></td><td>
Constant for NULL
</td><tr><tr><td><em>SQLFALSE</em></td><td>patio.sql.BooleanConstant</td><td><code>new BooleanConstant(0)</code></td><td>
Constant for FALSE.
</td><tr><tr><td><em>SQLTRUE</em></td><td>patio.sql.BooleanConstant</td><td><code>new BooleanConstant(1)</code></td><td>
Constant for TRUE
</td><tr><tr><td><em>TRUE</em></td><td>patio.sql.BooleanConstant</td><td><code>new BooleanConstant(1)</code></td><td>
Constant for TRUE
</td><tr></table>
    


        
    <a name="patio"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_instanceProperties">Instance Properties</a></li>
                        
                        
                        <li><a href="#patio_staticProperties">Static Properties</a></li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_MigrationError">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                MigrationError
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_prototype_addModel">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addModel

                                </a></li>
                                
                                <li><a href="#patio_prototype_configureLogging">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                configureLogging

                                </a></li>
                                
                                <li><a href="#patio_prototype_connect">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                connect

                                </a></li>
                                
                                <li><a href="#patio_prototype_connectAndExecute">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                connectAndExecute

                                </a></li>
                                
                                <li><a href="#patio_prototype_createConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createConnection

                                </a></li>
                                
                                <li><a href="#patio_prototype_disconnect">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                disconnect

                                </a></li>
                                
                                <li><a href="#patio_prototype_getModel">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                getModel

                                </a></li>
                                
                                <li><a href="#patio_prototype_import">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                import

                                </a></li>
                                
                                <li><a href="#patio_prototype_logDebug">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logDebug

                                </a></li>
                                
                                <li><a href="#patio_prototype_logError">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logError

                                </a></li>
                                
                                <li><a href="#patio_prototype_logFatal">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logFatal

                                </a></li>
                                
                                <li><a href="#patio_prototype_logInfo">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logInfo

                                </a></li>
                                
                                <li><a href="#patio_prototype_logTrace">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logTrace

                                </a></li>
                                
                                <li><a href="#patio_prototype_logWarn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logWarn

                                </a></li>
                                
                                <li><a href="#patio_prototype_migrate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                migrate

                                </a></li>
                                
                                <li><a href="#patio_prototype_syncModels">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                syncModels

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
A singleton class that acts as the entry point for all actions performed in patio.

</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
var patio = require(&quot;patio&quot;);

patio.createConnection(....);

patio.camelize = true;
patio.quoteIdentifiers=false;

patio.createModel(&quot;my_table&quot;);


 //CHANGING IDENTIFIER INPUT METHOD


 //use whatever is passed in
  patio.identifierInputMethod = null;
 //convert to uppercase
 patio.identifierInputMethod = &quot;toUpperCase&quot;;
 //convert to camelCase
 patio.identifierInputMethod = &quot;camelize&quot;;
 //convert to underscore
 patio.identifierInputMethod = &quot;underscore&quot;;


 //CHANGING IDENTIFIER OUTPUT METHOD

 //use whatever the db returns
  patio.identifierOutputMethod = null;
 //convert to uppercase
 patio.identifierOutputMethod = &quot;toUpperCase&quot;;
 //convert to camelCase
 patio.identifierOutputMethod = &quot;camelize&quot;;
 //convert to underscore
 patio.identifierOutputMethod = &quot;underscore&quot;;

 //TURN QUOTING OFF
  patio.quoteIdentifiers = false
            </pre>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_Time">patio.Time</a></li>
            
        </ul>
    

    
        <a name="patio_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>patio.Time</td><td></td><td></td><td>
Mixin that provides time formatting/coversion functions.

</td><tr></table>
    
    
        <a name="patio_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>DATABASES</td><td>patio.Database[]</td><td><code>
[]
             </code></td><td>
An array of databases that are currently connected.
</td><tr><tr><td>LOGGER</td><td>Logger</td><td><code>
comb.logging.Logger.getLogger("patio")
             </code></td><td>
Returns the root comb logger using this logger you
can set the levels add appenders etc.

</td><tr><tr><td>camelize</td><td>function</td><td></td><td>
Sets the whether or not to camelize identifiers coming from the database and to underscore
identifiers when sending identifiers to the database. Setting this property to true has the same effect
as:
<pre class="code">
    patio.identifierOutputMethod = "camelize";
    patio.identifierInputMethod = "underscore";
</pre>

</td><tr><tr><td>defaultDatabase</td><td>patio.Database</td><td><code>
null
             </code></td><td>
Returns the default database. This is the first database created using <a href='#patio_prototype_connect'>patio#connect</a>.
</td><tr><tr><td>identifierInputMethod</td><td>String</td><td></td><td>
Set the method to call on identifiers going into the database.  This affects
how identifiers are sent to the database. So if you use camelCased and the db identifiers are all underscored
use camelize. The method can include
<ul>
    <li>toUpperCase</li>
    <li>toLowerCase</li>
    <li>camelize</li>
    <li>underscore</li>
    <li>Other String instance method names.</li>
</ul>

patio uses toUpperCase identifiers in all SQL strings for most databases.

</td><tr><tr><td>identifierOutputMethod</td><td>String</td><td></td><td>
Set the method to call on identifiers coming out of the database.  This affects
the how identifiers are represented by calling the method on them.
The method can include
<ul>
    <li>toUpperCase</li>
    <li>toLowerCase</li>
    <li>camelize</li>
    <li>underscore</li>
    <li>Other String instance method names.</li>
</ul>
most database implementations in patio use toLowerCase
</td><tr><tr><td>quoteIdentifiers</td><td>Boolean</td><td></td><td>
Set whether to quote identifiers for all databases by default. By default,
patio quotes identifiers in all SQL strings.

</td><tr><tr><td>underscore</td><td>function</td><td></td><td>
Sets the whether or not to underscore identifiers coming from the database and to camelize
identifiers when sending identifiers to the database. Setting this property to true has the same effect
as:
<pre class="code">
    patio.identifierOutputMethod = "underscore";
    patio.identifierInputMethod = "camelize";
</pre>


</td><tr></table>
    

    <a name="patio_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined index.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>options</em>  : </li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (){
   this._super(arguments);
   var constants = SQL.Constants;
   for (var i in constants) {
       this[i] = constants[i];
   }
           
}
            </pre>
      
    

  
    <a name="patio_MigrationError"></a>
    <h3>
        MigrationError
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined errors.js</em>

<p>
Thrown if there is an error when performing a migration.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>message</em>  : the message to show.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Migration error : &quot; + message);
}
    </pre>
    


  
  
    <a name="patio_prototype_addModel"></a>
    <h3>
        addModel
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
This method is used to create a <a href='#patio_Model'>patio.Model</a> object.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var Fligth = patio.addModel(&quot;flight&quot;, {
     instance:{
             toObject:function () {
                 var obj = this._super(arguments);
                 obj.weekdays = this.weekdaysArray;
                 obj.legs = this.legs.map(function (l) {
                     return l.toObject();
                 });
                 return obj;
             },

             _setWeekdays:function (weekdays) {
                 this.weekdaysArray = weekdays.split(&quot;,&quot;);
                 return weekdays;
             }
     },

     static:{

         init:function () {
             this.oneToMany(&quot;legs&quot;, {
                 model:&quot;flightLeg&quot;,
                 orderBy:&quot;scheduledDepartureTime&quot;,
                 fetchType:this.fetchType.EAGER
             });
         },

         byAirline:function (airline) {
             return this.filter({airline:airline}).all();
         },

         arrivesAt:function (airportCode) {
             return this.join(this.flightLeg.select(&quot;flightId&quot;).filter({arrivalCode:airportCode}).distinct(), {flightId:&quot;id&quot;}).all();
         },

         departsFrom:function (airportCode) {
             return this.join(this.flightLeg.select(&quot;flightId&quot;).filter({departureCode:airportCode}).distinct(), {flightId:&quot;id&quot;}).all();
         },

         getters:{
             flightLeg:function () {
                 if (!this.__flightLeg) {
                     this.__flightLeg = this.patio.getModel(&quot;flightLeg&quot;);
                 }
                 return this.__flightLeg;
             }
         }
     }
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to use as the base for the model.</li>
    
        <li> <em>supers</em>  : </li>
    
        <li> <em>proto?</em>  : an object to be used as the prototype for the model. See
<a href="http://pollenware.github.com/comb/symbols/comb.html#.define">comb.define</a>.</li>
    
        <li> <em>Parent</em> <code>patio.Model|patio.Model[]</code> : models of this model.                  See <a href='#patio_plugins_ClassTableInheritancePlugin'>patio.plugins.ClassTableInheritancePlugin</a>.</li>
    
        <li> <em>Object[]?</em>  : [proto.plugins] this can be used to specify additional plugins to use such as.
<ul>
    <li>{@link patio.plugins.TimeStampPlugin</li>
    <li>{@link patio.plugins.CachePlugin</li>
</ul></li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,supers,proto){
   return model.create.apply(model, arguments)
           
}
    </pre>
    


  
    <a name="patio_prototype_configureLogging"></a>
    <h3>
        configureLogging
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
This can be used to configure logging. If a options
hash is passed in then it will passed to the comb.logging.PropertyConfigurator.
If the options are omitted then a ConsoleAppender will be added and the level will
be set to info.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var config = {
    &quot;patio&quot; : {
        level : &quot;INFO&quot;,
        appenders : [
            {
                type : &quot;RollingFileAppender&quot;,
                file : &quot;/var/log/patio.log&quot;,
            },
            {
                type : &quot;RollingFileAppender&quot;,
                file : &quot;/var/log/patio-error.log&quot;,
                name : &quot;errorFileAppender&quot;,
                level : &quot;ERROR&quot;
            }
        ]
};

patio.configureLogging(config);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   if (comb.isHash(opts)) {
       new comb.logging.PropertyConfigurator().configure(opts);
   } else {
       new comb.logging.BasicConfigurator().configure();
       LOGGER.level = &quot;info&quot;;
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_connect"></a>
    <h3>
        connect
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
 </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.createConnection.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_prototype_connectAndExecute"></a>
    <h3>
        connectAndExecute
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
This method allows one to connect to a database and immediately execute code.
For connection options </p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var DB;
var CONNECT_STRING = &quot;dummyDB://test:testpass@localhost/dummySchema&quot;;
var connectPromise = patio.connectAndExecute(CONNECT_STRING, function (db) {
     db.dropTable(&quot;test&quot;);
     db.createTable(&quot;test&quot;, function () {
         this.primaryKey(&quot;id&quot;);
         this.name(String);
         this.age(Number);
     });
});

connectPromise.then(function (db) {
     DB = db;
     //do more stuff!
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>cb</em>  : the function to callback once connected.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved once the database execution has finished.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options,cb){
   if (!comb.isFunction(cb)) {
       throw new PatioError(&quot;callback must be a function&quot;);
   }
   var db = this.createConnection.apply(this, arguments);
   return comb.executeInOrder(db, patio, function (db, patio) {
       cb(db, patio);
       return db;
   });
           
}
    </pre>
    


  
    <a name="patio_prototype_createConnection"></a>
    <h3>
        createConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Returns a <a href='#patio_Database'>patio.Database</a> object that can be used to for querying.

<p>This method is the entry point for all interactions with a database including getting
<a href='#patio_Dataset'>patio.Dataset</a>s for creating queries(see <a href='#patio_Database_prototype_from'>patio.Database#from</a>).
</p>

<p>The <a href='#patio_Database'>patio.Database</a> returned can also be used to create(<a href='#patio_Database_prototype_createTable'>patio.Database#createTable</a>),
alter(@link patio.Database#alterTable}), rename(<a href='#patio_Database_prototype_renameTable'>patio.Database#renameTable</a>), and
drop(<a href='#patio_Database_prototype_dropTable'>patio.Database#dropTable</a>) as well as many other <a href='#patio_Database'>patio.Database</a> actions.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//connect using an object
var DB = patio.createConnection({
             host : &quot;127.0.0.1&quot;,
             port : 3306,
             type : &quot;mysql&quot;,
             maxConnections : 1,
             minConnections : 1,
             user : &quot;test&quot;,
             password : &quot;testpass&quot;,
             database : &#x27;test&#x27;
});
//connect using a connection string
var CONNECT_STRING = &quot;mysql://test:testpass@localhost:3306/test?maxConnections=1&amp;minConnections=1&quot;;
var DB = patio.createConnection(CONNECT_STRING);

//...do something
DB.createTable(&quot;myTable&quot;, function(){
   this.name(&quot;text&quot;);
   this.value(&quot;integer&quot;);
}).then(function(){
    //tables created!!!
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options</em>  : the options used to initialize the database connection.                        This may be a database connetion string or object.</li>
    
        <li> <em>[options.maxConnections = 10]</em> <code>Number</code> : the number of connections to pool.</li>
    
        <li> <em>[options.minConnections = 3]</em> <code>Number</code> : the number of connections to pool.</li>
    
        <li> <em>[options.type = &quot;mysql&quot;]</em> <code>String</code> : the type of database to communicate with.</li>
    
        <li> <em>options.user</em> <code>String</code> : the user to authenticate as.</li>
    
        <li> <em>options.password</em> <code>String</code> : the password of the user.</li>
    
        <li> <em>options.database</em> <code>String</code> : the name of the database to use, the database                                   specified here is the default database for all connections.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options){
   var ret = Database.connect(options);
   this.emit(&quot;connect&quot;, ret);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_prototype_disconnect"></a>
    <h3>
        disconnect
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Disconnects all databases in use.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>[cb=null]</em>  : a callback to call when disconnect has completed</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved once all databases have disconnected.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = Database.disconnect(cb);
   ret.classic(hitch(this, function (err) {
       if (err) {
           this.emit(&quot;error&quot;, err);
       } else {
           this.emit(&quot;disconnect&quot;);
       }
   }));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_prototype_getModel"></a>
    <h3>
        getModel
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Returns a model from the name of the table for which the model was created.

<pre class="code">
patio.addModel("test_model").then(function(){
     var TestModel = patio.getModel("test_model");
});
</pre>

If you have two tables with the same name in different databases then you can use the db parameter also.

<pre class="code">
var DB1 = patio.createConnection("mysql://test:testpass@localhost:3306/test_1");
var DB2 = patio.createConnection("mysql://test:testpass@localhost:3306/test_2");
comb.executeInOrder(patio, function(patio){
    patio.addModel(DB1.from("test");
    patio.addModel(DB2.from("test");
}).then(function(){
     var DB1Test = patio.getModel("test", DB1);
     var DB2Test = patio.getModel("test", DB2);
});

</pre>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the table that the model represents.</li>
    
        <li> <em>db?</em>  : optional database in case you have two models with the same table names in
                              different databases.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,db){
   return model.getModel(name, db);
           
}
    </pre>
    


  
    <a name="patio_prototype_import"></a>
    <h3>
        import
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Allows for the importing of multiple models so you do not have to worry about the promise that is returned from create model,
or a directory if an index.js file is used.

<p>
    To import a group of model files you can do the following:
     <pre class="code">
patio.import(__dirname + "/models/Flight.js",
             __dirname + "/models/Airport.js",
             __dirname + "/models/Airplane.js").then(function(Flight, Airport, Airplane){
                 //...
             });

patio.import(__dirname + "/models/Flight.js",
             __dirname + "/models/Airport.js",
             __dirname + "/models/Airplane.js").then(function(){
                 var Flight = patio.getModel("flight"),
                     Airport = patio.getModel("airport"),
                     Airplane = patio.getModel("airplane");
             });
     </pre>
    Another approach is to create an index.js file inside of a directory that requires all of the models needed.
    then use <a href='#patio_prototype_import'>patio#import</a> on that file.
    <pre class="code">
patio.import(__dirname + "/models").then(function(){
     var Flight = patio.getModel("flight"),
         Airport = patio.getModel("airport"),
         Airplane = patio.getModel("airplane");
});
    </pre>
</p>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>files</em>  : a single or list of files to import.</li>
    
        <li> <em>cb?</em>  : an optional callback to call when importing is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> returns a promise that will be resolved when all models in the imported files
have been loaded.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (files,cb){
   files = comb.argsToArray(arguments);
   if (comb.isFunction(files[files.length])) {
       cb = files.pop();
   } else {
       cb = null;
   }
   files.map(function (file) {
       require(file);
   });
   var ret = model.syncModels();
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_prototype_logDebug"></a>
    <h3>
        logDebug
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Logs a DEBUG level message to the "patio" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isDebug) {
       LOGGER.debug.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_logError"></a>
    <h3>
        logError
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Logs an ERROR level message to the "patio" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isError) {
       LOGGER.error.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_logFatal"></a>
    <h3>
        logFatal
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Logs a FATAL level message to the "patio" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isFatal) {
       LOGGER.fatal.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_logInfo"></a>
    <h3>
        logInfo
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Logs an INFO level message to the "patio" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isInfo) {
       LOGGER.info.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_logTrace"></a>
    <h3>
        logTrace
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Logs a TRACE level message to the "patio" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isTrace) {
       LOGGER.trace.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_logWarn"></a>
    <h3>
        logWarn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Logs a WARN level message to the "patio" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isWarn) {
       LOGGER.warn.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_prototype_migrate"></a>
    <h3>
        migrate
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Migrates the database using migration files found in the supplied directory.
<br/>
<br/>
<div>
    <h3>Integer Migrations</h3>
     Integer migrations are the simpler of the two migrations but are less flexible than timestamp based migrations.
     In order for patio to determine which versions to use the file names must end in <versionNumber>.js where
     versionNumber is a integer value representing the version number. <b>NOTE:</b>With integer migrations
     missing versions are not allowed.
     <br/>
     <br/>
     An example directory structure might look like the following:

     <pre class="code">
-migrations
     - createFirstTables.0.js
     - shortDescription.1.js
     - another.2.js
     .
     .
     .
     -lastMigration.n.js
     </pre>
     In order to easily identify where certain schema alterations have taken place it is a good idea to provide a brief
     but meaningful migration name.
     <pre class="code">
         createEmployee.0.js
         alterEmployeeNameColumn.1.js
     </pre>
</div>

<div>
    <h3>Timestamp Migrations</h3>
     Timestamp migrations are the more complex of the two migrations but offer greater flexibility especially
     with development teams. This is because Timestamp migrations do not require consecutive version numbers,
     ,allow for duplicate version numbers(but this should be avoided), keeps track of all currently applied migrations,
     and it will merge missing migrations. In order for patio to determine the order of the migration files
     the file names must end in <timestamp>.js where the timestamp can be any form of a time stamp.
     <pre class="code">
//yyyyMMdd
20110131
//yyyyMMddHHmmss
20110131123940
//unix epoch timestamp
1328035161
     </pre>
     as long as it is greater than 20000101 other wise it will be assumed to be part of an integer migration.
     <br/>
     <br/>
     An example directory structure might look like the following:

     <pre class="code">
-migrations
     - createFirstTables.1328035161.js
     - shortDescription.1328035360.js
     - another.1328035376.js
     .
     .
     .
     -lastMigration.n.js
     </pre>
     In order to easily identify where certain schema alterations have taken place it is a good idea to provide a brief
     but meaningful migration name.
     <pre class="code">
         createEmployee.1328035161.js
         alterEmployeeNameColumn.1328035360.js
     </pre>
</div>

<b>NOTE:</b>If you start with IntegerBased migrations and decide to transition to Timestamp migrations the
patio will attempt the migrate the current schema to the timestamp based migration schema.

<div>
In order to run a migraton all one has to do is call patio.migrate(DB, directory, options);

<pre class="code">
 var DB = patio.connect("my://connection/string");
 patio.migrate(DB, __dirname + "/migrations").then(function(){
     console.log("migrations finished");
 });
</pre>

<b>Example migration file</b>
<pre class="code">

//Up function used to migrate up a version
exports.up = function(db) {
  //create a new table
  db.createTable("company", function() {
      this.primaryKey("id");
      this.companyName(String, {size : 20, allowNull : false});
  });
  db.createTable("employee", function(table) {
      this.primaryKey("id");
      this.firstName(String);
      this.lastName(String);
      this.middleInitial("char", {size : 1});
  });
};

//Down function used to migrate down version
exports.down = function(db) {
   db.dropTable("employee", "company");
};
</pre>

</div>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>db</em>  : the database or connection string to a database to migrate.</li>
    
        <li> <em>directory</em> <code>String</code> : directory that the migration files reside in</li>
    
        <li> <em>[opts={}]</em> <code>Object</code> : optional parameters.</li>
    
        <li> <em>opts.column?</em> <code>String</code> : the column in the table that version information should be stored.</li>
    
        <li> <em>opts.table?</em> <code>String</code> : the table that version information should be stored.</li>
    
        <li> <em>opts.target?</em> <code>Number</code> : the target migration(i.e the migration to migrate up/down to).</li>
    
        <li> <em>opts.current?</em> <code>String</code> : the version that the database is currently at if the current version
is not provided it is retrieved from the database.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the migration is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (db){
   db = comb.isString(db) ? this.connect(db) : db;
   var args = comb.argsToArray(arguments);
   args.splice(0, 1);
   return migrate.run.apply(migrate, [db].concat(args));
           
}
    </pre>
    


  
    <a name="patio_prototype_syncModels"></a>
    <h3>
        syncModels
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined index.js</em>

<p>
Helper method to sync all models at once.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var User = patio.addModel(&quot;user&quot;);
var Blog = patio.addModel(&quot;blog&quot;);

//using promise api
patio.syncModels().then(function(){
    var user = new User();
}, function(error){
   console.log(err);
});

//using a callback

 patio.syncModels(function(err){
     if(err){
         console.log(err);
     }else{
         var user = new User();
     }
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : an optional callback to be invoked when all models have been synced</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved when the models have been synced.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   return model.syncModels(cb);
           
}
    </pre>
    


  

    <a name="patio_AlterTableGenerator"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.AlterTableGenerator
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_AlterTableGenerator_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_AlterTableGenerator_prototype___addCompositeForeignKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __addCompositeForeignKey

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype___addCompositePrimaryKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __addCompositePrimaryKey

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addColumn

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addConstraint">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addConstraint

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addForeignKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addForeignKey

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addFullTextIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addFullTextIndex

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addIndex

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addPrimaryKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addPrimaryKey

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addSpatialIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addSpatialIndex

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_addUniqueConstraint">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addUniqueConstraint

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_dropColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropColumn

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_dropConstraint">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropConstraint

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_dropIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropIndex

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_renameColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                renameColumn

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_setAllowNull">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setAllowNull

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_setColumnDefault">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setColumnDefault

                                </a></li>
                                
                                <li><a href="#patio_AlterTableGenerator_prototype_setColumnType">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setColumnType

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
An internal class that the user is not expected to instantiate directly.
Instances are created by <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a>.
It is used to specify table alteration parameters.  It takes a Database
object and a function which is called in the scope of the <a href='#patio_AlterTableGenerator'>patio.AlterTableGenerator</a>
to perform on the table, and gives the Database an array of table altering operations,
which the database uses to alter a table's description.

</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;xyz&quot;, function() {
     this.addColumn(&quot;aaa&quot;, &quot;text&quot;, {null : false, unique : true});
     this.dropColumn(&quot;bbb&quot;);
     this.renameColumn(&quot;ccc&quot;, &quot;ddd&quot;);
     this.setColumnType(&quot;eee&quot;, &quot;integer&quot;);
     this.setColumnDefault(&quot;hhh&quot;, &#x27;abcd&#x27;);
     this.addIndex(&quot;fff&quot;, {unique : true});
     this.dropIndex(&quot;ggg&quot;);
});

//or using the passed in generator
 DB.alterTable(&quot;xyz&quot;, function(table) {
     table.addColumn(&quot;aaa&quot;, &quot;text&quot;, {null : false, unique : true});
     table.dropColumn(&quot;bbb&quot;);
     table.renameColumn(&quot;ccc&quot;, &quot;ddd&quot;);
     table.setColumnType(&quot;eee&quot;, &quot;integer&quot;);
     table.setColumnDefault(&quot;hhh&quot;, &#x27;abcd&#x27;);
     table.addIndex(&quot;fff&quot;, {unique : true});
     table.dropIndex(&quot;ggg&quot;);
});
            </pre>
    

    

    
    

    <a name="patio_AlterTableGenerator_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined database/schemaGenerators.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>db</em>  : the database object which is performing the alter table operation.</li>
        
            <li> <em>block</em>  : a block which performs the operations. The block is called in the scope of the <a href='#patio_AlterTableGenerator'>patio.AlterTableGenerator</a> and is passed an instance of <a href='#patio_AlterTableGenerator'>patio.AlterTableGenerator</a> as the first argument.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (db,block){
   this.db = db;
   this.operations = [];
   block.apply(this, [this]);
           
}
            </pre>
      
    

  
  
    <a name="patio_AlterTableGenerator_prototype___addCompositeForeignKey"></a>
    <h3>
        __addCompositeForeignKey
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,table,opts){
   this.operations.push(comb.merge({op:&quot;addConstraint&quot;, type:&quot;foreignKey&quot;, columns:columns, table:table}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype___addCompositePrimaryKey"></a>
    <h3>
        __addCompositePrimaryKey
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   this.operations.push(comb.merge({op:&quot;addConstraint&quot;, type:&quot;primaryKey&quot;, columns:columns}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addColumn"></a>
    <h3>
        addColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a column with the given name, type, and opts to the DDL for the table.
See <a href='#patio_SchemaGenerator_prototype_column'>patio.SchemaGenerator#column</a> for the available options.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;test&quot;, function(){
  this.addColumn(&quot;name&quot;, String);
    //=&gt; ADD COLUMN name varchar(255)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>type</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,type,opts){
   opts = opts || {};
   this.operations.push(comb.merge({op:&quot;addColumn&quot;, name:name, type:type}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addConstraint"></a>
    <h3>
        addConstraint
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a constraint with the given name and args to the DDL for the table.
See <a href='#patio_SchemaGenerator_prototype_constraint'>patio.SchemaGenerator#constraint</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var sql = patio.sql;
DB.alterTable(&quot;test&quot;, function(){
     this.addConstraint(&quot;valid_name&quot;, sql.name.like(&#x27;A%&#x27;));
         //=&gt;ADD CONSTRAINT valid_name CHECK (name LIKE &#x27;A%&#x27;)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   var args = comb.argsToArray(arguments);
   var block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   this.operations.push({op:&quot;addConstraint&quot;, name:name, type:&quot;check&quot;, check:block || args});
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addForeignKey"></a>
    <h3>
        addForeignKey
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a foreign key with the given name and referencing the given table
to the DDL for the table.  See <a href='#patio_SchemaGenerator_prototype_column'>patio.SchemaGenerator#column</a>
for the available options.

You can also pass an array of column names for creating composite foreign
keys. In this case, it will assume the columns exists and will only add
the constraint.

NOTE: If you need to add a foreign key constraint to a single existing column
use the composite key syntax even if it is only one column.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;albums&quot;, function(){
  this.addForeignKey(&quot;artist_id&quot;, &quot;table&quot;);
         //=&gt;ADD COLUMN artist_id integer REFERENCES table
  this.addForeignKey([&quot;name&quot;], &quot;table&quot;)
         //=&gt;ADD FOREIGN KEY (name) REFERENCES table
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,table,opts){
   opts = opts;
   if (comb.isArray(name)) {
       return this.__addCompositeForeignKey(name, table, opts);
   } else {
       return this.addColumn(name, &quot;integer&quot;, comb.merge({table:table}, opts));
   }
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addFullTextIndex"></a>
    <h3>
        addFullTextIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a full text index on the given columns to the DDL for the table.
See @{link patio.SchemaGenerator#index} for available options.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   return this.addIndex(columns, comb.merge({type:&quot;fullText&quot;}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addIndex"></a>
    <h3>
        addIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add an index on the given columns to the DDL for the table.  See
<a href='#patio_SchemaGenerator_prototype_index'>patio.SchemaGenerator#index</a> for available options.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;table&quot;, function(){
  this.addIndex(&quot;artist_id&quot;);
         //=&gt; CREATE INDEX table_artist_id_index ON table (artist_id)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   this.operations.push(comb.merge({op:&quot;addIndex&quot;, columns:comb.array.toArray(columns)}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addPrimaryKey"></a>
    <h3>
        addPrimaryKey
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a primary key to the DDL for the table.  See <a href='#patio_SchemaGenerator_prototype_column'>patio.SchemaGenerator#column</a>
for the available options.  Like <a href='#patio_ALterTableGenerator_prototype_addForeignKey'>patio.ALterTableGenerator#addForeignKey</a>, if you specify
the column name as an array, it just creates a constraint:

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;albums&quot;, function(){
     this.addPrimaryKey(&quot;id&quot;);
          //=&gt; ADD COLUMN id serial PRIMARY KEY
     this.addPrimaryKey([&quot;artist_id&quot;, &quot;name&quot;])
         //=&gt;ADD PRIMARY KEY (artist_id, name)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,opts){
   opts = opts || {};
   if (comb.isArray(name)) {
       return this.__addCompositePrimaryKey(name, opts);
   } else {
       opts = comb.merge({}, this.db.serialPrimaryKeyOptions, opts);
       delete opts.type;
       return this.addColumn(name, &quot;integer&quot;, opts);
   }
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addSpatialIndex"></a>
    <h3>
        addSpatialIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a spatial index on the given columns to the DDL for the table.
See <a href='#patio_SchemaGenerator_prototype_index'>patio.SchemaGenerator#index</a> for available options.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   this.addIndex(columns, comb.merge({}, {type:&quot;spatial&quot;}, opts))
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_addUniqueConstraint"></a>
    <h3>
        addUniqueConstraint
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a unique constraint to the given column(s).
See <a href='#patio_SchemaGenerator_prototype_constraint'>patio.SchemaGenerator#constraint</a>.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;test&quot;, function(){
  this.addUniqueConstraint(&quot;name&quot;);
     //=&gt; ADD UNIQUE (name)
  this.addUniqueConstraint(&quot;name&quot;, {name : &quot;uniqueName});
     //=&gt; ADD CONSTRAINT uniqueName UNIQUE (name)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   this.operations.push(comb.merge({op:&quot;addConstraint&quot;, type:&quot;unique&quot;, columns:comb.array.toArray(columns)}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_dropColumn"></a>
    <h3>
        dropColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Remove a column from the DDL for the table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;albums&quot;, function(){
  this.dropColumn(&quot;artist_id&quot;);
     //=&gt;DROP COLUMN artist_id
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the column to drop.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   this.operations.push({op:&quot;dropColumn&quot;, name:name});
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_dropConstraint"></a>
    <h3>
        dropConstraint
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Remove a constraint from the DDL for the table.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;test&quot;, function(){
     this.dropConstraint(&quot;constraint_name&quot;);
         //=&gt;DROP CONSTRAINT constraint_name
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the constraint to drop.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   this.operations.push({op:&quot;dropConstraint&quot;, name:name});
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_dropIndex"></a>
    <h3>
        dropIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Remove an index from the DDL for the table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;albums&quot;, function(){
  this.dropIndex(&quot;artist_id&quot;)
     //=&gt;DROP INDEX table_artist_id_index
  this.dropIndex([&quot;a&quot;, &quot;b&quot;])
     //=&gt;DROP INDEX table_a_b_index
  this.dropIndex([&quot;a&quot;, &quot;b&quot;], {name : &quot;foo&quot;})
         //=&gt;DROP INDEX foo
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   this.operations.push(comb.merge({op:&quot;dropIndex&quot;, columns:comb.array.toArray(columns)}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_renameColumn"></a>
    <h3>
        renameColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Modify a column's name in the DDL for the table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;artist&quot;, function(){
     this.renameColumn(&quot;name&quot;, &quot;artistName&quot;);
         //=&gt; RENAME COLUMN name TO artist_name
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>newName</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,newName,opts){
   opts = opts || {};
   this.operations.push(comb.merge({op:&quot;renameColumn&quot;, name:name, newName:newName}, opts));
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_setAllowNull"></a>
    <h3>
        setAllowNull
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Modify a column's NOT NULL constraint.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;artist&quot;, function(){
  this.setColumnAllowNull(&quot;artist_name&quot;, false);
     //=&gt; ALTER COLUMN artist_name SET NOT NULL
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>allowNull</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,allowNull){
   this.operations.push({op:&quot;setColumnNull&quot;, name:name, &quot;null&quot;:allowNull});
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_setColumnDefault"></a>
    <h3>
        setColumnDefault
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Modify a column's default value in the DDL for the table.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;artist&quot;, function(){
     //=&gt;this.setColumnDefault(&quot;artist_name&quot;, &quot;a&quot;);
         //=&gt; ALTER COLUMN artist_name SET DEFAULT &#x27;a&#x27;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>def</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,def){
   this.operations.push({op:&quot;setColumnDefault&quot;, name:name, &quot;default&quot;:def});
           
}
    </pre>
    


  
    <a name="patio_AlterTableGenerator_prototype_setColumnType"></a>
    <h3>
        setColumnType
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Modify a column's type in the DDL for the table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.alterTable(&quot;artist&quot;, function(){
  this.setColumnType(&quot;artist_name&quot;, &#x27;char(10)&#x27;);
     //=&gt; ALTER COLUMN artist_name TYPE char(10)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>type</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,type,opts){
   opts = opts || {}
   this.operations.push(comb.merge({op:&quot;setColumnType&quot;, name:name, type:type}, opts));
           
}
    </pre>
    


  

    <a name="patio_AssociationError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.AssociationError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_AssociationError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is an error when loading/creating/deleteing an association.</p>
    

    

    
    

    <a name="patio_AssociationError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Association error : &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_ConnectionPool"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.ConnectionPool
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_ConnectionPool_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_ConnectionPool_prototype___checkQueries">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __checkQueries

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_closeConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                closeConnection

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_createConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createConnection

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_endAll">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                endAll

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_getConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                getConnection

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_removeConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                removeConnection

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_returnConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                returnConnection

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_returnObject">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                returnObject

                                </a></li>
                                
                                <li><a href="#patio_ConnectionPool_prototype_validate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                validate

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
ConnectionPool object used internall by the <a href='#patio_Database'>patio.Database</a> class;
</p>
    

    

    
    

    <a name="patio_ConnectionPool_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined ConnectionPool.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>options</em>  : </li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (options){
   options = options || {};
   if (!options.createConnection || !comb.isFunction(options.createConnection)) {
       throw &quot;patio.adapters.clients.ConnectionPool : create connection CB required.&quot;;
   }
   if (!options.closeConnection || !comb.isFunction(options.closeConnection)) {
       throw &quot;patio.adapters.clients.ConnectionPool : close connection CB required.&quot;;
   }
   options.minObjects = parseInt(options.minConnections || 0, 10);
   options.maxObjects = parseInt(options.maxConnections || 10, 10);
   this.__deferredQueue = new comb.collections.Queue();
   this._options = options;
   this.__createConnectionCB = options.createConnection;
   this.__closeConnectionCB = options.closeConnection;
   this.__validateConnectionCB = options.validateConnection;
   this._super(arguments);
           
}
            </pre>
      
    

  
  
    <a name="patio_ConnectionPool_prototype___checkQueries"></a>
    <h3>
        __checkQueries
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Checks all deferred connection requests.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var fc = this.freeCount, def, defQueue = this.__deferredQueue;
   while (fc-- &gt;= 0 &amp;&amp; defQueue.count) {
       def = defQueue.dequeue();
       var conn = this.getObject();
       if (conn) {
           def.callback(conn);
       } else {
           //we didnt get a conneciton so assume we&#x27;re out.
           break;
       }
       fc--;
   }
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_closeConnection"></a>
    <h3>
        closeConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Override to implement close connection functionality;
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>conn</em>  : the connection to close;</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back when the connection is closed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (conn){
   return this.__closeConnectionCB(conn);
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_createConnection"></a>
    <h3>
        createConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Override to create connections to insert into this ConnectionPool.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return  this.__createConnectionCB(this._options);
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_endAll"></a>
    <h3>
        endAll
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Override to implement the closing of all connections.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called when all connections are closed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   this.__ending = true;
   var conn, fQueue = this.__freeObjects, count = this.count, ps = [];
   while ((conn = this.__freeObjects.dequeue()) != undefined) {
       ps.push(this.closeConnection(conn));
   }
   var inUse = this.__inUseObjects;
   for (var i = inUse.length - 1; i &gt;= 0; i--) {
       ps.push(this.closeConnection(inUse[i]));
   }
   this.__inUseObjects.length = 0;
   var pls = new comb.PromiseList(ps);
   return pls;
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_getConnection"></a>
    <h3>
        getConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Performs a query on one of the connection in this Pool.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> A promise to called back with a connection.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ret = new comb.Promise();
   //todo override getObject to make async so creating a connetion can execute setup sql
   var conn = this.getObject();
   if (!conn) {
       //we need to deffer it
       this.__deferredQueue.enqueue(ret);
   } else {
       ret.callback(conn);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_removeConnection"></a>
    <h3>
        removeConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Removes a connection from the pool.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>conn</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (conn){
   this.closeConnection(conn);
   return this.removeObject(conn);
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_returnConnection"></a>
    <h3>
        returnConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Return a connection to the pool.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>connection</em>  : the connection to return.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>*</code> an adapter specific connection.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (connection){
   this.returnObject(connection);
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_returnObject"></a>
    <h3>
        returnObject
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Override comb.collections.Pool to allow async validation to allow
pools to do any calls to reset a connection if it needs to be done.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : </li>
    
        <li> <em>connection</em> <code>*</code> : the connection to return.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   if (this.count &lt;= this.__maxObjects) {
       this.validate(obj).then(comb.hitch(this, function(valid){
           if (valid) {
               this.__freeObjects.enqueue(obj);
               var index;
               if ((index = this.__inUseObjects.indexOf(obj)) &gt; -1) {
                   this.__inUseObjects.splice(index, 1);
               }
               this.__checkQueries();
           } else {
               this.removeObject(obj);
           }
       }));
   } else {
       this.removeObject(obj);
   }
           
}
    </pre>
    


  
    <a name="patio_ConnectionPool_prototype_validate"></a>
    <h3>
        validate
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined ConnectionPool.js</em>

<p>
Override to provide any additional validation. By default the promise is called back with true.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>conn</em>  : </li>
    
        <li> <em>connection</em> <code>*</code> : the conneciton to validate.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back with a valid or invalid state.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (conn){
   if (!this.__validateConnectionCB) {
       var ret = new comb.Promise();
       ret.callback(true);
       return ret;
   } else {
       return this.__validateConnectionCB();
   }
           
}
    </pre>
    


  

    <a name="patio_Database"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.Database
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_Database_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_Database_instanceProperties">Instance Properties</a></li>
                        
                        
                        <li><a href="#patio_Database_staticProperties">Static Properties</a></li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_Database_connect">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                connect
                                </a></li>
                                
                                <li><a href="#patio_Database_logDebug">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logDebug
                                </a></li>
                                
                                <li><a href="#patio_Database_logError">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logError
                                </a></li>
                                
                                <li><a href="#patio_Database_logFatal">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logFatal
                                </a></li>
                                
                                <li><a href="#patio_Database_logInfo">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logInfo
                                </a></li>
                                
                                <li><a href="#patio_Database_logTrace">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logTrace
                                </a></li>
                                
                                <li><a href="#patio_Database_logWarn">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logWarn
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_Database_prototype___alterTableSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __alterTableSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___alterTableSqlList">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __alterTableSqlList

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___columnDefinitionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __columnDefinitionSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___columnListSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __columnListSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___columnReferencesColumnConstraintSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __columnReferencesColumnConstraintSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___columnReferencesSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __columnReferencesSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___columnReferencesTableConstraintSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __columnReferencesTableConstraintSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___constraintDefinitionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __constraintDefinitionSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___createTableFromGenerator">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __createTableFromGenerator

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___createTableIndexesFromGenerator">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __createTableIndexesFromGenerator

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___createTableSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __createTableSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___defaultIndexName">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __defaultIndexName

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___dropIndexSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __dropIndexSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___dropTableSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __dropTableSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___filterExpr">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __filterExpr

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___indexDefinitionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __indexDefinitionSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___indexSqlList">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __indexSqlList

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___onDeleteClause">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __onDeleteClause

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___onUpdateClause">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __onUpdateClause

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___quoteIdentifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __quoteIdentifier

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___quoteSchemaTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __quoteSchemaTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___renameTableSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __renameTableSql

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___resetSchemaUtilityDataset">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __resetSchemaUtilityDataset

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___schemaAndTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __schemaAndTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGeneric">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGeneric

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericBlob">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericBlob

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericBoolean">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericBoolean

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericDate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericDate

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericDateTime">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericDateTime

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericDecimal">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericDecimal

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericFloat">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericFloat

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericNumeric">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericNumeric

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericString

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericTime">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericTime

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericTimestamp">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericTimestamp

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralGenericYear">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralGenericYear

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype___typeLiteralSpecific">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __typeLiteralSpecific

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype__schemaAutoincrementingPrimaryKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _schemaAutoincrementingPrimaryKey

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_addColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addColumn

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_addIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addIndex

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_alreadyInTransaction">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                alreadyInTransaction

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_alterTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                alterTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_castTypeLiteral">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                castTypeLiteral

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_closeConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                closeConnection

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_createConnection">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createConnection

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_createOrReplaceView">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createOrReplaceView

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_createTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_createTableUnlessExists">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createTableUnlessExists

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_createView">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                createView

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_dropColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropColumn

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_dropIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropIndex

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_dropTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_dropView">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dropView

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_execute">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                execute

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_executeDdl">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                executeDdl

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_executeDui">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                executeDui

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_executeInsert">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                executeInsert

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_fetch">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                fetch

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_forceCreateTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                forceCreateTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_forceDropTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                forceDropTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_from">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                from

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_get">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                get

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_indexes">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                indexes

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_literal">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                literal

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_logDebug">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logDebug

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_logError">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logError

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_logFatal">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logFatal

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_logInfo">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logInfo

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_logTrace">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logTrace

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_logWarn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                logWarn

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_removeCachedSchema">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                removeCachedSchema

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_renameColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                renameColumn

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_renameTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                renameTable

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_run">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                run

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_schema">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                schema

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_schemaColumnType">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                schemaColumnType

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_select">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                select

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_setColumnDefault">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setColumnDefault

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_setColumnType">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setColumnType

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_tableExists">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                tableExists

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_tables">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                tables

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_transaction">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                transaction

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_typeLiteral">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                typeLiteral

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_typecastValue">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                typecastValue

                                </a></li>
                                
                                <li><a href="#patio_Database_prototype_validate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                validate

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
A Database object represents a virtual connection to a database.
The Database class is meant to be subclassed by database adapters in order
to provide the functionality needed for executing queries.

</p>
    

    

    
        <a name="patio_Database_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>AUTOINCREMENT</em></td><td>property</td><td><code>'AUTOINCREMENT'</code></td><td>
Default  AUTO INCREMENT SQL
         </td><tr><tr><td><em>CASCADE</em></td><td>property</td><td><code>'CASCADE'</code></td><td>
Default  CASCACDE SQL
         </td><tr><tr><td><em>COMMA_SEPARATOR</em></td><td>property</td><td><code>'</code></td><td>
Default comma
         </td><tr><tr><td><em>DATABASES</em></td><td>patio.Database[]</td><td><code>DATABASES</code></td><td>
A list of currently connected Databases.
</td><tr><tr><td><em>NOT_NULL</em></td><td>property</td><td><code>' NOT NULL'</code></td><td>
Default  NOT NULL SQL
         </td><tr><tr><td><em>NO_ACTION</em></td><td>property</td><td><code>'NO ACTION'</code></td><td>
Default  NO ACTION SQL
         </td><tr><tr><td><em>NULL</em></td><td>property</td><td><code>' NULL'</code></td><td>
Default NULL SQL
         </td><tr><tr><td><em>PRIMARY_KEY</em></td><td>property</td><td><code>' PRIMARY KEY'</code></td><td>
Default  PRIMARY KEY SQL
         </td><tr><tr><td><em>RESTRICT</em></td><td>property</td><td><code>'RESTRICT'</code></td><td>
Default  RESTRICT SQL
         </td><tr><tr><td><em>SET_DEFAULT</em></td><td>property</td><td><code>'SET DEFAULT'</code></td><td>
Default  SET DEFAULT SQL
         </td><tr><tr><td><em>SET_NULL</em></td><td>property</td><td><code>'SET NULL'</code></td><td>
Default  SET NULL SQL
         </td><tr><tr><td><em>TEMPORARY</em></td><td>property</td><td><code>'TEMPORARY '</code></td><td>
Default  TEMPORARY SQL
         </td><tr><tr><td><em>UNDERSCORE</em></td><td>property</td><td><code>'_'</code></td><td>
Default  UNDERSCORE SQL, used in index creation.
         </td><tr><tr><td><em>UNIQUE</em></td><td>property</td><td><code>' UNIQUE'</code></td><td>
Default  UNIQUE SQL
         </td><tr><tr><td><em>UNSIGNED</em></td><td>property</td><td><code>' UNSIGNED'</code></td><td>
Default  UNSIGNED SQL
         </td><tr><tr><td><em>identifierInputMethod</em></td><td>String</td><td><code>function (){
   return this.__identifierInputMethod;
         
}</code></td><td>
The String or comb method to use transform identifiers with when
they are sent to database. See <a href='#patio_prototype_identifierInputMethod'>patio#identifierInputMethod</a>

</td><tr><tr><td><em>identifierOutputMethod</em></td><td>String</td><td><code>function (){
   return this.__identifierOutputMethod;
         
}</code></td><td>
The String or comb method to use transform identifiers with when
they are retrieved from database. See <a href='#patio_prototype_identifierOutputMethod'>patio#identifierOutputMethod</a>

</td><tr><tr><td><em>logger</em></td><td>function</td><td><code>function (){
   return LOGGER;
               
}</code></td><td>
The "patio.Database" logger.
</td><tr><tr><td><em>quoteIdentifiers</em></td><td>Boolean</td><td><code>function (){
   return this.__quoteIdentifiers;
         
}</code></td><td>
Boolean of whether or not to quote identifiers before sending
then to the database. See <a href='#patio_prototype_quoteIdentifiers'>patio#quoteIdentifiers</a>

</td><tr></table>
    
    
        <a name="patio_Database_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>SQL_BEGIN</td><td>property</td><td><code>'BEGIN'</code></td><td>
The <b>BEGIN</b> SQL fragment used to signify the start of a transaciton.
         </td><tr><tr><td>SQL_COMMIT</td><td>property</td><td><code>'COMMIT'</code></td><td>
The <b>COMMIT</b> SQL fragment used to signify the end of a transaction and the final commit.
         </td><tr><tr><td>SQL_RELEASE_SAVEPOINT</td><td>property</td><td><code>'RELEASE SAVEPOINT autopoint_%d'</code></td><td>
The <b>RELEASE SAVEPOINT</b> SQL fragment used by trasactions when using save points.
The adapter should override this SQL fragment if the adapters SQL is different.
<p>
     <b>This fragment will not be used if <a href='#patio_Database_prototype_supportsSavepoints'>patio.Database#supportsSavepoints</a> is false.</b>
</p>
         </td><tr><tr><td>SQL_ROLLBACK</td><td>property</td><td><code>'ROLLBACK'</code></td><td>
The <b>ROLLBACK</b> SQL fragment used to rollback a database transaction.
This should be overrode by adapters if the SQL for the adapters
database is different.
         </td><tr><tr><td>SQL_ROLLBACK_TO_SAVEPOINT</td><td>property</td><td><code>'ROLLBACK TO SAVEPOINT autopoint_%d'</code></td><td>
The <b>ROLLBACK TO SAVEPOINT</b> SQL fragment used to rollback a database transaction
to a particular save point.
This should be overrode by adapters if the SQL for the adapters
database is different.

<p>
     <b>This fragment will not be used if <a href='#patio_Database_prototype_supportsSavepoints'>patio.Database#supportsSavepoints</a> is false.</b>
</p>
         </td><tr><tr><td>SQL_SAVEPOINT</td><td>property</td><td><code>'SAVEPOINT autopoint_%d'</code></td><td>
The <b>SAVEPOINT</b> SQL fragment used for creating a save point in a
database transaction.
<p>
     <b>This fragment will not be used if <a href='#patio_Database_prototype_supportsSavepoints'>patio.Database#supportsSavepoints</a> is false.</b>
</p>
         </td><tr><tr><td>TRANSACTION_ISOLATION_LEVELS</td><td>property</td><td><code>{
            uncommitted:'READ UNCOMMITTED',
            committed:'READ COMMITTED',
            repeatable:'REPEATABLE READ',
            serializable:'SERIALIZABLE'
        }</code></td><td>
Object containing different database transaction isolation levels.
This object is used to look up the proper SQL when starting a new transaction
and setting the isolation level in the options.
</td><tr><tr><td>__schemaUtiltyDataset</td><td>function</td><td><code>function (){
   this.__schemaUtiltyDs = this.__schemaUtiltyDs || this.dataset;
   return this.__schemaUtiltyDs;
               
}</code></td><td>
</td><tr><tr><td>autoIncrementSql</td><td>function</td><td><code>function (){
   return this._static.AUTOINCREMENT;
               
}</code></td><td>
</td><tr><tr><td>beginTransactionSql</td><td>String</td><td><code>function (){
   return this.SQL_BEGIN;
               
}</code></td><td>
SQL to BEGIN a transaction.
See <a href='#patio_Database_prototype_SQL_BEGIN'>patio.Database#SQL_BEGIN</a> for default,
</td><tr><tr><td>commitTransactionSql</td><td>String</td><td><code>function (){
   return this.SQL_COMMIT;
               
}</code></td><td>
SQL to COMMIT a transaction.
See <a href='#patio_Database_prototype_SQL_COMMIT'>patio.Database#SQL_COMMIT</a> for default,
</td><tr><tr><td>connectionExecuteMethod</td><td>property</td><td><code>"execute"</code></td><td>
The method name to invoke on a connection. The method name
should be overrode by an adapter if the method to execute
a query is different for the adapter specific connection class.
         </td><tr><tr><td>connectionPoolDefaultOptions</td><td>Object</td><td><code>function (){
   return {};
         
}</code></td><td>
The default options for the connection pool.
</td><tr><tr><td>dataset</td><td></td><td></td><td>returns an empty adapter specific <a href='#patio_Dataset'>patio.Dataset</a> that can be used to query the <a href='#patio_Database'>patio.Database</a> with.</td><tr><tr><td>defaultSchemaDefault</td><td>{String|patio.sql.Identifier}</td><td><code>function (){
   return null;
         
}</code></td><td>
Default schema to use. This is generally null but may be overridden by an adapter.
</td><tr><tr><td>identifierInputMethod</td><td>String</td><td><code>function (){
   return this.__identifierInputMethod;
         
}</code></td><td>
The String or comb method to use transform identifiers with when
sending identifiers to the database. If this property is undefined then
<a href='#patio_Database_prototype_identifierInputMethodDefault'>patio.Database#identifierInputMethodDefault</a> will be used.

</td><tr><tr><td>identifierInputMethodDefault</td><td>String</td><td><code>
toUpperCase
       </code></td><td>
The default String or comb method to use transform identifiers with when
sending identifiers to the database.
</td><tr><tr><td>identifierOutputMethod</td><td>String</td><td><code>function (){
   return this.__identifierOutputMethod;
         
}</code></td><td>
The String or comb method to use transform identifiers with when
they are retrieved from database. If this property is undefined then
<a href='#patio_Database_prototype_identifierOutputMethodDefault'>patio.Database#identifierOutputMethodDefault</a> will be used.

</td><tr><tr><td>identifierOutputMethodDefault</td><td>String</td><td><code>
toLowerCase
       </code></td><td>
The default String or comb method to use transform identifiers with when
they are retrieved from the database.
</td><tr><tr><td>inputIdentifierFunc</td><td>Function</td><td><code>function (){
   return comb.hitch(this.dataset, this.dataset.inputIdentifier);
               
}</code></td><td>
Return a function for the dataset's <a href='#patio_Dataset_prototype_inputIdentifierMethod'>patio.Dataset#inputIdentifierMethod</a>.
Used in metadata parsing to make sure the returned information is in the
correct format.

</td><tr><tr><td>logger</td><td>function</td><td><code>function (){
   return LOGGER;
               
}</code></td><td>
The "patio.Database" logger.
</td><tr><tr><td>metadataDataset</td><td>patio.Dataset</td><td><code>function (){
   if (this.__metadataDataset) {
       return this.__metadataDataset;
   }
   var ds = this.dataset;
   ds.identifierInputMethod = this.identifierInputMethod;
   ds.identifierOutputMethod = this.identifierOutputMethod;
   this.__metadataDataset = ds;
   return ds;
               
}</code></td><td>
Return a dataset that uses the default identifier input and output methods
for this database.  Used when parsing metadata so that column are
returned as expected.

</td><tr><tr><td>outputIdentifierFunc</td><td>Function</td><td><code>function (){
   return comb.hitch(this.dataset, this.dataset.outputIdentifier);
               
}</code></td><td>
Return a function for the dataset's <a href='#patio_Dataset_prototype_outputIdentifierMethod'>patio.Dataset#outputIdentifierMethod</a>.
Used in metadata parsing to make sure the returned information is in the
correct format.

</td><tr><tr><td>quoteIdentifiers</td><td>Boolean</td><td><code>
true
       </code></td><td>
Boolean of whether or not to quote identifiers before sending
then to the database. If this property is undefined then
then <a href='#patio_Database_prototype_quoteIdentifiersDefault'>patio.Database#quoteIdentifiersDefault</a> will be used.

</td><tr><tr><td>quoteIdentifiersDefault</td><td>Boolean</td><td><code>
true
       </code></td><td>
Default boolean of whether or not to quote identifiers before sending
then to the database.
</td><tr><tr><td>rollbackTransactionSql</td><td>String</td><td><code>function (){
   return this.SQL_ROLLBACK;
               
}</code></td><td>
SQL to ROLLBACK a transaction.
See <a href='#patio_Database_prototype_SQL_ROLLBACK'>patio.Database#SQL_ROLLBACK</a> for default,
</td><tr><tr><td>serialPrimaryKeyOptions</td><td>Object</td><td><code>
{primaryKey : true, type : "integer", autoIncrement : true}
</code></td><td>
Default serial primary key options, used by the table creation
code.
</td><tr><tr><td>supportsPreparedTransactions</td><td>Boolean</td><td><code>
false
       </code></td><td>
Whether the database and adapter support prepared transactions
(two-phase commit)
</td><tr><tr><td>supportsSavepoints</td><td>Boolean</td><td><code>
false
       </code></td><td>
Whether the database and adapter support savepoints.
</td><tr><tr><td>supportsTransactionIsolationLevels</td><td>Boolean</td><td><code>
false
</code></td><td>
Whether the database and adapter support transaction isolation levels.

</td><tr><tr><td>temporaryTableSql</td><td>function</td><td><code>function (){
   return this._static.TEMPORARY;
               
}</code></td><td>
</td><tr><tr><td>uri</td><td></td><td></td><td>A database URI used to create the database connection. This property is available even if an object was used to create the database connection.</td><tr></table>
    

    <a name="patio_Database_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined database/index.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>opts</em>  : options used to create the database</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (opts){
   opts = opts || {};
   !patio &amp;&amp; (patio = require(&quot;../index&quot;));
   this.patio = patio;
   this._super(arguments, [opts]);
   opts = comb.merge(this.connectionPoolDefaultOptions, opts);
   this.schemas = {};
   this.type = opts.type;
   this.defaultSchema = opts.defaultSchema || this.defaultSchemaDefault;
   this.preparedStatements = {};
   this.opts = opts;
   this.pool = ConnectionPool.getPool(opts, hitch(this, &quot;createConnection&quot;), hitch(this, &quot;closeConnection&quot;), hitch(this, &quot;validate&quot;));
           
}
            </pre>
      
    

  
    <a name="patio_Database_connect"></a>
    <h3>
        connect
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/connect.js</em>

<p>
Creates a connection to a Database see <a href='#patio_prototype_createConnection'>patio#createConnection</a>.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>connectionString</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (connectionString,opts){
   opts = opts || {};
   if (comb.isString(connectionString)) {
       var url = URL.parse(connectionString, true);
       if (url.auth) {
           var parts = url.auth.split(&quot;:&quot;);
           !opts.user &amp;&amp; (opts.user = parts[0]);
           !opts.password &amp;&amp; (opts.password = parts[1]);
       }
       opts.type = url.protocol.replace(&quot;:&quot;, &quot;&quot;);
       opts.host = url.hostname;
       if (url.pathname) {
           var path = url.pathname;
           var pathParts = path.split(&quot;/&quot;).slice(1);
           if (pathParts.length &gt;= 1) {
               opts.database = pathParts[0];
           }
       }
       opts = comb.merge(opts, url.query, {uri:connectionString});
   } else {
       opts = comb.merge({}, connectionString, opts);
   }
   if (opts &amp;&amp; comb.isHash(opts) &amp;&amp; (opts.adapter || opts.type)) {
       var type = (opts.type = opts.adapter || opts.type);
       var Adapter = ADAPTERS[type];
       if (Adapter) {
           var adapter = new Adapter(opts);
           this.DATABASES.push(adapter);
           return adapter;
       } else {
           throw DatabaseError(type + &quot; adapter was not found&quot;)
       }
   } else {
       throw new DatabaseError(&quot;Options required when connecting.&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_logDebug"></a>
    <h3>
        logDebug
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a DEBUG level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isDebug) {
       LOGGER.debug.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_logError"></a>
    <h3>
        logError
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a ERROR level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isError) {
       LOGGER.error.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_logFatal"></a>
    <h3>
        logFatal
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a FATAL level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isFatal) {
       LOGGER.fatal.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_logInfo"></a>
    <h3>
        logInfo
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs an INFO level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isInfo) {
       LOGGER.info.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_logTrace"></a>
    <h3>
        logTrace
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a TRACE level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isTrace) {
       LOGGER.trace.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_logWarn"></a>
    <h3>
        logWarn
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a WARN level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isWarn) {
       LOGGER.warn.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
  
    <a name="patio_Database_prototype___alterTableSql"></a>
    <h3>
        __alterTableSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>op</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,op){
   var ret = new comb.Promise();
   var quotedName = op.name ? this.__quoteIdentifier(op.name) : null;
   var alterTableOp = null;
   switch (op.op) {
       case &quot;addColumn&quot;:
           alterTableOp = format(&quot;ADD COLUMN %s&quot;, this.__columnDefinitionSql(op));
           break;
       case &quot;dropColumn&quot;:
           alterTableOp = format(&quot;DROP COLUMN %s&quot;, quotedName);
           break;
       case &quot;renameColumn&quot;:
           alterTableOp = format(&quot;RENAME COLUMN %s TO %s&quot;, quotedName, this.__quoteIdentifier(op.newName));
           break;
       case &quot;setColumnType&quot;:
           alterTableOp = format(&quot;ALTER COLUMN %s TYPE %s&quot;, quotedName, this.typeLiteral(op));
           break;
       case &quot;setColumnDefault&quot;:
           alterTableOp = format(&quot;ALTER COLUMN %s SET DEFAULT %s&quot;, quotedName, this.literal(op[&quot;default&quot;]));
           break;
       case &quot;setColumnNull&quot;:
           alterTableOp = format(&quot;ALTER COLUMN %s %s NOT NULL&quot;, quotedName, op.null ? &quot;DROP&quot; : &quot;SET&quot;);
           break;
       case &quot;addIndex&quot;:
           return ret.callback(this.__indexDefinitionSql(table, op));
           break;
       case &quot;dropIndex&quot;:
           return ret.callback(this.__dropIndexSql(table, op));
           break;
       case &quot;addConstraint&quot;:
           alterTableOp = format(&quot;ADD %s&quot;, this.__constraintDefinitionSql(op));
           break;
       case &quot;dropConstraint&quot;:
           alterTableOp = format(&quot;DROP CONSTRAINT %s&quot;, quotedName);
           break;
       default :
           throw new DatabaseError(&quot;Invalid altertable operator&quot;);
   }
   return ret.callback(format(&quot;ALTER TABLE %s %s&quot;, this.__quoteSchemaTable(table), alterTableOp));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___alterTableSqlList"></a>
    <h3>
        __alterTableSqlList
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>operations</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,operations){
   return new PromiseList(operations.map(hitch(this, &quot;__alterTableSql&quot;, table)));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___columnDefinitionSql"></a>
    <h3>
        __columnDefinitionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   var sql = format(&quot;%s %s&quot;, this.__quoteIdentifier(column.name), this.typeLiteral(column));
   column.unique &amp;&amp; (sql += this._static.UNIQUE);
   (column.allowNull === false || column.null == false) &amp;&amp; (sql += this._static.NOT_NULL);
   (column.allowNull === true || column.null == true) &amp;&amp; (sql += this._static.NULL);
   !comb.isUndefined(column[&quot;default&quot;]) &amp;&amp; (sql += format(&quot; DEFAULT %s&quot;, this.literal(column[&quot;default&quot;])));
   column.primaryKey &amp;&amp; (sql += this._static.PRIMARY_KEY);
   column.autoIncrement &amp;&amp; (sql += &quot; &quot; + this.autoIncrementSql);
   column.table &amp;&amp; (sql += this.__columnReferencesColumnConstraintSql(column));
   return sql;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___columnListSql"></a>
    <h3>
        __columnListSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>generator</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (generator){
   return generator.columns.map(hitch(this, &quot;__columnDefinitionSql&quot;)).concat(generator.constraints.map(hitch(this, &quot;__constraintDefinitionSql&quot;))).join(this._static.COMMA_SEPARATOR);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___columnReferencesColumnConstraintSql"></a>
    <h3>
        __columnReferencesColumnConstraintSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return this.__columnReferencesSql(column);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___columnReferencesSql"></a>
    <h3>
        __columnReferencesSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   var sql = format(&quot; REFERENCES %s&quot;, this.__quoteSchemaTable(column.table));
   column.key &amp;&amp; (sql += format(&quot;(%s)&quot;, array.toArray(column.key).map(this.__quoteIdentifier, this).join(this._static.COMMA_SEPARATOR)));
   column.onDelete &amp;&amp; (sql += format(&quot; ON DELETE %s&quot;, this.__onDeleteClause(column.onDelete)));
   column.onUpdate &amp;&amp; (sql += format(&quot; ON UPDATE %s&quot;, this.__onUpdateClause(column.onUpdate)));
   column.deferrable &amp;&amp; (sql += &quot; DEFERRABLE INITIALLY DEFERRED&quot;);
   return sql;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___columnReferencesTableConstraintSql"></a>
    <h3>
        __columnReferencesTableConstraintSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>constraint</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (constraint){
   return format(&quot;FOREIGN KEY %s%s&quot;, this.literal(constraint.columns.map(function (c) {
       return comb.isString(c) ? sql.stringToIdentifier(c) : c;
   })), this.__columnReferencesSql(constraint));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___constraintDefinitionSql"></a>
    <h3>
        __constraintDefinitionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>constraint</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (constraint){
   var ret = constraint.name ? format(&quot;CONSTRAINT %s &quot;, this.__quoteIdentifier(constraint.name)) : &quot;&quot;;
   switch (constraint.type) {
       case &quot;check&quot;:
           var check = constraint.check;
           ret += format(&quot;CHECK %s&quot;, this.__filterExpr(comb.isArray(check) &amp;&amp; check.length == 1 ? check[0] : check));
           break;
       case &quot;primaryKey&quot;:
           ret += format(&quot;PRIMARY KEY %s&quot;, this.literal(constraint.columns.map(function (c) {
               return comb.isString(c) ? sql.stringToIdentifier(c) : c;
           })));
           break;
       case &quot;foreignKey&quot;:
           ret += this.__columnReferencesTableConstraintSql(constraint);
           break;
       case &quot;unique&quot;:
           ret += format(&quot;UNIQUE %s&quot;, this.literal(constraint.columns.map(function (c) {
               return comb.isString(c) ? sql.stringToIdentifier(c) : c;
           })));
           break;
       default:
           throw new DatabaseError(format(&quot;Invalid constriant type %s, should be &#x27;check&#x27;, &#x27;primaryKey&#x27;, foreignKey&#x27;, or &#x27;unique&#x27;&quot;, constraint.type));
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___createTableFromGenerator"></a>
    <h3>
        __createTableFromGenerator
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>generator</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,generator,options){
   return this.executeDdl(this.__createTableSql(name, generator, options));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___createTableIndexesFromGenerator"></a>
    <h3>
        __createTableIndexesFromGenerator
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>generator</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,generator,options){
   var e = options.ignoreIndexErrors;
   var ret = new Promise();
   var promises = generator.indexes.map(function (index) {
       var ps = this.__indexSqlList(name, [index]).map(this.executeDdl, this);
       return new PromiseList(ps);
   }, this);
   if (promises.length) {
       new PromiseList(promises).then(hitch(ret, &quot;callback&quot;), hitch(ret, e ? &quot;callback&quot; : &quot;errback&quot;));
   } else {
       ret.callback();
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___createTableSql"></a>
    <h3>
        __createTableSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>generator</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,generator,options){
   return format(&quot;CREATE %sTABLE %s (%s)&quot;, options.temp ? this.temporaryTableSql : &quot;&quot;, this.__quoteSchemaTable(name), this.__columnListSql(generator));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___defaultIndexName"></a>
    <h3>
        __defaultIndexName
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>tableName</em>  : </li>
    
        <li> <em>columns</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (tableName,columns){
   var parts = this.__schemaAndTable(tableName);
   var schema = parts[0], table = parts[1];
   var index = [];
   if (schema &amp;&amp; schema != this.defaultSchema) {
       index.push(schema);
   }
   index.push(table);
   index = index.concat(columns.map(function (c) {
       return comb.isString(c) ? c : this.literal(c).replace(/\W/g, &quot;_&quot;)
   }, this));
   index.push(&quot;index&quot;);
   return index.join(this._static.UNDERSCORE);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___dropIndexSql"></a>
    <h3>
        __dropIndexSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>op</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,op){
   return format(&quot;DROP INDEX %s&quot;, this.__quoteIdentifier(op.name || this.__defaultIndexName(table, op.columns)));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___dropTableSql"></a>
    <h3>
        __dropTableSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   return format(&quot;DROP TABLE %s&quot;, this.__quoteSchemaTable(name));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___filterExpr"></a>
    <h3>
        __filterExpr
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args,block){
   var ds = this.__schemaUtiltyDataset;
   return ds.literal(ds._filterExpr.apply(ds, arguments));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___indexDefinitionSql"></a>
    <h3>
        __indexDefinitionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>tableName</em>  : </li>
    
        <li> <em>index</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (tableName,index){
   var indexName = index.name || this.__defaultIndexName(tableName, index.columns);
   if (index.type) {
       throw new DatabaseError(&quot;Index types are not supported for this database&quot;);
   } else if (index.where) {
       throw new DatabaseError(&quot;Partial indexes are not supported for this database&quot;);
   } else {
       return format(&quot;CREATE %sINDEX %s ON %s %s&quot;, index.unique ? &quot;UNIQUE &quot; : &quot;&quot;, this.__quoteIdentifier(indexName), this.__quoteSchemaTable(tableName), this.literal(index.columns.map(function (c) {
           return comb.isString(c) ? new Identifier(c) : c;
       })));
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___indexSqlList"></a>
    <h3>
        __indexSqlList
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Array of SQL DDL statements, one for each index specification,
for the given table.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>tableName</em>  : </li>
    
        <li> <em>indexes</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (tableName,indexes){
   return indexes.map(hitch(this, this.__indexDefinitionSql, tableName));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___onDeleteClause"></a>
    <h3>
        __onDeleteClause
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>action</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (action){
   return this._static[action.toUpperCase()] || this._static.NO_ACTION;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___onUpdateClause"></a>
    <h3>
        __onUpdateClause
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>action</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (action){
   return this._static[action.toUpperCase()] || this._static.NO_ACTION;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___quoteIdentifier"></a>
    <h3>
        __quoteIdentifier
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return this.__schemaUtiltyDataset.quoteIdentifier(v);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___quoteSchemaTable"></a>
    <h3>
        __quoteSchemaTable
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table){
   return this.__schemaUtiltyDataset.quoteSchemaTable(table);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___renameTableSql"></a>
    <h3>
        __renameTableSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>newName</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,newName){
   return format(&quot;ALTER TABLE %s RENAME TO %s&quot;, this.__quoteSchemaTable(name), this.__quoteSchemaTable(newName));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___resetSchemaUtilityDataset"></a>
    <h3>
        __resetSchemaUtilityDataset
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   this.__schemaUtiltyDs = null;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___schemaAndTable"></a>
    <h3>
        __schemaAndTable
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>tableName</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (tableName){
   return  this.__schemaUtiltyDataset.schemaAndTable(tableName);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGeneric"></a>
    <h3>
        __typeLiteralGeneric
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   var type = column.type;
   var meth = &quot;__typeLiteralGeneric&quot;;
   var isString = comb.isString(type);
   var proper = isString ? type.charAt(0).toUpperCase() + type.substr(1) : null;
   if (type === String || (isString &amp;&amp; type.match(/string/i))) {
       meth += &quot;String&quot;;
   } else if (type === Number || (isString &amp;&amp; type.match(/number/i))) {
       meth += &quot;Numeric&quot;;
   } else if (type === DateTime || (isString &amp;&amp; type.match(/datetime/i))) {
       meth += &quot;DateTime&quot;;
   } else if (type === Date || (isString &amp;&amp; type.match(/date/i))) {
       meth += &quot;Date&quot;;
   } else if (type === Year || (isString &amp;&amp; type.match(/year/i))) {
       meth += &quot;Year&quot;;
   } else if (type === TimeStamp || (isString &amp;&amp; type.match(/timestamp/i))) {
       meth += &quot;Timestamp&quot;;
   } else if (type === Time || (isString &amp;&amp; type.match(/time/i))) {
       meth += &quot;Time&quot;;
   } else if (type === Decimal || (isString &amp;&amp; type.match(/decimal/i))) {
       meth += &quot;Decimal&quot;;
   } else if (type === Float || (isString &amp;&amp; type.match(/float/i))) {
       meth += &quot;Float&quot;;
   } else if (type === Boolean || (isString &amp;&amp; type.match(/boolean/i))) {
       meth += &quot;Boolean&quot;;
   } else if (type === Buffer || (isString &amp;&amp; type.match(/buffer/i))) {
       meth += &quot;Blob&quot;;
   } else if(isString &amp;&amp; comb.isFunction(this[meth + proper])){
       meth += proper;
   } else {
       return this.__typeLiteralSpecific(column);
   }
   return this[meth](column);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericBlob"></a>
    <h3>
        __typeLiteralGenericBlob
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;blob&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericBoolean"></a>
    <h3>
        __typeLiteralGenericBoolean
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;boolean&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericDate"></a>
    <h3>
        __typeLiteralGenericDate
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   var type = column.type, ret = &quot;date&quot;;
   if (column.onlyTime) {
       ret = &quot;time&quot;;
   } else if (column.timeStamp) {
       ret = &quot;timestamp&quot;;
   } else if (column.dateTime) {
       ret = &quot;datetime&quot;;
   } else if (column.yearOnly) {
       ret = &quot;year&quot;;
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericDateTime"></a>
    <h3>
        __typeLiteralGenericDateTime
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;datetime&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericDecimal"></a>
    <h3>
        __typeLiteralGenericDecimal
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;double precision&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericFloat"></a>
    <h3>
        __typeLiteralGenericFloat
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;double precision&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericNumeric"></a>
    <h3>
        __typeLiteralGenericNumeric
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return column.size ? format(&quot;numeric(%s)&quot;, array.toArray(column.size).join(&#x27;, &#x27;)) : column.isInt ? &quot;integer&quot; : column.isDouble ? &quot;double precision&quot; : &quot;numeric&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericString"></a>
    <h3>
        __typeLiteralGenericString
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return column.text ? &quot;text&quot; : format(&quot;%s(%s)&quot;, column.fixed ? &quot;char&quot; : &quot;varchar&quot;, column.size || 255);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericTime"></a>
    <h3>
        __typeLiteralGenericTime
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;time&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericTimestamp"></a>
    <h3>
        __typeLiteralGenericTimestamp
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;timestamp&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralGenericYear"></a>
    <h3>
        __typeLiteralGenericYear
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return &quot;year&quot;;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype___typeLiteralSpecific"></a>
    <h3>
        __typeLiteralSpecific
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   var type = column.type;
   type = type === &quot;double&quot; ? &quot;double precision&quot; : type;
   if (type === &quot;varchar&quot;) {
       column.size = comb.isNumber(column.size) ? column.size : 255;
   }
   var elements = column.size || column.elements;
   return format(&quot;%s%s%s&quot;, type, elements ? this.literal(array.toArray(elements)) : &quot;&quot;, column.unsigned ? &quot; UNSIGNED&quot; : &quot;&quot;);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype__schemaAutoincrementingPrimaryKey"></a>
    <h3>
        _schemaAutoincrementingPrimaryKey
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>schema</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (schema){
   return !!schema.primaryKey;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_addColumn"></a>
    <h3>
        addColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Adds a column to the specified table. This method expects a column name,
a datatype and optionally a hash with additional constraints and options:

<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    addColumn call.
</p>


</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//Outside of a table
//ALTER TABLE test ADD COLUMN name text UNIQUE&#x27;
DB.addColumn(&quot;test&quot;, &quot;name&quot;, &quot;text&quot;, {unique : true});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to add the column to.</li>
    
        <li> <em>column</em>  : the name of the column to add.</li>
    
        <li> <em>type</em>  : datatype of the column</li>
    
        <li> <em>opts?</em>  : additional options that can be used when adding a column.</li>
    
        <li> <em>opts.primaryKey?</em> <code>Boolean</code> : set to true if this column is a primary key.</li>
    
        <li> <em>opts.allowNull?</em> <code>Boolean</code> : whether or not this column should allow null.</li>
    
        <li> <em>opts.unique?</em> <code>Boolean</code> : set to true to add a UNIQUE constraint to a column,</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved when the ADD COLUMN action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,column,type,opts){
   var args = argsToArray(arguments).slice(1);
   return this.alterTable(table, function () {
       this.addColumn.apply(this, args)
   });
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_addIndex"></a>
    <h3>
        addIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Adds an index to a table for the given columns

<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    addIndex call.
</p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.addIndex(&quot;test&quot;, &quot;name&quot;, {unique : true});
     //=&gt; &#x27;CREATE UNIQUE INDEX test_name_index ON test (name)&#x27;
DB.addIndex(&quot;test&quot;, [&quot;one&quot;, &quot;two&quot;]);
     //=&gt; &#x27;&#x27;CREATE INDEX test_one_two_index ON test (one, two)&#x27;&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to add the index to.</li>
    
        <li> <em>columns</em>  : the name of the column/s to create an index for.</li>
    
        <li> <em>options?</em>  : additional options that can be used when adding an index.</li>
    
        <li> <em>options.unique?</em> <code>Boolean</code> : set to true if this this index should have a UNIQUE constraint.</li>
    
        <li> <em>options.ignoreErrors?</em> <code>Boolean</code> : set to true to ignore errors.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved when the CREATE INDEX action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,columns,options){
   options = options || {};
   var ignoreErrors = options.ignoreErrors === true;
   var ret = new Promise();
   this.alterTable(table,
       function () {
           this.addIndex(columns, options)
       }).then(hitch(ret, &quot;callback&quot;), function (err) {
           if (!ignoreErrors) {
               ret.errback(err);
           } else {
               ret.callback();
           }
       });
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_alreadyInTransaction"></a>
    <h3>
        alreadyInTransaction
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Returns true if this DATABASE is currently in a transaction.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>conn</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Boolean</code> true if this dabase is currently in a transaction.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (conn,opts){
   opts = opts || {};
   return this.__transactions.indexOf(conn) != -1 &amp;&amp; (!this.supportsSavepoints || !opts.savepoint);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_alterTable"></a>
    <h3>
        alterTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
 Alters the given table with the specified block.
 <p>
     <b>NOTE:</b> The block is invoked in the scope of the table that is being altered. The block
     is also called with the table as the first argument. Within the block you must use
     <b>this</b>(If the block has not been bound to a different scope), or the table object
     that is passed in for all alter table operations. See <a href='#patio_AlterTableGenerator'>patio.AlterTableGenerator</a> for
     avaiable operations.
 </p>

 <p>
     <b>Note</b> that addColumn accepts all the options available for column
     definitions using createTable, and addIndex accepts all the options
     available for index definition.
 </p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//using the table object
  DB.alterTable(&quot;items&quot;, function(table){
     //you must use the passed in table object.
    table.addColumn(&quot;category&quot;, &quot;text&quot;, {default : &#x27;javascript&#x27;});
    table.dropColumn(&quot;category&quot;);
    table.renameColumn(&quot;cntr&quot;, &quot;counter&quot;);
    table.setColumnType(&quot;value&quot;, &quot;float&quot;);
    table.setColumnDefault(&quot;value&quot;, &quot;float&quot;);
    table.addIndex([&quot;group&quot;, &quot;category&quot;]);
    table.dropIndex [:group, :category]
  });

  //using this
   DB.alterTable(&quot;items&quot;, function(){
    this.addColumn(&quot;category&quot;, &quot;text&quot;, {default : &#x27;javascript&#x27;});
    this.dropColumn(&quot;category&quot;);
    this.renameColumn(&quot;cntr&quot;, &quot;counter&quot;);
    this.setColumnType(&quot;value&quot;, &quot;float&quot;);
    this.setColumnDefault(&quot;value&quot;, &quot;float&quot;);
    this.addIndex([&quot;group&quot;, &quot;category&quot;]);
    this.dropIndex [:group, :category]
  });

  //This will not work
  DB.alterTable(&quot;items&quot;, comb.hitch(someObject, function(){
   //This is called in the scope of someObject so this
   //will not work and will throw an error
    this.addColumn(&quot;category&quot;, &quot;text&quot;, {default : &#x27;javascript&#x27;});
  }));

   //This will work
  DB.alterTable(&quot;items&quot;, comb.hitch(someObject, function(table){
   //This is called in the scope of someObject so you must
   //use the table argument
    table.category(&quot;text&quot;, {default : &#x27;javascript&#x27;});
  }));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>generator</em>  : </li>
    
        <li> <em>block</em>  : the block to invoke for the ALTER TABLE operations</li>
    
        <li> <em>table</em> <code>String|patio.sql.Identifier</code> : to the table to perform the ALTER TABLE operations on.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once all ALTER TABLE operations have completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,generator,block){
   if (comb.isFunction(generator)) {
       block = generator;
       generator = new AlterTableGenerator(this, block);
   }
   var ret = new Promise();
   this.__alterTableSqlList(name, generator.operations).then(hitch(this, function (res) {
       var sqls = array.flatten(res.map(function (r) {
           return r[1]
       }));
       var l = sqls.length;
       var drop = hitch(this, function (i) {
           if (i &lt; l) {
               var sql = sqls[i++];
               this.executeDdl(sql).then(hitch(this, drop, i), hitch(ret, &quot;errback&quot;));
           } else {
               this.removeCachedSchema(name);
               ret.callback();
           }
       });
       drop(0);
   }));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_castTypeLiteral"></a>
    <h3>
        castTypeLiteral
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/index.js</em>

<p>
Casts the given type to a SQL type.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.castTypeLiteral(Number) //=&gt; numeric
  DB.castTypeLiteral(&quot;foo&quot;) //=&gt; foo
  DB.castTypeLiteral(String) //=&gt; varchar(255)
  DB.castTypeLiteral(Boolean) //=&gt; boolean
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : the javascript type to cast to a SQL type.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the SQL data type.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type){
   return this.typeLiteral({type:type});
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_closeConnection"></a>
    <h3>
        closeConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/connect.js</em>

<p>
This is an abstract method that should be implemented by adapters to close
a connection to the database.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>conn</em>  : the database connection to close.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (conn){
   throw new NotImplemented(&quot;Close connection must be implemented by the adapter&quot;);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_createConnection"></a>
    <h3>
        createConnection
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/connect.js</em>

<p>
This is an abstract method that should be implemented by adapters to create
a connection to the database.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options</em>  : options that are adapter specific.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options){
   throw new NotImplemented(&quot;Create connection must be implemented by the adapter&quot;);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_createOrReplaceView"></a>
    <h3>
        createOrReplaceView
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Creates a view, replacing it if it already exists:
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createOrReplaceView(&quot;cheapItems&quot;, &quot;SELECT * FROM items WHERE price &lt; 100&quot;);
     //=&gt; CREATE OR REPLACE VIEW cheapItems AS SELECT * FROM items WHERE price &lt; 100
  DB.createOrReplaceView(&quot;miscItems&quot;, DB[:items].filter({category : &#x27;misc&#x27;}));
    //=&gt; CREATE OR REPLACE VIEW miscItems AS SELECT * FROM items WHERE category = &#x27;misc&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the view to create.</li>
    
        <li> <em>source</em>  : the SQL or <a href='#patio_Dataset'>patio.Dataset</a> to use as the source of the view.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved when the CREATE OR REPLACE VIEW action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,source){
   if (comb.isInstanceOf(source, Dataset)) {
       source = source.sql;
   }
   var ret = new Promise();
   this.executeDdl(format(&quot;CREATE OR REPLACE VIEW %s AS %s&quot;, this.__quoteSchemaTable(name), source)).then(hitch(this, function () {
       this.removeCachedSchema(name);
       ret.callback();
   }), hitch(ret, &quot;callback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_createTable"></a>
    <h3>
        createTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Creates a table with the columns given in the provided block:

<p>
     <b>NOTE:</b> The block is invoked in the scope of the table that is being created. The block
     is also called with the table as the first argument. Within the block you must use
     <b>this</b>(If the block has not been bound to a different scope), or the table object
     that is passed in for all create table operations. See <a href='#patio_SchemaGenerator'>patio.SchemaGenerator</a> for
     available operations.
 </p>


</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//using the table to create the table
  DB.createTable(&quot;posts&quot;, function(table){
    table.primaryKey(&quot;id&quot;);
    table.column(&#x27;title&quot;, &quot;text&quot;);
    //you may also invoke the column name as
    //function on the table
    table.content(String);
    table.index(title);
  });

  //using this to create the table
  DB.createTable(&quot;posts&quot;, function(){
    this.primaryKey(&quot;id&quot;);
    this.column(&#x27;title&quot;, &quot;text&quot;);
    //you may also invoke the column name as
    //function on the table
    this.content(String);
    this.index(title);
  });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the table to create.</li>
    
        <li> <em>options?</em>  : an optional options object</li>
    
        <li> <em>block</em>  : the block to invoke when creating the table.</li>
    
        <li> <em>options.temp?</em> <code>Boolean</code> : set to true if this table is a TEMPORARY table.</li>
    
        <li> <em>options.ignoreIndexErrors?</em> <code>Boolean</code> : Ignore any errors when creating indexes.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved when the CREATE TABLE action is completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,block){
   if (comb.isFunction(options)) {
       block = options;
       options = {};
   }
   this.removeCachedSchema(name);
   if (comb.isInstanceOf(options, SchemaGenerator)) {
       options = {generator:options};
   }
   var generator = options.generator || new SchemaGenerator(this, block);
   var ret = new Promise();
   this.__createTableFromGenerator(name, generator, options).chain(hitch(this, &quot;__createTableIndexesFromGenerator&quot;, name, generator, options), hitch(ret, &quot;errback&quot;)).then(hitch(ret, &quot;callback&quot;), hitch(ret, &quot;errback&quot;));
   return  ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_createTableUnlessExists"></a>
    <h3>
        createTableUnlessExists
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Creates the table unless the table already exists.
<p>
     See <a href='#patio_Database_prototype_createTable'>patio.Database#createTable</a> for parameter types.
</p>
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,block){
   var ret = new Promise();
   this.tableExists(name).then(hitch(this, function (exists) {
       if (!exists) {
           this.createTable(name, options, block).then(hitch(ret, &quot;callback&quot;), hitch(ret, &quot;callback&quot;));
       } else {
           ret.callback();
       }
   }));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_createView"></a>
    <h3>
        createView
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Creates a view based on a dataset or an SQL string:
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createView(&quot;cheapItems&quot;, &quot;SELECT * FROM items WHERE price &lt; 100&quot;);
     //=&gt; CREATE VIEW cheapItems AS SELECT * FROM items WHERE price &lt; 100
  DB.createView(&quot;miscItems&quot;, DB[:items].filter({category : &#x27;misc&#x27;}));
    //=&gt; CREATE  VIEW miscItems AS SELECT * FROM items WHERE category = &#x27;misc&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the view to create.</li>
    
        <li> <em>source</em>  : the SQL or <a href='#patio_Dataset'>patio.Dataset</a> to use as the source of the view.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,source){
   if (comb.isInstanceOf(source, Dataset)) {
       source = source.sql;
   }
   return this.executeDdl(format(&quot;CREATE VIEW %s AS %s&quot;, this.__quoteSchemaTable(name), source));
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_dropColumn"></a>
    <h3>
        dropColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
 Removes a column from the specified table.
<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    dropColumn call.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.dropColumn(&quot;items&quot;, &quot;category&quot;);
         //=&gt; &#x27;ALTER TABLE items DROP COLUMN category&#x27;,
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to alter.</li>
    
        <li> <em>column</em>  : the column to drop.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the DROP COLUMN action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,column){
   column = argsToArray(arguments).slice(1);
   return this.alterTable(table, function () {
       this.dropColumn.apply(this, column)
   });
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_dropIndex"></a>
    <h3>
        dropIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Removes an index for the given table and column/s.

<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    dropIndex call.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.dropIndex(&quot;posts&quot;, &quot;title&quot;);
     //=&gt;&#x27;DROP INDEX posts_title_index
  DB.dropIndex(&quot;posts&quot;, [&quot;author&quot;, &quot;title&quot;]);
     //&#x27;DROP INDEX posts_author_title_index&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to alter.</li>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>column</em> <code>String|patio.sql.Identifier</code> : the name of the column/s the index was created from.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the DROP INDEX action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,columns,options){
   var args = argsToArray(arguments).slice(1);
   return this.alterTable(table, function () {
       this.dropIndex.apply(this, args)
   });
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_dropTable"></a>
    <h3>
        dropTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
 Drops one or more tables corresponding to the given names.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.dropTable(&quot;test&quot;);
     //=&gt;&#x27;DROP TABLE test&#x27;
DB.dropTable(&quot;a&quot;, &quot;bb&quot;, &quot;ccc&quot;);
     //=&gt;&#x27;DROP TABLE a&#x27;,
     //=&gt;&#x27;DROP TABLE bb&#x27;,
     //=&gt;&#x27;DROP TABLE ccc&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>names</em>  : the names of the tables to drop.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once all tables have been dropped.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (names){
   var ret = new Promise(), l = names.length;
   if (comb.isArray(names)) {
       var drop = hitch(this, function (i) {
           if (i &lt; l) {
               var name = names[i++];
               this.executeDdl(this.__dropTableSql(name)).then(hitch(this, function () {
                   this.removeCachedSchema(name);
                   drop(i);
               }), hitch(ret, &quot;errback&quot;));
           } else {
               ret.callback();
           }
       });
       drop(0);
       return ret;
   } else {
       return this.dropTable(argsToArray(arguments).filter(function (t) {
           return comb.isString(t) || comb.isInstanceOf(t, Identifier, QualifiedIdentifier);
       }));
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_dropView"></a>
    <h3>
        dropView
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
 Drops one or more views corresponding to the given names.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.dropView(&quot;test_view&quot;);
     //=&gt;&#x27;DROP VIEW test_view&#x27;
DB.dropTable(&quot;test_view_1&quot;, &quot;test_view_2&quot;, &quot;test_view_3&quot;);
     //=&gt;&#x27;DROP VIEW test_view_1&#x27;,
     //=&gt;&#x27;DROP VIEW test_view_2&#x27;,
     //=&gt;&#x27;DROP VIEW test_view_3&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>names</em>  : the names of the views to drop.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the view/s have been dropped.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (names){
   var ret = new Promise(), l = names.length;
   if (comb.isArray(names)) {
       var drop = hitch(this, function (i) {
           if (i &lt; l) {
               var name = names[i++];
               this.executeDdl(format(&quot;DROP VIEW %s&quot;, this.__quoteSchemaTable(name))).then(hitch(this, function () {
                   this.removeCachedSchema(name);
                   drop(i);
               }), hitch(ret, &quot;errback&quot;));
           } else {
               ret.callback();
           }
       });
       drop(0);
       return ret;
   } else {
       return this.dropView(argsToArray(arguments).filter(function (t) {
           return comb.isString(t) || comb.isInstanceOf(t, Identifier, QualifiedIdentifier);
       }));
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_execute"></a>
    <h3>
        execute
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Executes the given SQL on the database. This method should be implemented by adapters.
<b>This method should not be called directly by user code.</b>
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>cb</em>  : </li>
    
        <li> <em>conn</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,options,cb,conn){
   throw new NotImplemented(&quot;execute should be implemented by adapter&quot;);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_executeDdl"></a>
    <h3>
        executeDdl
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Method that should be used when submitting any DDL (Data DefinitionLanguage) SQL,
such as <a href='#patio_Database_prototype_createTable'>patio.Database#createTable</a>. By default, calls <a href='#patio_Database_prototype_executeDui'>patio.Database#executeDui</a>.
<b>This method should not be called directly by user code.</b>
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>cb</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,cb){
   opts = opts || {};
   return this.executeDui(sql, opts, cb);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_executeDui"></a>
    <h3>
        executeDui
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Method that should be used when issuing a DELETE, UPDATE, or INSERT
statement.  By default, calls <a href='#patio_Database_prototype_execute'>patio.Database#execute</a>.
<b>This method should not be called directly by user code.</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,block){
   opts = opts || {};
   return this.execute(sql, opts, block);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_executeInsert"></a>
    <h3>
        executeInsert
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Method that should be used when issuing a INSERT
statement.  By default, calls <a href='#patio_Database_prototype_executeDui'>patio.Database#executeDui</a>.
<b>This method should not be called directly by user code.</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>cb</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,cb){
   opts = opts || {};
   return this.executeDui(sql, opts, cb);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_fetch"></a>
    <h3>
        fetch
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/dataset.js</em>

<p>
Fetches records for an arbitrary SQL statement. If a block is given,
it is used to iterate over the records:
<pre class="code">
  DB.fetch('SELECT * FROM items', function(r){
     //do something with row
  });
</pre>
If a block is not given then <a href='#patio_Database_prototype_fetch'>patio.Database#fetch</a> method returns a <a href='#patio_Dataset'>patio.Dataset</a> instance:
<pre class="code">
  DB.fetch('SELECT * FROM items').all().then(function(records){
     //do something with the records.
  });
</pre>

<a href='#patio_Database_prototype_fetch'>patio.Database#fetch</a> can also perform parameterized queries for protection against SQL
injection:
<pre class="code">
  DB.fetch('SELECT * FROM items WHERE name = ?', myName).all().then(function(records){
     //do something with the records.
  });
</pre>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of args where the first argument is a String. If more than one argument is given then the SQL will be treated as a place holder string. See <a href='#patio_Dataset_prototype_withSql'>patio.Dataset#withSql</a>.</li>
    
        <li> <em>[block=null]</em>  : if the last argument given is a function then <a href='#patio_Dataset_prototype_forEach'>patio.Dataset#forEach</a> will be
invoked on the dataset with the block called for each row.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise|patio.Dataset</code> if no block is given then a <a href='#patio_Dataset'>patio.Dataset</a> will be returned. If a block
is given then the return value will be a Promise that will be invoked after all records have been returned
and processed through the block.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args,block){
   var ret = new comb.Promise();
   args = comb.argsToArray(arguments);
   block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   var ds = this.dataset.withSql.apply(this.dataset, args);
   if (block) {
     ds.forEach(block).then(function() {
       ret.callback(ds);
     }, comb.hitch(ret, &quot;errback&quot;));
     return ret;
   } else {
     return ds;
   }
       
}
    </pre>
    


  
    <a name="patio_Database_prototype_forceCreateTable"></a>
    <h3>
        forceCreateTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Forcibly creates a table, attempting to drop it unconditionally (and catching any errors), then creating it.
<p>
     See <a href='#patio_Database_prototype_createTable'>patio.Database#createTable</a> for parameter types.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// DROP TABLE a
 // CREATE TABLE a (a integer)
  DB.forceCreateTable(&quot;a&quot;, function(){
     this.a(&quot;integer&quot;);
  });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,block){
   var ret = new Promise();
   this.dropTable(name).chainBoth(hitch(this, this.createTable, name, options, block)).then(hitch(ret, &quot;callback&quot;), hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_forceDropTable"></a>
    <h3>
        forceDropTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
 Forcible drops one or more tables corresponding to the given names, ignoring errors.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.dropTable(&quot;test&quot;);
     //=&gt;&#x27;DROP TABLE test&#x27;
DB.dropTable(&quot;a&quot;, &quot;bb&quot;, &quot;ccc&quot;);
     //=&gt;&#x27;DROP TABLE a&#x27;,
     //=&gt;&#x27;DROP TABLE bb&#x27;,
     //=&gt;&#x27;DROP TABLE ccc&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>names</em>  : the names of the tables to drop.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once all tables have been dropped.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (names){
   var ret = new Promise(), l = names.length;
   if (comb.isArray(names)) {
       var drop = hitch(this, function (i) {
           if (i &lt; l) {
               var name = names[i++];
               this.executeDdl(this.__dropTableSql(name)).both(hitch(this, function () {
                   this.removeCachedSchema(name);
                   drop(i);
               }));
           } else {
               ret.callback();
           }
       });
       drop(0);
   } else {
       this.forceDropTable(argsToArray(arguments).filter(function (t) {
           return comb.isString(t) || comb.isInstanceOf(t, Identifier, QualifiedIdentifier);
       })).both(hitch(ret, &quot;callback&quot;));
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_from"></a>
    <h3>
        from
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/dataset.js</em>

<p>
Returns a new <a href='#patio_Dataset'>patio.Dataset</a> with the [@link patio.Dataset#from} method invoked. If a block is given,
it is used as a filter(see <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> on the dataset.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).sql //=&gt; SELECT * FROM items
  DB.from(&quot;items&quot;, function(){
         return this.id.gt(2)
  }).sql; //=&gt; SELECT * FROM items WHERE (id &gt; 2)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : table/s to pass to <a href='#patio_Dataset_prototype_from'>patio.Dataset#from</a> with.</li>
    
        <li> <em>block?</em>  : an option block to pass to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> with.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a dataset to use for querying the <a href='#patio_Database'>patio.Database</a> with.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args,block){
   args = comb.argsToArray(arguments);
   block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   var ds = this.dataset.from.apply(this.dataset, args);
   return block ? ds.filter(block) : ds;
       
}
    </pre>
    


  
    <a name="patio_Database_prototype_get"></a>
    <h3>
        get
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Proxy for <a href='#patio_Dataset_prototype_get'>patio.Dataset#get</a>.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.dataset.get.apply(this.dataset, arguments);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_indexes"></a>
    <h3>
        indexes
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Return a Promise that is resolved with an object containing index information.
<p>
    The keys are index names. Values are objects with two keys, columns and unique.  The value of columns
    is an array of column names.  The value of unique is true or false
    depending on if the index is unique.
</p>

<b>Should not include the primary key index, functional indexes, or partial indexes.</b>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.indexes(&quot;artists&quot;).then(function(indexes){
    //e.g. indexes === {artists_name_ukey : {columns : [name], unique : true}};
  })
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,opts){
   throw new NotImplemented(&quot;indexes should be overridden by adapters&quot;);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_literal"></a>
    <h3>
        literal
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/index.js</em>

<p>
This function acts as a proxy to <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a>.

See <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a>.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return this.dataset.literal(v)
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_logDebug"></a>
    <h3>
        logDebug
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a DEBUG level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isDebug) {
       LOGGER.debug.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_logError"></a>
    <h3>
        logError
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs an ERROR level message to the "patio.Database" logger.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>error</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (error){
   if (LOGGER.isError) {
       LOGGER.error.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_logFatal"></a>
    <h3>
        logFatal
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a FATAL level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isFatal) {
       LOGGER.fatal.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_logInfo"></a>
    <h3>
        logInfo
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs an INFO level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isInfo) {
       LOGGER.info.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_logTrace"></a>
    <h3>
        logTrace
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a TRACE level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isTrace) {
       LOGGER.trace.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_logWarn"></a>
    <h3>
        logWarn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/logging.js</em>

<p>
Logs a WARN level message to the "patio.Database" logger.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   if (LOGGER.isWarn) {
       LOGGER.warn.apply(LOGGER, arguments);
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_removeCachedSchema"></a>
    <h3>
        removeCachedSchema
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Remove the cached schema for the given table name
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.schema(&quot;artists&quot;).then(function(){
     DB.removeCachedSchema(&quot;artists&quot;);
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>the</em> <code>String|patio.sql.Identifier|patio.sql.QualifiedIdentifier</code> : table to remove from this databases cached schemas.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table){
   if (this.schemas &amp;&amp; !comb.isEmpty(this.schemas)) {
       delete this.schemas[this.__quoteSchemaTable(table)];
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_renameColumn"></a>
    <h3>
        renameColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Renames a column in the specified table.

<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    renameColumn call.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.renameColumn(&quot;items&quot;, &quot;cntr&quot;, &quot;counter&quot;);
     //=&gt; ALTER TABLE items RENAME COLUMN cntr TO counter
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to alter.</li>
    
        <li> <em>column</em>  : the name of the column to rename.</li>
    
        <li> <em>newColumn</em>  : the new name of the column.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the RENAME COLUMN action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,column,newColumn){
   var args = argsToArray(arguments).slice(1);
   return this.alterTable(table, function () {
       this.renameColumn.apply(this, args)
   });
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_renameTable"></a>
    <h3>
        renameTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Renames a table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
comb.executeInOrder(DB, function(DB){
  DB.tables(); //=&gt; [&quot;items&quot;]
  DB.renameTable(&quot;items&quot;, &quot;old_items&quot;);
         //=&gt;&#x27;ALTER TABLE items RENAME TO old_items&#x27;
  DB.tables; //=&gt; [&quot;old_items&quot;]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the table to rename</li>
    
        <li> <em>newName</em>  : the new name of the table</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the table is renamed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,newName){
   var ret = new Promise();
   this.executeDdl(this.__renameTableSql(name, newName)).then(hitch(this, function () {
       this.removeCachedSchema(name);
       ret.callback();
   }), hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_run"></a>
    <h3>
        run
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Runs the supplied SQL statement string on the database server..

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.run(&quot;SET some_server_variable = 42&quot;)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : the SQL to run.</li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved with the result of the query.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts){
   opts = opts || {};
   return this.executeDdl(sql, opts);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_schema"></a>
    <h3>
        schema
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Parse the schema from the database.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.schema(&quot;artists&quot;).then(function(schema){
    //example schema
    {
     id :  {
         type : &quot;integer&quot;,
         primaryKey : true,
         &quot;default&quot; : &quot;nextval(&#x27;artist_id_seq&#x27;::regclass)&quot;,
         jsDefault : null,
         dbType : &quot;integer&quot;,
         allowNull : false
      },
     name : {
         type : &quot;string&quot;,
         primaryKey : false,
         &quot;default&quot; : null,
         jsDefault  : null,
         dbType : &quot;text&quot;,
         allowNull : false
      }
    }
  })
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to get the schema for.</li>
    
        <li> <em>[opts=null]</em>  : Additinal options.</li>
    
        <li> <em>[opts.reload=false]</em> <code>boolean</code> : Set to true to ignore any cached results.</li>
    
        <li> <em>opts.schema?</em> <code>String|patio.sql.Identifier</code> : An explicit schema to use.  It may also be implicitly provided
           via the table name.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> Returns a Promise that is resolved with the schema for the given table as an object
where the key is the column name and the value is and object containg column information. The default
column information returned.
<ul>
    <li>allowNull : Whether NULL is an allowed value for the column.</li>
    <li>dbType : The database type for the column, as a database specific string.</li>
    <li>"default" : The database default for the column, as a database specific string.</li>
    <li>primaryKey : Whether the columns is a primary key column.  If this column is not present,
                it means that primary key information is unavailable, not that the column
                is not a primary key.</li>
    <li>jsDefault : The database default for the column, as a javascript object.  In many cases, complex
                 database defaults cannot be parsed into javascript objects.</li>
    <li>type : A string specifying the type, such as "integer" or "string".</li>
<ul></li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,opts){
   if (!comb.isFunction(this.schemaParseTable)) {
       throw new Error(&quot;Schema parsing is not implemented on this database&quot;);
   }
   var ret = new Promise();
   opts = opts || {};
   var schemaParts = this.__schemaAndTable(table);
   var sch = schemaParts[0], tableName = schemaParts[1];
   var quotedName = this.__quoteSchemaTable(table);
   opts = sch &amp;&amp; !opts.schema ? comb.merge({schema:sch}, opts) : opts;
   if (opts.reload) {
       delete this.schemas[quotedName];
   }
   if (this.schemas[quotedName]) {
       ret.callback(this.schemas[quotedName]);
       return ret;
   } else {
       this.schemaParseTable(tableName, opts).then(hitch(this, function (cols) {
           var schema = {};
           if (!cols || cols.length === 0) {
               ret.errback(&quot;Error parsing schema, no columns returns, table probably doesnt exist&quot;);
           } else {
               cols.forEach(function (c) {
                   var name = c[0];
                   c = c[1];
                   c.jsDefault = this.__columnSchemaToJsDefault(c[&quot;default&quot;], c.type);
                   schema[name] = c;
               }, this);
               this.schemas[quotedName] = schema;
               ret.callback(schema);
           }
       }), hitch(ret, &quot;errback&quot;));
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_schemaColumnType"></a>
    <h3>
        schemaColumnType
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Match the database's column type to a javascript type via a
regular expression, and return the javascript type as a string
such as "integer" or "string".
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dbType</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dbType){
   var ret = null, m;
   if (dbType.match(/^interval$/i)) {
       ret = &quot;interval&quot;;
   } else if (dbType.match(/^(character( varying)?|n?(var)?char)/i)) {
       ret = &quot;string&quot;;
   } else if (dbType.match(/^int(eger)?|(big|small|tiny)int/i)) {
       ret = &quot;integer&quot;;
   } else if (dbType.match(/^date$/i)) {
       ret = &quot;date&quot;;
   } else if (dbType.match(/^year/i)) {
       ret = &quot;year&quot;;
   } else if (dbType.match(/^((small)?datetime|timestamp( with(out)? time zone)?)$/i)) {
       ret = &quot;datetime&quot;;
   } else if (dbType.match(/^time( with(out)? timezone)?$/i)) {
       ret = &quot;time&quot;;
   } else if (dbType.match(/^(bit|boolean)$/i)) {
       ret = &quot;boolean&quot;;
   } else if (dbType.match(/^(real|float|double( precision)?)$/i)) {
       ret = &quot;float&quot;;
   } else if ((m = dbType.match(/^(?:(?:(?:num(?:ber|eric)?|decimal|double)(?:\(\d+,\s*(\d+)\))?)|(?:small)?money)/i))) {
       ret = m[1] &amp;&amp; m[1] == &#x27;0&#x27; ? &quot;integer&quot; : &quot;decimal&quot;;
   } else if(dbType.match(/n?text/i)){
       ret = &quot;text&quot;;
   } else if (dbType.match(/bytea|[bc]lob|image|(var)?binary/i)) {
       ret = &quot;blob&quot;;
   } else if (dbType.match(/^enum/i)) {
       ret = &quot;enum&quot;;
   } else if (dbType.match(/^set/i)) {
       ret = &quot;set&quot;;
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_select"></a>
    <h3>
        select
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/dataset.js</em>

<p>
Returns a new <a href='#patio_Dataset'>patio.Dataset</a> with the <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> method invoked.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.select(1) //=&gt; SELECT 1
  DB.select(function(){
     return this.server_version();
  }).sql; //=&gt; SELECT server_version()
  DB.select(&quot;id&quot;).from(&quot;items&quot;).sql; //=&gt; SELECT id FROM items
@link {patio.Dataset} a dataset to query the {@link patio.Database} with.
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.dataset.select.apply(this.dataset, arguments);
       
}
    </pre>
    


  
    <a name="patio_Database_prototype_setColumnDefault"></a>
    <h3>
        setColumnDefault
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
Sets the default value for the given column in the given table:

<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    setColumnDefault call.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.setColumnDefault(&quot;items&quot;, &quot;category&quot;, &quot;misc&quot;);
     //=&gt; ALTER TABLE items ALTER COLUMN category SET DEFAULT &#x27;misc&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to alter.</li>
    
        <li> <em>column</em>  : the name of the column to set the DEFAULT on.</li>
    
        <li> <em>def</em>  : the new default value of the column.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the SET DEFAULT action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,column,def){
   var args = argsToArray(arguments).slice(1);
   return this.alterTable(table, function () {
       this.setColumnDefault.apply(this, args);
   });
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_setColumnType"></a>
    <h3>
        setColumnType
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
 Set the data type for the given column in the given table:
<p>
    This method is a shortcut to <a href='#patio_Database_prototype_alterTable'>patio.Database#alterTable</a> with an
    setColumnType call.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.setColumnType(&quot;items&quot;, &quot;category&quot;, String);
     //=&gt; ALTER TABLE items ALTER COLUMN category TYPE varchar(255)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the table to alter.</li>
    
        <li> <em>column</em>  : the name of the column to set the TYPE on.</li>
    
        <li> <em>type</em>  : the datatype of the column.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the SET TYPE action is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,column,type){
   var args = argsToArray(arguments).slice(1);
   return this.alterTable(table, function () {
       this.setColumnType.apply(this, args)
   });
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_tableExists"></a>
    <h3>
        tableExists
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Determine if a table exists.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
comb.executeInOrder(DB, function(DB){
   return {
         table1Exists : DB.tableExists(&quot;table1&quot;),
         table2Exists : DB.tableExists(&quot;table2&quot;)
   };
}).then(function(ret){
     //ret.table1Exists === true
     //ret.table2Exists === false
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>cb</em>  : </li>
    
        <li> <em>the</em> <code>String|patio.sql.Identifier|patio.sql.QualifiedIdentifier</code> : table to remove from this</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise resolved with a boolean indicating if the table exists.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table,cb){
   var ret = new Promise().classic(cb);
   this.from(table).first().then(function () {
       ret.callback(true);
   }, function () {
       ret.callback(false);
   });
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_tables"></a>
    <h3>
        tables
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Returns a promise with a list of tables names in this database. This method
should be implemented by the adapter.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.tables().then(function(tables){
   //e.g. tables === [&quot;table1&quot;, &quot;table2&quot;, &quot;table3&quot;];
});
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved with a list of tablenames.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   throw new NotImplemented(&quot;tables should be implemented by the adapter&quot;);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_transaction"></a>
    <h3>
        transaction
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/query.js</em>

<p>
Starts a database transaction.  When a database transaction is used,
either all statements are successful or none of the statements are
successful.
<p>
     <b>Note</b> that MySQL MyISAM tables do not support transactions.</p>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//normal transaction
DB.transaction(function() {
      this.execute(&#x27;DROP TABLE test;&#x27;);
      this.execute(&#x27;DROP TABLE test2;&#x27;);
 });

//transaction with a save point.
DB.transaction(function() {
     this.transaction({savepoint : true}, function() {
         this.execute(&#x27;DROP TABLE test;&#x27;);
         this.execute(&#x27;DROP TABLE test2;&#x27;);
     });
});

//WITH ISOLATION LEVELS

db.supportsTransactionIsolationLevels = true;
//BEGIN
//SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
//DROP TABLE test1&#x27;
//COMMIT
DB.transaction({isolation:&quot;uncommited&quot;}, function(d) {
     d.run(&quot;DROP TABLE test1&quot;);
});

//BEGIN
//SET TRANSACTION ISOLATION LEVEL READ COMMITTED
//DROP TABLE test1
//COMMIT
 DB.transaction({isolation:&quot;committed&quot;}, function(d) {
     d.run(&quot;DROP TABLE test1&quot;);
 });

//BEGIN
//SET TRANSACTION ISOLATION LEVEL REPEATABLE READ&#x27;
//DROP TABLE test1
//COMMIT
 DB.transaction({isolation:&quot;repeatable&quot;}, function(d) {
     d.run(&quot;DROP TABLE test1&quot;);
 });

//BEGIN
//SET TRANSACTION ISOLATION LEVEL SERIALIZABLE
//DROP TABLE test1
//COMMIT
 DB.transaction({isolation:&quot;serializable&quot;}, function(d) {
     d.run(&quot;DROP TABLE test1&quot;);
 });

//With an Error
//BEGIN
//DROP TABLE test
//ROLLBACK
DB.transaction(function(d) {
     d.execute(&#x27;DROP TABLE test&#x27;);
     throw &quot;Error&quot;;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>[opts={}]</em>  : options to use when performing the transaction.</li>
    
        <li> <em>cb</em>  : a function used to perform the transaction. This function is called in the scope of the database by default so one can use this. The funciton is also called with the database as the first argument. If you have complex operations within your transactions you will want to return a promise to ensure proper transaction scope. <pre class="code"> var ds = db.from("user"); db.transaction(function(){      var ret = new comb.Promise();      ds.insert({          firstName:"Jane",          lastName:"Gorgenson",          password:"password",          dateOfBirth:new Date(1956, 1, 3)      }).then(function(){          ds.forEach(function(user){                  return ds.where({id:user.id}).update({firstName:user.firstName + 1});          }).then(comb.hitch(ret, "callback"), comb.hitch(ret, "errback"));      }, comb.hitch(ret, "errback"));     return ret; }); </pre></li>
    
        <li> <em>opts.isolation?</em> <code>String</code> : The transaction isolation level to use for this transaction,
              should be "uncommitted", "committed", "repeatable", or "serializable",
              used if given and the database/adapter supports customizable
              transaction isolation levels.</li>
    
        <li> <em>opts.prepare?</em> <code>String</code> : A string to use as the transaction identifier for a
            prepared transaction (two-phase commit), if the database/adapter
            supports prepared transactions.</li>
    
        <li> <em>opts.savepoint?</em> <code>Boolean</code> : Whether to create a new savepoint for this transaction,
              only respected if the database/adapter supports savepoints.  By
              default patio will reuse an existing transaction, so if you want to
              use a savepoint you must use this option.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the transaction is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts,cb){
   if (comb.isFunction(opts)) {
       cb = opts;
       opts = {};
   } else {
       opts = opts || {};
   }
   if (!this.__alreadyInTransaction) {
       this.__alreadyInTransaction = true;
       return this.__transaction(null, opts, cb);
   } else {
       var ret = new comb.Promise();
       var transaction = comb.hitch(this, function () {
           this.__transaction(null, opts, cb).then(hitch(ret, &quot;callback&quot;), hitch(ret, &quot;errback&quot;));
       });
       this.__transactionQueue.enqueue(transaction);
       return ret;
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_typeLiteral"></a>
    <h3>
        typeLiteral
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schema.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column){
   return this.__typeLiteralGeneric(column);
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_typecastValue"></a>
    <h3>
        typecastValue
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/index.js</em>

<p>
Typecast the value to the given columnType. Calls
typecastValue{ColumnType} if the method exists,
otherwise returns the value.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.typeCastValue(&quot;boolean&quot;, 0) //=&gt; false
DB.typeCastValue(&quot;boolean&quot;, 1) //=&gt; true
DB.typeCastValue(&quot;timestamp&quot;,  &#x27;2004-02-01 12:12:12&#x27;)
     //=&gt; new patio.sql.TimeStamp(2004, 1, 1, 12, 12, 12);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columnType</em>  : the SQL datatype of the column</li>
    
        <li> <em>value</em>  : the value to typecast.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  the typecasted value.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.DatabaseError</code> if there is an error converting the value to the column type.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columnType,value){
   if (comb.isNull(value) || comb.isUndefined(value)) {
       return null;
   }
   var meth = &quot;__typecastValue&quot; + columnType.charAt(0).toUpperCase() + columnType.substr(1).toLowerCase();
   try {
       if (comb.isFunction(this[meth])) {
           return this[meth](value);
       } else {
           return value;
       }
   } catch (e) {
       throw e;
   }
           
}
    </pre>
    


  
    <a name="patio_Database_prototype_validate"></a>
    <h3>
        validate
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/connect.js</em>

<p>
Validates a connection before it is returned to the <a href='#patio_ConnectionPool'>patio.ConnectionPool</a>. This
method should be implemented by the adapter.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>conn</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (conn){
   throw new NotImplemented(&quot;Validate must be implemented by the adapter&quot;);
           
}
    </pre>
    


  

    <a name="patio_DatabaseError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.DatabaseError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_DatabaseError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is a Database Error.</p>
    

    

    
    

    <a name="patio_DatabaseError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Database error : &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_Dataset"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.Dataset
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_Dataset_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_Dataset_instanceProperties">Instance Properties</a></li>
                        
                        
                        <li><a href="#patio_Dataset_staticProperties">Static Properties</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_Dataset_prototype___aggregateDataset">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __aggregateDataset

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___argumentList">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __argumentList

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___arrayToConditionSpecifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __arrayToConditionSpecifier

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___asSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __asSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___columnList">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __columnList

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___createBetweenExpression">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __createBetweenExpression

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___createBoolExpression">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __createBoolExpression

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___defaultServerOpts">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __defaultServerOpts

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___expressionList">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __expressionList

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___hashIdentifierToName">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __hashIdentifierToName

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype___tableRef">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __tableRef

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__compoundFromSelf">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _compoundFromSelf

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__datasetAlias">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _datasetAlias

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__deleteFromSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _deleteFromSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__deleteOrderSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _deleteOrderSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__deleteWhereSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _deleteWhereSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__filter">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _filter

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__filterExpr">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _filterExpr

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__invertOrder">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _invertOrder

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__joinTypeSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _joinTypeSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalArray">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalArray

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalBoolean">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalBoolean

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalBuffer">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalBuffer

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalDataset">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalDataset

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalDate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalDate

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalExpression">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalExpression

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalHash">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalHash

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalNull">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalNull

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalNumber">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalNumber

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalObject">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalObject

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalOther">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalOther

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalString

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalTime">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalTime

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalTimestamp">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalTimestamp

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__literalYear">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _literalYear

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__optionsOverlap">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _optionsOverlap

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__qualifiedExpression">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _qualifiedExpression

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectColumnsSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectColumnsSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectCompoundsSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectCompoundsSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectDistinctSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectDistinctSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectFromSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectFromSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectGroupSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectGroupSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectHavingSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectHavingSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectJoinSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectJoinSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectLimitSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectLimitSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectLockSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectLockSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectOrderSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectOrderSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectWhereSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectWhereSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectWithSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectWithSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__selectWithSqlBase">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _selectWithSqlBase

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__sourceList">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _sourceList

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__splitAlias">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _splitAlias

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__splitString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _splitString

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__staticSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _staticSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__subselectSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _subselectSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__toTableName">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _toTableName

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__unaliasedIdentifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _unaliasedIdentifier

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__updateOrderSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _updateOrderSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__updateSetSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _updateSetSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__updateTableSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _updateTableSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype__updateWhereSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _updateWhereSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_addGraphAliases">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addGraphAliases

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_aliasedExpressionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                aliasedExpressionSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_all">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                all

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_and">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                and

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_avg">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                avg

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_between">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                between

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_booleanConstantSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                booleanConstantSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_caseExpressionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                caseExpressionSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_castSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                castSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_columnAllSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                columnAllSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_complexExpressionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                complexExpressionSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_compoundClone">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                compoundClone

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_constantSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                constantSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_count">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                count

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_distinct">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                distinct

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_eq">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                eq

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_except">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                except

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_exclude">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                exclude

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_execute">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                execute

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_executeDdl">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                executeDdl

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_executeDui">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                executeDui

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_executeInsert">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                executeInsert

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_fetchRows">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                fetchRows

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_filter">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                filter

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_find">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                find

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_first">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                first

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_forEach">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                forEach

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_forUpdate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                forUpdate

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_from">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                from

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_fromSelf">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                fromSelf

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_functionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                functionSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_get">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                get

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_graph">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                graph

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_graphEach">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                graphEach

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_grep">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                grep

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_group">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                group

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_groupAndCount">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                groupAndCount

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_groupBy">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                groupBy

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_gt">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                gt

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_gte">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                gte

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_having">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                having

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_import">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                import

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_inputIdentifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                inputIdentifier

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_insert">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                insert

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_insertMultiple">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                insertMultiple

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_insertSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                insertSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_intersect">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                intersect

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_interval">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                interval

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_invert">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                invert

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_is">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                is

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isEmpty">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isEmpty

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isFalse">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isFalse

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isNot">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isNot

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isNotFalse">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isNotFalse

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isNotNull">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isNotNull

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isNotTrue">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isNotTrue

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isNull">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isNull

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_isTrue">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isTrue

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_join">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                join

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_joinClauseSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                joinClauseSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_joinOnClauseSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                joinOnClauseSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_joinTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                joinTable

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_joinUsingClauseSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                joinUsingClauseSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_last">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                last

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_like">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                like

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_limit">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                limit

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_literal">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                literal

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_lockStyle">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lockStyle

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_lt">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lt

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_lte">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lte

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_map">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                map

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_max">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                max

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_mergeOptions">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                mergeOptions

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_min">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                min

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_multiInsert">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                multiInsert

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_multiInsertSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                multiInsertSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_naked">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                naked

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_negativeBooleanConstantSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                negativeBooleanConstantSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_neq">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                neq

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_notBetween">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                notBetween

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_one">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                one

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_or">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                or

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_order">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                order

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_orderAppend">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderAppend

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_orderBy">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderBy

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_orderMore">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderMore

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_orderPrepend">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderPrepend

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_orderedExpressionSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                orderedExpressionSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_outputIdentifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                outputIdentifier

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_placeholderLiteralStringSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                placeholderLiteralStringSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_postLoad">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                postLoad

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_qualifiedColumnName">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                qualifiedColumnName

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_qualifiedIdentifierSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                qualifiedIdentifierSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_qualify">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                qualify

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_qualifyTo">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                qualifyTo

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_qualifyToFirstSource">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                qualifyToFirstSource

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_quoteIdentifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                quoteIdentifier

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_quoteSchemaTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                quoteSchemaTable

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_range">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                range

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_remove">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                remove

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_returning">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                returning

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_reverse">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                reverse

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_reverseOrder">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                reverseOrder

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_save">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                save

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_saveMultiple">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                saveMultiple

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_schemaAndTable">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                schemaAndTable

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_select">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                select

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_selectAll">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectAll

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_selectAppend">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectAppend

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_selectHash">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectHash

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_selectMap">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectMap

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_selectMore">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectMore

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_selectOrderMap">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectOrderMap

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_set">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                set

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_setDefaults">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setDefaults

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_setGraphAliases">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setGraphAliases

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_setOverrides">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setOverrides

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_singleRecord">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                singleRecord

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_singleValue">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                singleValue

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_stringToIdentifier">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                stringToIdentifier

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_subscriptSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                subscriptSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_sum">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                sum

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_toCsv">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toCsv

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_toHash">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toHash

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_truncate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                truncate

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_unfiltered">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unfiltered

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_ungraphed">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                ungraphed

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_ungrouped">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                ungrouped

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_union">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                union

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_unlimited">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unlimited

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_unordered">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unordered

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_unusedTableAlias">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unusedTableAlias

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_update">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                update

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_updateSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                updateSql

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_where">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                where

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_with">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                with

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_withRecursive">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                withRecursive

                                </a></li>
                                
                                <li><a href="#patio_Dataset_prototype_withSql">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                withSql

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Class that is used for querying/retirving datasets from a database.

<p> Dynamically genertated methods include
<ul>
    <li>Join methods from <a href='#patio_Dataset_CONDITIONED_JOIN_TYPES'>patio.Dataset.CONDITIONED_JOIN_TYPES</a> and
        <a href='# patio_Dataset_UNCONDITIONED_JOIN_TYPES'> patio.Dataset.UNCONDITIONED_JOIN_TYPES</a>, these methods handle the type call
        to <a href='#patio_dataset_Query_prototype_joinTable'>patio.dataset.Query#joinTable</a>, so to invoke include all arguments that
        <a href='#patio_dataset_Query_prototype_joinTable'>patio.dataset.Query#joinTable</a> requires except the type parameter. The default list includes.
        <ul>
            <li>Conditioned join types that accept conditions.
                 <ul>
                     <li>inner - INNER JOIN</li>
                     <li>fullOuter - FULL OUTER</li>
                     <li>rightOuter - RIGHT OUTER JOIN</li>
                     <li>leftOuter - LEFT OUTER JOIN</li>
                     <li>full - FULL JOIN</li>
                     <li>right - RIGHT JOIN</li>
                     <li>left - LEFT JOIN</li>
                 </ul>
            </li>
            <li>Unconditioned join types that do not accept join conditions
                 <ul>
                     <li>natural - NATURAL JOIN</li>
                     <li>naturalLeft - NATURAL LEFT JOIN</li>
                     <li>naturalRight - NATURAL RIGHT JOIN</li>
                     <li>naturalFull - NATURA FULLL JOIN</li>
                     <li>cross - CROSS JOIN</li>
                 </ul>
            </li>
        </ul>
     </li>
 </li>
</ul>

<p>
    <h4>Features:</h4>
    <p>
          Features that a particular <a href='#patio_Dataset'>patio.Dataset</a> supports are shown in the example below.
          If you wish to implement an adapter please override these values depending on the database that
          you are developing the adapter for.
     </p>
     <pre class="code">
         var ds = DB.from("test");

         //The default values returned

         //Whether this dataset quotes identifiers.
         //Whether this dataset quotes identifiers.
         ds.quoteIdentifiers //=>true

         //Whether this dataset will provide accurate number of rows matched for
         //delete and update statements.  Accurate in this case is the number of
         //rows matched by the dataset's filter.
         ds.providesAccurateRowsMatched; //=>true

         //Times Whether the dataset requires SQL standard datetimes (false by default,
         // as most allow strings with ISO 8601 format).
         ds.requiresSqlStandardDate; //=>false

         //Whether the dataset supports common table expressions (the WITH clause).
         ds.supportsCte; //=>true

         //Whether the dataset supports the DISTINCT ON clause, false by default.
         ds.supportsDistinctOn; //=>false

         //Whether the dataset supports the INTERSECT and EXCEPT compound operations, true by default.
         ds.supportsIntersectExcept; //=>true

         //Whether the dataset supports the INTERSECT ALL and EXCEPT ALL compound operations, true by default
         ds.supportsIntersectExceptAll; //=>true

         //Whether the dataset supports the IS TRUE syntax.
         ds.supportsIsTrue; //=>true

         //Whether the dataset supports the JOIN table USING (column1, ...) syntax.
         ds.supportsJoinUsing; //=>true

         //Whether modifying joined datasets is supported.
         ds.supportsModifyingJoin; //=>false

         //Whether the IN/NOT IN operators support multiple columns when an
         ds.supportsMultipleColumnIn; //=>true

         //Whether the dataset supports timezones in literal timestamps
         ds.supportsTimestampTimezone; //=>false

         //Whether the dataset supports fractional seconds in literal timestamps
         ds.supportsTimestampUsecs; //=>true

         //Whether the dataset supports window functions.
         ds.supportsWindowFunctions; //=>false
      </pre>
<p>
<p>
    <h4>Actions</h4>
    <p>
        Each dataset does not actually send any query to the database until an action method has
        been called upon it(with the exception of <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a> because columns
        from the other table might need retrived in order to set up the graph). Each action
        returns a <i>comb.Promise</i> that will be resolved with the result or errback, it is important
        that you account for errors otherwise it can be difficult to track down issues.
        The list of action methods is:
        <ul>
            <li><a href='#patio_Dataset_prototype_all'>patio.Dataset#all</a></li>
            <li><a href='#patio_Dataset_prototype_one'>patio.Dataset#one</a></li>
            <li><a href='#patio_Dataset_prototype_avg'>patio.Dataset#avg</a></li>
            <li><a href='#patio_Dataset_prototype_count'>patio.Dataset#count</a></li>
            <li><a href='#patio_Dataset_prototype_columns'>patio.Dataset#columns</a></li>
            <li><a href='#patio_Dataset_prototype_remove'>patio.Dataset#remove</a></li>
            <li><a href='#patio_Dataset_prototype_forEach'>patio.Dataset#forEach</a></li>
            <li><a href='#patio_Dataset_prototype_empty'>patio.Dataset#empty</a></li>
            <li><a href='#patio_Dataset_prototype_first'>patio.Dataset#first</a></li>
            <li><a href='#patio_Dataset_prototype_get'>patio.Dataset#get</a></li>
            <li><a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a></li>
            <li><a href='#patio_Dataset_prototype_insert'>patio.Dataset#insert</a></li>
            <li><a href='#patio_Dataset_prototype_save'>patio.Dataset#save</a></li>
            <li><a href='#patio_Dataset_prototype_insertMultiple'>patio.Dataset#insertMultiple</a></li>
            <li><a href='#patio_Dataset_prototype_saveMultiple'>patio.Dataset#saveMultiple</a></li>
            <li><a href='#patio_Dataset_prototype_interval'>patio.Dataset#interval</a></li>
            <li><a href='#patio_Dataset_prototype_last'>patio.Dataset#last</a></li>
            <li><a href='#patio_Dataset_prototype_map'>patio.Dataset#map</a></li>
            <li><a href='#patio_Dataset_prototype_max'>patio.Dataset#max</a></li>
            <li><a href='#patio_Dataset_prototype_min'>patio.Dataset#min</a></li>
            <li><a href='#patio_Dataset_prototype_multiInsert'>patio.Dataset#multiInsert</a></li>
            <li><a href='#patio_Dataset_prototype_range'>patio.Dataset#range</a></li>
            <li><a href='#patio_Dataset_prototype_selectHash'>patio.Dataset#selectHash</a></li>
            <li><a href='#patio_Dataset_prototype_selectMap'>patio.Dataset#selectMap</a></li>
            <li><a href='#patio_Dataset_prototype_selectOrderMap'>patio.Dataset#selectOrderMap</a></li>
            <li><a href='#patio_Dataset_prototype_set'>patio.Dataset#set</a></li>
            <li><a href='#patio_Dataset_prototype_singleRecord'>patio.Dataset#singleRecord</a></li>
            <li><a href='#patio_Dataset_prototype_singleValue'>patio.Dataset#singleValue</a></li>
            <li><a href='#patio_Dataset_prototype_sum'>patio.Dataset#sum</a></li>
            <li><a href='#patio_Dataset_prototype_toCsv'>patio.Dataset#toCsv</a></li>
            <li><a href='#patio_Dataset_prototype_toHash'>patio.Dataset#toHash</a></li>
            <li><a href='#patio_Dataset_prototype_truncate'>patio.Dataset#truncate</a></li>
            <li><a href='#patio_Dataset_prototype_update'>patio.Dataset#update</a></li>
        </ul>

    </p>
</p>

</p>
    

    

    
        <a name="patio_Dataset_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>ACTION_METHODS</em></td><td>String[]</td><td><code>
['all', 'one', 'avg', 'count', 'columns', 'remove', 'forEach', 'isEmpty', 'first',
         'get', 'import', 'insert', 'save', 'insertMultiple', 'saveMultiple', 'interval', 'last',
         'map', 'max', 'min', 'multiInsert', 'range', 'selectHash', 'selectMap', 'selectOrderMap', 'set',
         'singleRecord', 'singleValue', 'sum', 'toCsv', 'toHash', 'truncate', 'update']
         </code></td><td>
List of action methods avaiable on the dataset.

</td><tr><tr><td><em>AND_SEPARATOR</em></td><td>property</td><td><code>" AND "</code></td><td>
Default SQL AND separator.
         </td><tr><tr><td><em>BOOL_FALSE</em></td><td>property</td><td><code>"'f'"</code></td><td>
Default SQL boolean false operator.
         </td><tr><tr><td><em>BOOL_TRUE</em></td><td>property</td><td><code>"'t'"</code></td><td>
Default SQL boolean true operator.
         </td><tr><tr><td><em>COLUMN_CHANGE_OPTS</em></td><td>property</td><td><code>["select", "sql", "from", "join"]</code></td><td>
 The dataset options that require the removal of cached columns
 if changed.
         </td><tr><tr><td><em>COMMA_SEPARATOR</em></td><td>property</td><td><code>'</code></td><td>
Default SQL comma sperator.
         </td><tr><tr><td><em>CONDITIONED_JOIN_TYPES</em></td><td>property</td><td><code>["inner", "fullOuter", "rightOuter", "leftOuter", "full", "right", "left"]</code></td><td>
These strings have {name}Join methods created (e.g. <a href='#patio_Dataset_prototype_innerJoin'>patio.Dataset#innerJoin</a>) that
call <a href='#patio_Dataset_prototype_joinTable'>patio.Dataset#joinTable</a> with the string, passing along the arguments and
block from the method call.
</td><tr><tr><td><em>COUNT_FROM_SELF_OPTS</em></td><td>String[]</td><td><code>
["distinct", "group", "sql", "limit", "compounds"]
         </code></td><td>
List of options that can interfere with the aggregation of a <a href='#patio_Dataset'>patio.Dataset</a>
</td><tr><tr><td><em>COUNT_OF_ALL_AS_COUNT</em></td><td>property</td><td><code>sql.count(sql.literal('*')).as("count")</code></td><td>
Default COUNT expression.
         </td><tr><tr><td><em>DATASET_ALIAS_BASE_NAME</em></td><td>property</td><td><code>'t'</code></td><td>
Default alias for datasets.
         </td><tr><tr><td><em>DELETE_CLAUSE_METHODS</em></td><td>property</td><td><code>clauseMethods("delete"</code></td><td>
Default SQL DELETE clause methods. This may be overrode by adapters.
         </td><tr><tr><td><em>FEATURES</em></td><td>property</td><td><code>
["quoteIdentifiers","providesAccurateRowsMatched","requiresSqlStandardDateTimes","supportsCte",
"supportsDistinctOn","supportsIntersectExcept","supportsIntersectExceptAll","supportsIsTrue","supportsJoinUsing",
"supportsModifyingJoins","supportsMultipleColumnIn","supportsTimestampTimezones","supportsTimestampUsecs",
"supportsWindowFunctions"]
Array of features.
         </code></td><td>
</td><tr><tr><td><em>FOR_UPDATE</em></td><td>property</td><td><code>' FOR UPDATE'</code></td><td>
Default FOR UPDATE SQL fragment.
         </td><tr><tr><td><em>FROM</em></td><td>property</td><td><code>"FROM"</code></td><td>
Default FROM clause
         </td><tr><tr><td><em>INSERT_CLAUSE_METHODS</em></td><td>property</td><td><code>clauseMethods("insert"</code></td><td>
Default SQL INSERT clause. This may be overrode by adapters.
         </td><tr><tr><td><em>IS_LITERALS</em></td><td>property</td><td><code>{NULL:'NULL', true:'TRUE', false:'FALSE'}</code></td><td>
Hash of IS literals
         </td><tr><tr><td><em>IS_OPERATORS</em></td><td>property</td><td><code>ComplexExpression.IS_OPERATORS</code></td><td>
Defaults IS OPERATORS. See <a href='#patio_sql_ComplexExpression_IS_OPERATORS'>patio.sql.ComplexExpression.IS_OPERATORS</a>.
         </td><tr><tr><td><em>JOIN_METHODS</em></td><td>property</td><td><code>["join", "joinTable"]</code></td><td>
 All methods that return modified datasets with a joined table added.
         </td><tr><tr><td><em>NON_SQL_OPTIONS</em></td><td>property</td><td><code>["server", "defaults", "overrides", "graph", "eagerGraph", "graphAliases"]</code></td><td>
Which options don't affect the SQL generation.  Used by <a href='#patio_Dataset_prototype_simpleSelectAll'>patio.Dataset#simpleSelectAll</a>
to determine if this is a simple SELECT * FROM table.
         </td><tr><tr><td><em>NULL</em></td><td>property</td><td><code>"NULL"</code></td><td>
Defaults SQL NULL.
         </td><tr><tr><td><em>N_ARITY_OPERATORS</em></td><td>property</td><td><code>ComplexExpression.N_ARITY_OPERATORS</code></td><td>
Defaults N(Multi arity) OPERATORS. See <a href='#patio_sql_ComplexExpression_N_ARITY_OPERATORS'>patio.sql.ComplexExpression.N_ARITY_OPERATORS</a>.
         </td><tr><tr><td><em>QUALIFY_KEYS</em></td><td>property</td><td><code>["select", "where", "having", "order", "group"]</code></td><td>
Default SQL clauses that need qualifying. This may be overrode by adapters.
         </td><tr><tr><td><em>QUERY_METHODS</em></td><td>property</td><td><code>['addGraphAliases', "and", "distinct", "except", "exclude", "filter", "find", "is", "isNot",
            "eq", "neq", "lt", "lte", "gt", "gte", "forUpdate", "from", "fromSelf", "graph", "grep", "group",
            "groupAndCount", "groupBy", "having", "intersect", "invert", "limit", "lockStyle", "naked", "or", "order",
            "orderAppend", "orderBy", "orderMore", "orderPrepend", "qualify", "reverse",
            "reverseOrder", "select", "selectAll", "selectAppend", "selectMore", "setDefaults",
            "setGraphAliases", "setOverrides", "unfiltered", "ungraphed", "ungrouped", "union", "unlimited",
            "unordered", "where", "with", "withRecursive", "withSql"]</code></td><td>
Methods that return modified datasets
         </td><tr><tr><td><em>QUESTION_MARK</em></td><td>property</td><td><code>/\?/g</code></td><td>
Regexp used to replace '?' in <a href='#patio_sql_PlaceHolderLiteralString'>patio.sql.PlaceHolderLiteralString</a>
         </td><tr><tr><td><em>RETURNING</em></td><td>property</td><td><code>" RETURNING "</code></td><td>
Default SQL 'RETURNING' literal string
         </td><tr><tr><td><em>SELECT_CLAUSE_METHODS</em></td><td>property</td><td><code>clauseMethods("select"</code></td><td>
Default SQL SELECT clause. This may be overrode by adapters.
         </td><tr><tr><td><em>SPACE</em></td><td>property</td><td><code>" "</code></td><td>
Default space to use when building SQL queries
         </td><tr><tr><td><em>SQL_WITH</em></td><td>property</td><td><code>"WITH"</code></td><td>
Default SQL WITH base. This may be overrode by adapters.
         </td><tr><tr><td><em>TWO_ARITY_OPERATORS</em></td><td>property</td><td><code>ComplexExpression.TWO_ARITY_OPERATORS</code></td><td>
Defaults TWO OPERATORS. See <a href='#patio_sql_ComplexExpression_TWO_ARITY_OPERATORS'>patio.sql.ComplexExpression.TWO_ARITY_OPERATORS</a>.
         </td><tr><tr><td><em>UNCONDITIONED_JOIN_TYPES</em></td><td>property</td><td><code>["natural", "naturalLeft", "naturalRight", "naturalFull", "cross"]</code></td><td>

These strings have {name}Join methods created (e.g. naturalJoin) that
call <a href='#patio_Dataset_prototype_joinTable'>patio.Dataset#joinTable</a>.  They only accept a single table
argument which is passed to <a href='#patio_Dataset_prototype_joinTable'>patio.Dataset#joinTable</a>, and they throw an error
if called with a block.
</td><tr><tr><td><em>UPDATE_CLAUSE_METHODS</em></td><td>property</td><td><code>clauseMethods("update"</code></td><td>
Default SQL UPDATE clause. This may be overrode by adapters.
         </td><tr><tr><td><em>WILDCARD</em></td><td>property</td><td><code>new LiteralString('*')</code></td><td>
Default SQL '*' literal string.
         </td><tr></table>
    
    
        <a name="patio_Dataset_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>columns</td><td>{comb.Promise}

 Returns a promise that is resolved with the columns in the result set in order as an array of strings.
If the columns are currently cached, then the promise is immediately resolved with the cached value. Otherwise,
a SELECT query is performed to retrieve a single row in order to get the columns.

If you are looking for all columns for a single table and maybe some information about
each column (e.g. database type), see {@link patio.Database#schema}.

<pre class="code">
 DB.from("table").columns.then(function(columns){
       // => ["id", "name"]
  });
</pre></td><td><code>function (){
   var ret = new Promise();
   if (this.__columns) {
       ret.callback(this.__columns);
   } else {
       var ds = this.unfiltered().unordered().mergeOptions({distinct:null, limit:1});
       ds.forEach().then(hitch(this, function () {
           this.__columns = ds.__columns || [];
           ret.callback(this.__columns);
       }), hitch(ret, "errback"));
   }
   return ret;
               
}</code></td><td>
</td><tr><tr><td>firstSourceAlias</td><td></td><td></td><td>The first source (primary table) for this dataset. If the table is aliased, returns the aliased name.                                     throws a {patio.DatasetError} tf the dataset doesn't have a table. <pre class="code">   DB.from("table").firstSourceAlias;   //=> "table"    DB.from("table___t").firstSourceAlias;   //=> "t" </pre></td><tr><tr><td>firstSourceTable</td><td></td><td></td><td>The first source (primary table) for this dataset.  If the dataset doesn't                                      have a table, raises a <a href='#patio_erros_DatasetError'>patio.erros.DatasetError</a>. <pre class="code">   DB.from("table").firstSourceTable;         //=> "table"   DB.from("table___t").firstSourceTable;         //=> "t" </pre></td><tr><tr><td>identifierInputMethod</td><td></td><td></td><td>this is the method that will be called on each identifier returned from the database.                                          This value will be defaulted to whatever the identifierInputMethod                                          is on the database used in initialization.</td><tr><tr><td>identifierOutputMethod</td><td></td><td></td><td>this is the method that will be called on each identifier sent to the database.                                          This value will be defaulted to whatever the identifierOutputMethod                                          is on the database used in initialization.</td><tr><tr><td>isSimpleSelectAll</td><td></td><td></td><td>Returns true if this dataset is a simple SELECT * FROM {table}, otherwise false. <pre class="code">     DB.from("items").isSimpleSelectAll; //=> true     DB.from("items").filter({a : 1}).isSimpleSelectAll; //=> false </pre></td><tr><tr><td>providesAccurateRowsMatched</td><td></td><td><code>true</code></td><td>Whether this dataset will provide accurate number of rows matched for
  delete and update statements.  Accurate in this case is the number of
  rows matched by the dataset's filter.</td><tr><tr><td>quoteIdentifiers</td><td></td><td><code>true</code></td><td>Whether this dataset quotes identifiers.</td><tr><tr><td>requiresSqlStandardDate</td><td></td><td><code>false</code></td><td>Whether the dataset requires SQL standard datetimes (false by default,
                                                    as most allow strings with ISO 8601 format).</td><tr><tr><td>rowCb</td><td></td><td></td><td>callback to be invoked for each row returned from the database.                      the return value will be used as the result of query. The rowCb can also return a promise,                      The resolved value of the promise will be used as result.</td><tr><tr><td>supportsCte</td><td></td><td><code>true</code></td><td>Whether the dataset supports common table expressions (the WITH clause).</td><tr><tr><td>supportsDistinctOn</td><td></td><td><code>false</code></td><td>Whether the dataset supports the DISTINCT ON clause, false by default.</td><tr><tr><td>supportsIntersectExcept</td><td></td><td><code>true</code></td><td>Whether the dataset supports the INTERSECT and EXCEPT compound operations, true by default.</td><tr><tr><td>supportsIntersectExceptAll</td><td></td><td><code>true</code></td><td>Whether the dataset supports the INTERSECT ALL and EXCEPT ALL compound operations, true by default.</td><tr><tr><td>supportsIsTrue</td><td></td><td><code>true</code></td><td>Whether the dataset supports the IS TRUE syntax.</td><tr><tr><td>supportsJoinUsing</td><td></td><td><code>true</code></td><td>Whether the dataset supports the JOIN table USING (column1, ...) syntax.</td><tr><tr><td>supportsModifyingJoin</td><td></td><td><code>false</code></td><td>Whether modifying joined datasets is supported.</td><tr><tr><td>supportsMultipleColumnIn</td><td></td><td><code>true</code></td><td>Whether the IN/NOT IN operators support multiple columns when an</td><tr><tr><td>supportsTimestampTimezone</td><td></td><td><code>false</code></td><td>Whether the dataset supports timezones in literal timestamps</td><tr><tr><td>supportsTimestampUsecs</td><td></td><td><code>true</code></td><td>Whether the dataset supports fractional seconds in literal timestamps</td><tr><tr><td>supportsWindowFunctions</td><td></td><td><code>false</code></td><td>Whether the dataset supports window functions.</td><tr></table>
    

    <a name="patio_Dataset_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined dataset/index.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>db</em>  : the database this dataset should use when querying for data.</li>
        
            <li> <em>opts</em>  : options to set on this dataset instance</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (db,opts){
   this._super(arguments);
   this.db = db;
   this.__opts = {};
   this.__rowCb = null;
   if (db) {
       this.__quoteIdentifiers = db.quoteIdentifiers;
       this.__identifierInputMethod = db.identifierInputMethod;
       this.__identifierOutputMethod = db.identifierOutputMethod;
   }
           
}
            </pre>
      
    

  
  
    <a name="patio_Dataset_prototype___aggregateDataset"></a>
    <h3>
        __aggregateDataset
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._optionsOverlap(this._static.COUNT_FROM_SELF_OPTS) ? this.fromSelf() : this.unordered();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___argumentList"></a>
    <h3>
        __argumentList
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Do a simple join of the arguments (which should be strings) separated by commas
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   return args.join(this._static.COMMA_SEPARATOR)
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___arrayToConditionSpecifier"></a>
    <h3>
        __arrayToConditionSpecifier
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : array of elements to make a condition specifier out of</li>
    
        <li> <em>defaultOp</em>  : the value to assign a value if one is not provided.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>[[]]</code> an array of two element arrays.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr,defaultOp){
   var ret = [];
   arr.forEach(function (a) {
       if (comb.isString(a)) {
           a = this.stringToIdentifier(a);
       }
       if (comb.isInstanceOf(a, Identifier)) {
           ret.push([a, defaultOp]);
       } else if (comb.isHash(a)) {
           ret = ret.concat(array.toArray(a));
       } else {
           throw new QueryError(&quot;Invalid condition specifier &quot; + a);
       }
   }, this);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___asSql"></a>
    <h3>
        __asSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
SQL fragment for specifying an alias.  expression should already be literalized.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expression</em>  : </li>
    
        <li> <em>alias</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expression,alias){
   return string.format(&quot;%s AS %s&quot;, expression, this.quoteIdentifier(alias));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___columnList"></a>
    <h3>
        __columnList
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Converts an array of column names into a comma seperated string of
column names. If the array is empty, a wildcard (*) is returned.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   return (!columns || columns.length == 0) ? this._static.WILDCARD : this.__expressionList(columns);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___createBetweenExpression"></a>
    <h3>
        __createBetweenExpression
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds.__createBetweenExpression({x : [1,2]}) =&gt; //=&gt; WHERE ((x &gt;= 1) AND (x &lt;= 10))
ds.__createBetweenExpression({x : [1,2]}, true) =&gt; //=&gt; WHERE ((x &lt; 1) OR (x &gt; 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object where the keys are columns and the values are two element arrays.</li>
    
        <li> <em>invert?</em>  : if set to true it inverts the between to make it not between the two values</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> a boolean expression containing the between expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj,invert){
   var pairs = [];
   for (var i in obj) {
       var v = obj[i];
       if (comb.isArray(v) &amp;&amp; v.length) {
           var ident = this.stringToIdentifier(i);
           pairs.push(new BooleanExpression(&quot;AND&quot;, new BooleanExpression(&quot;gte&quot;, ident, v[0]), new BooleanExpression(&quot;lte&quot;, ident, v[1])));
       } else {
           throw new QueryError(&quot;Between requires an array for the value&quot;);
       }
   }
   var ret = pairs.length == 1 ? pairs[0] : BooleanExpression.fromArgs([&quot;AND&quot;].concat(pairs))
   return invert ? BooleanExpression.invert(ret) : ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___createBoolExpression"></a>
    <h3>
        __createBoolExpression
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Creates a boolean expression that each key is compared to its value using the provided operator.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds.__createBoolExpression(&quot;gt&quot;, {x : 1, y:2, z : 5}) //=&gt; WHERE ((x &gt; 1) AND (y &gt; 2) AND (z &gt; 5))
ds.__createBoolExpression(&quot;gt&quot;, [[x, 1], [y,2], [z, 5]) //=&gt; WHERE ((x &gt; 1) AND (y &gt; 2) AND (z &gt; 5))
ds.__createBoolExpression(&quot;lt&quot;, {x : 1, y:2, z : 5}) //=&gt; WHERE ((x &lt; 1) AND (y &lt; 2) AND (z &lt; 5))
ds.__createBoolExpression(&quot;lt&quot;, [[x, 1], [y,2], [z, 5]) //=&gt; WHERE ((x &lt; 1) AND (y &lt; 2) AND (z &lt; 5))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>op</em>  : valid boolean expression operator to capare each K,V pair with</li>
    
        <li> <em>obj</em>  : object or two dimensional array containing key value pairs</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> boolean expression joined by a AND of each key value pair compared by the op</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (op,obj){
   var pairs = [];
   if (Expression.isConditionSpecifier(obj)) {
       if (comb.isHash(obj)) {
           obj = comb.array.toArray(obj);
       }
       obj.forEach(function (pair) {
           pairs.push(new BooleanExpression(op, new Identifier(pair[0]), pair[1]));
       });
   }
   return pairs.length == 1 ? pairs[0] : BooleanExpression.fromArgs([&quot;AND&quot;].concat(pairs));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___defaultServerOpts"></a>
    <h3>
        __defaultServerOpts
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   return comb.merge({server:this.__opts.server || &quot;default&quot;}, opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___expressionList"></a>
    <h3>
        __expressionList
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Converts an array of expressions into a comma separated string of
expressions.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   return columns.map(this.literal, this).join(this._static.COMMA_SEPARATOR);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___hashIdentifierToName"></a>
    <h3>
        __hashIdentifierToName
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>identifier</em>  : identifier to resolve to a string.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the string version of the identifier.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (identifier){
   return comb.isString(identifier) ? this.__hashIdentifierToName(this.stringToIdentifier(identifier)) :
       comb.isInstanceOf(identifier, Identifier) ? identifier.value :
           comb.isInstanceOf(identifier, QualifiedIdentifier) ? identifier.column :
               comb.isInstanceOf(identifier, AliasedExpression) ? identifier.alias : identifier;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype___tableRef"></a>
    <h3>
        __tableRef
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>t</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment specifying a table name.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (t){
   return comb.isString(t) ? this._quotedIdentifier(t) : this.literal(t);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__compoundFromSelf"></a>
    <h3>
        _compoundFromSelf
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Return a [@link patio.sql._Query#fromSelf} dataset if an order or limit is specified, so it works as expected
with UNION, EXCEPT, and INTERSECT clauses.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var opts = this.__opts;
   return (opts[&quot;limit&quot;] || opts[&quot;order&quot;]) ? this.fromSelf() : this;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__datasetAlias"></a>
    <h3>
        _datasetAlias
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
The alias to use for datasets, takes a number to make sure the name is unique.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>number</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (number){
   return this._static.DATASET_ALIAS_BASE_NAME + number;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__deleteFromSql"></a>
    <h3>
        _deleteFromSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._selectFromSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__deleteOrderSql"></a>
    <h3>
        _deleteOrderSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._selectOrderSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__deleteWhereSql"></a>
    <h3>
        _deleteWhereSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._selectWhereSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__filter"></a>
    <h3>
        _filter
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>clause</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (clause){
   var cond = comb.argsToArray(arguments).slice(1), cb;
   if (cond.length &amp;&amp; comb.isFunction(cond[cond.length - 1])) {
       cb = cond.pop();
   }
   cond = cond.length == 1 ? cond[0] : cond
   if ((cond == null || cond == undefined || cond === &quot;&quot;) || (comb.isArray(cond) &amp;&amp; cond.length == 0 &amp;&amp; !cb) || (comb.isObject(cond) &amp;&amp; comb.isEmpty(cond) &amp;&amp; !cb)) {
       return this.mergeOptions();
   } else {
       cond = this._filterExpr(cond, cb);
       var cl = this.__opts[clause];
       cl &amp;&amp; (cond = new BooleanExpression(&quot;AND&quot;, cl, cond));
       var opts = {};
       opts[clause] = cond;
       return this.mergeOptions(opts);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__filterExpr"></a>
    <h3>
        _filterExpr
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expr</em>  : </li>
    
        <li> <em>cb</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expr,cb){
   expr = (comb.isUndefined(expr) || comb.isNull(expr) || (comb.isArray(expr) &amp;&amp; !expr.length)) ? null : expr;
   if (expr &amp;&amp; cb) {
       return new BooleanExpression(&quot;AND&quot;, this._filterExpr(expr), this._filterExpr(cb))
   } else if (cb) {
       expr = cb
   }
   if (comb.isInstanceOf(expr, Expression)) {
       if (comb.isInstanceOf(expr, NumericExpression, StringExpression)) {
           throw new QueryError(&quot;Invalid SQL Expression type : &quot; + expr);
       }
       return expr;
   } else if (comb.isArray(expr)) {
       if (expr.length) {
           var first = expr[0];
           if (comb.isString(first)) {
               return new PlaceHolderLiteralString(first, expr.slice(1), true);
           } else if (Expression.isConditionSpecifier(expr)) {
               return BooleanExpression.fromValuePairs(expr)
           } else {
               return BooleanExpression.fromArgs([&quot;AND&quot;].concat(expr.map(function (e) {
                   return this._filterExpr(e);
               }, this)));
           }
       }
   } else if (comb.isFunction(expr)) {
       return this._filterExpr(expr.call(sql, sql));
   } else if (comb.isBoolean(expr)) {
       return new BooleanExpression(&quot;NOOP&quot;, expr);
   } else if (comb.isString(expr)) {
       return this.stringToIdentifier(expr);
   } else if (comb.isInstanceOf(expr, LiteralString)) {
       return new LiteralString(&quot;(&quot; + expr + &quot;)&quot;);
   } else if (comb.isHash(expr)) {
       return BooleanExpression.fromValuePairs(expr);
   } else {
       throw new QueryError(&quot;Invalid filter argument&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__invertOrder"></a>
    <h3>
        _invertOrder
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>order</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (order){
   var ret = order;
   if (order) {
       ret = order.map(function (o) {
           if (comb.isInstanceOf(o, OrderedExpression)) {
               return o.invert();
           } else {
               return new OrderedExpression(comb.isString(o) ? new Identifier(o) : o);
           }
       }, this);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__joinTypeSql"></a>
    <h3>
        _joinTypeSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
SQL fragment specifying a JOIN type, splits a camelCased join type
and converts to uppercase/
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>joinType</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (joinType){
   return (joinType || &quot;&quot;).replace(/([a-z]+)|([A-Z][a-z]+)/g,
       function (m) {
           return m.toUpperCase() + &quot; &quot;;
       }
   ).trimRight() + &quot; JOIN&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalArray"></a>
    <h3>
        _literalArray
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for Array.  Treats as an expression if an array of all two pairs, or as a SQL array otherwise.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return Expression.isConditionSpecifier(v) ? this._literalExpression(BooleanExpression.fromValuePairs(v)) : this._arraySql(v);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalBoolean"></a>
    <h3>
        _literalBoolean
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>b</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a boolean.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (b){
   return b ? this._static.BOOL_TRUE : this._static.BOOL_FALSE;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalBuffer"></a>
    <h3>
        _literalBuffer
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>b</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for Buffer, treated as an expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (b){
   return &quot;X&#x27;&quot; + b.toString(&quot;hex&quot;) + &quot;&#x27;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalDataset"></a>
    <h3>
        _literalDataset
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for Dataset.  Does a subselect inside parantheses.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset){
   return string.format(&quot;(%s)&quot;, this._subselectSql(dataset));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalDate"></a>
    <h3>
        _literalDate
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>date</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for Date, using the ISO8601 format.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (date){
   return (this.requiresSqlStandardDateTimes ? &quot;DATE &#x27;&quot; : &quot;&#x27;&quot;) + patio.dateToString(date) + &quot;&#x27;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalExpression"></a>
    <h3>
        _literalExpression
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for SQL::Expression, result depends on the specific type of expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return v.toString(this);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalHash"></a>
    <h3>
        _literalHash
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for Hash, treated as an expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return this._literalExpression(BooleanExpression.fromValuePairs(v));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalNull"></a>
    <h3>
        _literalNull
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p></p>



    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for null</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._static.NULL;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalNumber"></a>
    <h3>
        _literalNumber
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>num</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a number.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (num){
   var ret = &quot;&quot; + num;
   if (isNaN(num) || num == Infinity) {
       ret = string.format(&quot;&#x27;%s&#x27;&quot;, ret);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalObject"></a>
    <h3>
        _literalObject
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for Hash, treated as an expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return this._literalExpression(BooleanExpression.fromValuePairs(v));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalOther"></a>
    <h3>
        _literalOther
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a type of object not handled by <a href='#patio_dataset__Sql_prototype_literal'>patio.dataset._Sql#literal</a>.
If object has a method sqlLiteral then it is called with this dataset as the first argument,
otherwise raises an error. Classes implementing sqlLiteral should call a class-specific method
on the dataset provided and should add that method to <a href='#patio_dataset_Dataset'>patio.dataset.Dataset</a>, allowing for adapters
to provide customized literalizations.
If a database specific type is allowed, this should be overriden in a subclass.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   if (comb.isFunction(v.sqlLiteral)) {
       return v.sqlLiteral(this);
   } else {
       throw string.format(&quot;can&#x27;t express %j as a SQL literal&quot;, [v]);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalString"></a>
    <h3>
        _literalString
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for String.  Doubles \ and ' by default.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   var parts = this._splitString(v);
   var table = parts[0], column = parts[1], alias = parts[2];
   if (!alias) {
       return column &amp;&amp; table ? this._literalExpression(QualifiedIdentifier.fromArgs([table, column])) : &quot;&#x27;&quot;
           + v.replace(/\\/g, &quot;\\\\&quot;).replace(/&#x27;/g, &quot;&#x27;&#x27;&quot;) + &quot;&#x27;&quot;
   } else {
       return this.literal(new AliasedExpression(column
           &amp;&amp; table ? QualifiedIdentifier.fromArgs([table, column]) : new Identifier(column), alias));
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalTime"></a>
    <h3>
        _literalTime
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a timestamp, using the ISO8601 format.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return this.formatTimestamp(v, this._static.TIME_FORMAT);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalTimestamp"></a>
    <h3>
        _literalTimestamp
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a timestamp, using the ISO8601 format.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   return this.formatTimestamp(v, this._static.TIMESTAMP_FORMAT)
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__literalYear"></a>
    <h3>
        _literalYear
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>o</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a year.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (o){
   return patio.dateToString(o, this._static.YEAR_FORMAT);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__optionsOverlap"></a>
    <h3>
        _optionsOverlap
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Return true if the dataset has a non-null value for any key in opts.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts</em>  : the options to compate this datasets options to</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Boolean</code> true if the dataset has a non-null value for any key in opts.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   var o = [];
   for (var i in this.__opts) {
       if (!comb.isUndefinedOrNull(this.__opts[i])) {
           o.push(i);
       }
   }
   return !(comb.array.intersect(comb.array.compact(o), opts).length == 0);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__qualifiedExpression"></a>
    <h3>
        _qualifiedExpression
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>

Qualify the given expression to the given table.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>e</em>  : </li>
    
        <li> <em>table</em>  : the table to qualify the expression to</li>
    
        <li> <em>column</em> <code>patio.sql.Expression</code> : the expression to qualify</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (e,table){
   var h, i, args;
   if (comb.isString(e)) {
       //this should not be hit but here just for completeness
       return this.stringToIdentifier(e);
   } else if (comb.isArray(e)) {
       return e.map(function (exp) {
           return this._qualifiedExpression(exp, table);
       }, this);
   } else if (comb.isInstanceOf(e, Identifier)) {
       return new QualifiedIdentifier(table, e);
   } else if (comb.isInstanceOf(e, OrderedExpression)) {
       return new OrderedExpression(this._qualifiedExpression(e.expression, table), e.descending,
           {nulls:e.nulls});
   } else if (comb.isInstanceOf(e, AliasedExpression)) {
       return new AliasedExpression(this._qualifiedExpression(e.expression, table), e.alias);
   } else if (comb.isInstanceOf(e, CaseExpression)) {
       args = [this._qualifiedExpression(e.conditions, table), this._qualifiedExpression(e.def, table)];
       if (e.hasExpression) {
           args.push(this._qualifiedExpression(e.expression, table));
       }
       return CaseExpression.fromArgs(args);
   } else if (comb.isInstanceOf(e, Cast)) {
       return new Cast(this._qualifiedExpression(e.expr, table), e.type);
   } else if (comb.isInstanceOf(e, SQLFunction)) {
       return SQLFunction.fromArgs([e.f].concat(this._qualifiedExpression(e.args, table)));
   } else if (comb.isInstanceOf(e, ComplexExpression)) {
       return ComplexExpression.fromArgs([e.op].concat(this._qualifiedExpression(e.args, table)));
   } else if (comb.isInstanceOf(e, SubScript)) {
       return new SubScript(this._qualifiedExpression(e.f, table), this._qualifiedExpression(e.sub, table));
   } else if (comb.isInstanceOf(e, PlaceHolderLiteralString)) {
       args = [];
       var eArgs = e.args;
       if (comb.isHash(eArgs)) {
           h = {};
           for (i in eArgs) {
               h[i] = this._qualifiedExpression(eArgs[i], table);
           }
           args = h;
       } else {
           args = this._qualifiedExpression(eArgs, table);
       }
       return new PlaceHolderLiteralString(e.str, args, e.parens);
   } else if (comb.isHash(e)) {
       h = {};
       for (i in e) {
           h[this._qualifiedExpression(i, table) + &quot;&quot;] = this._qualifiedExpression(e[i], table);
       }
       return h;
   } else {
       return e;
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectColumnsSql"></a>
    <h3>
        _selectColumnsSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the columns selected</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return &quot; &quot; + this.__columnList(this.__opts.select);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectCompoundsSql"></a>
    <h3>
        _selectCompoundsSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the EXCEPT, INTERSECT, or UNION clause.
This uses a subselect for the compound datasets used, because using parantheses doesn't
work on all databases.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var opts = this.__opts, compounds = opts.compounds, ret = &quot;&quot;;
   if (compounds) {
       compounds.forEach(function (c) {
           var type = c[0], dataset = c[1], all = c[2];
           ret += string.format(&quot; %s%s %s&quot;, type.toUpperCase(), all ? &quot; ALL&quot; : &quot;&quot;,
               this._subselectSql(dataset));
       }, this);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectDistinctSql"></a>
    <h3>
        _selectDistinctSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p></p>



    <em>Returns</em>
    <ul>
    
        <li>  the DISTINCT clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var distinct = this.__opts.distinct, ret = &quot;&quot;;
   if (distinct) {
       ret = &quot; DISTINCT&quot;;
       if (distinct.length) {
           ret += string.format(&quot; ON (%s)&quot;, this.__expressionList(distinct));
       }
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectFromSql"></a>
    <h3>
        _selectFromSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the sql to add the list of tables to select FROM</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var from = this.__opts.from;
   return from ? string.format(&quot; %s%s&quot;, this._static.FROM, this._sourceList(from)) : &quot;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectGroupSql"></a>
    <h3>
        _selectGroupSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the GROUP BY clause</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var group = this.__opts.group;
   return group ? string.format(&quot; GROUP BY %s&quot;, this.__expressionList(group)) : &quot;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectHavingSql"></a>
    <h3>
        _selectHavingSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the sql to add the filter criteria in the HAVING clause</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var having = this.__opts.having;
   return having ? string.format(&quot; HAVING %s&quot;, this.literal(having)) : &quot;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectJoinSql"></a>
    <h3>
        _selectJoinSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the JOIN clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var join = this.__opts.join, ret = &quot;&quot;;
   if (join) {
       join.forEach(function (j) {
           ret += this.literal(j)
       }, this);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectLimitSql"></a>
    <h3>
        _selectLimitSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the LIMIT and OFFSET clauses.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ret = &quot;&quot;, limit = this.__opts.limit, offset = this.__opts.offset;
   !comb.isUndefined(limit) &amp;&amp; !comb.isNull(limit) &amp;&amp; (ret += string.format(&quot; LIMIT %s&quot;, this.literal(limit)));
   !comb.isUndefined(offset) &amp;&amp; !comb.isNull(offset) &amp;&amp; (ret +=
       string.format(&quot; OFFSET %s&quot;, this.literal(offset)));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectLockSql"></a>
    <h3>
        _selectLockSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  SQL for different locking modes.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var lock = this.__opts.lock, ret = &quot;&quot;;
   if (lock) {
       if (lock == &quot;update&quot;) {
           ret += this._static.FOR_UPDATE;
       } else {
           ret += &quot; &quot; + lock;
       }
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectOrderSql"></a>
    <h3>
        _selectOrderSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the SQL ORDER BY clause fragment.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var order = this.__opts.order;
   return order ? string.format(&quot; ORDER BY %s&quot;, this.__expressionList(order)) : &quot;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectWhereSql"></a>
    <h3>
        _selectWhereSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  the SQL WHERE clause fragment.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var where = this.__opts.where;
   return where ? string.format(&quot; WHERE %s&quot;, this.literal(where)) : &quot;&quot;;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectWithSql"></a>
    <h3>
        _selectWithSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL WITH clause fragment.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql){
   var wit = this.__opts[&quot;with&quot;], ret = &quot;&quot;;
   if (wit &amp;&amp; wit.length) {
       ret = string.format(&quot;%s %s %s&quot;, this._selectWithSqlBase(), wit.map(
           function (w) {
               var r = &quot;&quot;;
               r += this.quoteIdentifier(w.name);
               w.args &amp;&amp; (r += string.format(&quot;(%s)&quot;, this.__argumentList(w.args)));
               r += &quot; AS &quot; + this._literalDataset(w.dataset);
               return r;
           }, this).join(this._static.COMMA_SEPARATOR), sql);
   } else {
       ret = sql;
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__selectWithSqlBase"></a>
    <h3>
        _selectWithSqlBase
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  The base keyword to use for the SQL WITH clause</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._static.SQL_WITH;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__sourceList"></a>
    <h3>
        _sourceList
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Converts an array of source names into into a comma separated list.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>source</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (source){
   if (!Array.isArray(source)) {
       source = [source];
   }
   if (!source || !source.length) {
       throw new QueryError(&quot;No source specified for the query&quot;);
   }
   return &quot; &quot; + source.map(
       function (s) {
           return this.__tableRef(s);
       }, this).join(this._static.COMMA_SEPARATOR);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__splitAlias"></a>
    <h3>
        _splitAlias
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Splits a possible implicit alias, handling both <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a>s
and strings.  Returns an array of two elements, with the first being the
main expression, and the second being the alias. Alias may be null if it is a
string that does not contain an alias {table}___{alias}.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>c</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (c){
   var ret;
   if (comb.isInstanceOf(c, AliasedExpression)) {
       ret = [c.expression, c.alias];
   } else if (comb.isString(c)) {
       var parts = this._splitString(c), cTable = parts[0], column = parts[1], alias = parts[2];
       if (alias) {
           ret = [cTable ? new QualifiedIdentifier(cTable, column) : column, alias];
       } else {
           ret = [c, null];
       }
   } else {
       ret = [c, null];
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__splitString"></a>
    <h3>
        _splitString
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/index.js</em>

<p>
Can either be a string or null.


</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//columns
 table__column___alias //=&gt; table.column as alias
 table__column //=&gt; table.column
 //tables
 schema__table___alias //=&gt; schema.table as alias
 schema__table //=&gt; schema.table

//name and alias
columnOrTable___alias //=&gt; columnOrTable as alias
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>s</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String[]</code> an array with the elements being:
<ul>
     <li>For columns :[table, column, alias].</li>
     <li>For tables : [schema, table, alias].</li>
</ul></li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (s){
   var ret, m;
   if ((m = s.match(this._static.COLUMN_REF_RE1)) != null) {
       ret = m.slice(1);
   }
   else if ((m = s.match(this._static.COLUMN_REF_RE2)) != null) {
       ret = [null, m[1], m[2]];
   }
   else if ((m = s.match(this._static.COLUMN_REF_RE3)) != null) {
       ret = [m[1], m[2], null];
   }
   else {
       ret = [null, s, null];
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__staticSql"></a>
    <h3>
        _staticSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL to use if this dataset uses static SQL.  Since static SQL
can be a PlaceholderLiteralString in addition to a String,
we literalize nonstrings.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql){
   return comb.isString(sql) ? sql : this.literal(sql);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__subselectSql"></a>
    <h3>
        _subselectSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment for a subselect using the given database's SQL.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   return ds.sql;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__toTableName"></a>
    <h3>
        _toTableName
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Returns a string that is the name of the table.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the object to get the table name from.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the name of the table.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If the name is not a String <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>,
<a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a> or <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a>.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   var ret;
   if (comb.isString(name)) {
       var parts = this._splitString(name);
       var schema = parts[0], table = parts[1], alias = parts[2];
       ret = (schema || alias) ? alias || table : table;
   } else if (comb.isInstanceOf(name, Identifier)) {
       ret = name.value;
   } else if (comb.isInstanceOf(name, QualifiedIdentifier)) {
       ret = this._toTableName(name.column);
   } else if (comb.isInstanceOf(name, AliasedExpression)) {
       ret = this.__toAliasedTableName(name.alias);
   } else {
       throw new QueryError(&quot;Invalid object to retrieve the table name from&quot;);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__unaliasedIdentifier"></a>
    <h3>
        _unaliasedIdentifier
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Return the unaliased part of the identifier.  Handles both
implicit aliases in strings, as well as <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a>s.
Other objects are returned as is.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>c</em>  : </li>
    
        <li> <em>tableAlias</em> <code>String|patio.sql.AliasedExpression|*</code> : the object to un alias</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.QualifiedIdentifier|String|*</code> the unaliased portion of the identifier</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (c){
   if (comb.isString(c)) {
       var parts = this._splitString(c);
       var table = parts[0], column = parts[1];
       if (table) {
           return new QualifiedIdentifier(table, column);
       }
       return column;
   } else if (comb.isInstanceOf(c, AliasedExpression)) {
       return c.expression;
   } else {
       return c;
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__updateOrderSql"></a>
    <h3>
        _updateOrderSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._selectOrderSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__updateSetSql"></a>
    <h3>
        _updateSetSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li>  The SQL fragment specifying the columns and values to SET.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var values = this.__opts.values, defs = this.__opts.defaults, overrides = this.__opts.overrides;
   var st = &quot;&quot;;
   if (comb.isArray(values)) {
       var v = [], mergedDefsAndOverrides = false, length = values.length;
       for (var i = 0; i &lt; length; i++) {
           var val = values[i];
           if (comb.isHash(val)) {
               mergedDefsAndOverrides = true;
               val = comb.merge({}, defs || {}, val);
               val = comb.merge({}, val, overrides || {});
               for (var j in val) {
                   var ident = this.stringToIdentifier(j);
                   v.push(this.quoteIdentifier(ident) + &quot; = &quot; + this.literal(val[j]));
               }
           } else if (comb.isInstanceOf(val, Expression)) {
               v.push(this._literalExpression(val).replace(/^\(|\)$/g, &quot;&quot;));
           } else {
               v.push(val);
           }
       }
       if (!mergedDefsAndOverrides) {
           var val = comb.merge({}, defs || {});
           val = comb.merge({}, val, overrides || {});
           for (var i in val) {
               var ident = this.stringToIdentifier(i);
               v.push(this.quoteIdentifier(ident) + &quot; = &quot; + this.literal(val[i]));
           }
       }
       st += v.join(this._static.COMMA_SEPARATOR);
   } else {
       st = values;
   }
   return &quot; SET &quot; + st;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__updateTableSql"></a>
    <h3>
        _updateTableSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  SQL fragment specifying the tables to delete from.
Includes join table if modifying joins is allowed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql){
   var ret = this._sourceList(this.__opts.from);
   if (this.supportsModifyingJoins) {
       ret += this._selectJoinSql();
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype__updateWhereSql"></a>
    <h3>
        _updateWhereSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._selectWhereSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_addGraphAliases"></a>
    <h3>
        addGraphAliases
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Adds the given graph aliases to the list of graph aliases to use,
unlike <a href='#patio_Dataset_prototype_setGraphAliases'>patio.Dataset#setGraphAliases</a>, which replaces the list (the equivalent
of <a href='#patio_Dataset_prototype_selectMore'>patio.Dataset#selectMore</a> when graphing).  See <a href='#patio_Dataset_prototype_setGraphAliases'>patio.Dataset#setGraphAliases</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var DB = patio.defaultDatabase;
 // SELECT ..., table.column AS someAlias
  DB.from(&quot;table&quot;).addGraphAliases({someAlias : [&quot;table&quot;, &quot;column&quot;]);
  //returns from graphing
  // =&gt; {table : {column : someAlias_value, ...}, ...}
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>graphAliases</em>  : the graph aliases to use.          Where key is the alias name and the value is an array where arr[0] = 'tableName' arr[1] = "colName'.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> deep copy of the original dataset with the added graphAliases.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (graphAliases){
   var ds = this.selectMore.apply(this, this.__graphAliasColumns(graphAliases));
   ds.__opts.graphAliases = comb.merge((ds.__opts.graphAliases || (ds.__opts.graph ? ds.__opts.graph.columnAliases : {}) || {}), graphAliases);
   return ds;
       
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_aliasedExpressionSql"></a>
    <h3>
        aliasedExpressionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ae</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ae){
   return this.__asSql(this.literal(ae.expression), ae.alias);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_all"></a>
    <h3>
        all
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a Promise that is resolved with an array with all records in the dataset.
If a block is given, the array is iterated over after all items have been loaded.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
DB.from(&quot;table&quot;).all().then(function(res){
     //res === [{id : 1, ...}, {id : 2, ...}, ...];
});
// Iterate over all rows in the table
var myArr = [];
var rowPromise = DB.from(&quot;table&quot;).all(function(row){ myArr.push(row);});
rowPromise.then(function(rows){
   //=&gt; rows == myArr;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>block</em>  : a block to be called with each item. The return value of the block is ignored.</li>
    
        <li> <em>cb?</em>  : a block to invoke when the action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with an array of rows.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (block,cb){
   var a = [];
   var ret = new Promise();
   this.forEach(hitch(this, function (r) {
       a.push(r);
   })).then(hitch(this, function () {
       this.postLoad(a);
       if (block) {
           a.forEach(block, this);
       }
       ret.callback(a);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_and"></a>
    <h3>
        and
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds a futher filter to an existing filter using AND. This method is identical to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>
except it expects an existing filter.

<p>
    <b>For parameter types see <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</b>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).filter(&quot;a&quot;).and(&quot;b&quot;).sql;
     //=&gt;SELECT * FROM table WHERE a AND b
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the condtion added to the WHERE/HAVING clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If no WHERE?HAVING clause exists.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var tOpts = this.__opts, clauseObj = tOpts[tOpts.having ? &quot;having&quot; : &quot;where&quot;];
   if (clauseObj) {
       return this.filter.apply(this, arguments);
   } else {
       throw new QueryError(&quot;No existing filter found&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_avg"></a>
    <h3>
        avg
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with the average value for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT avg(number) FROM table LIMIT 1
DB.from(&quot;table&quot;).avg(&quot;number&quot;).then(function(avg){
     // avg === 3
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to average</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the average value of the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.avg(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_between"></a>
    <h3>
        between
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset with a between clause added
to the where clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds.notBetween({x:[1, 2]}).sql;
         //=&gt; SELECT * FROM test WHERE ((x &gt;= 1) OR (x &lt;= 2))

 ds.find({x:{notBetween:[1, 2]}}).sql;
         //=&gt; SELECT * FROM test WHERE ((x &gt;= 1) OR (x &lt;= 2))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object where the key is the column and the value is an array where the first element                     is the item to be greater than or equal to than and the second item is less than or equal to than.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with a between clause added
to the where clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBetweenExpression(obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_booleanConstantSql"></a>
    <h3>
        booleanConstantSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>constant</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (constant){
   return this.literal(constant)
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_caseExpressionSql"></a>
    <h3>
        caseExpressionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ce</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ce){
   var sql = &#x27;(CASE &#x27;;
   if (ce.expression) {
       sql += this.literal(ce.expression) + &quot; &quot;;
   }
   var conds = ce.conditions;
   if (comb.isArray(conds)) {
       conds.forEach(function (cond) {
           sql += string.format(&quot;WHEN %s THEN %s&quot;, this.literal(cond[0]), this.literal(cond[1]));
       }, this);
   } else if (comb.isHash(conds)) {
       for (var i in conds) {
           sql += string.format(&quot;WHEN %s THEN %s&quot;, this.literal(i), this.literal(conds[i]));
       }
   }
   return string.format(&quot;%s ELSE %s END)&quot;, sql, this.literal(ce.def));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_castSql"></a>
    <h3>
        castSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expr</em>  : </li>
    
        <li> <em>type</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expr,type){
   return string.format(&quot;CAST(%s AS %s)&quot;, this.literal(expr), this.db.castTypeLiteral(type));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_columnAllSql"></a>
    <h3>
        columnAllSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ca</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ca){
   return  string.format(&quot;%s.*&quot;, this.quoteSchemaTable(ca.table));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_complexExpressionSql"></a>
    <h3>
        complexExpressionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>op</em>  : </li>
    
        <li> <em>args</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (op,args){
   var newOp;
   var isOperators = this._static.IS_OPERATORS, isLiterals = this._static.IS_LITERALS;
   if ((newOp = isOperators[op]) != null) {
       var r = args[1], v = comb.isNull(r) ? isLiterals.NULL : isLiterals[r];
       if (r == null || this.supportsIsTrue) {
           if (comb.isUndefined(v)) {
               throw new QueryError(string.format(&quot;Invalid argument(&#x27;%s&#x27;) used for IS operator&quot;, r));
           }
           l = args[0];
           return string.format(&quot;(%s %s %s)&quot;, comb.isString(l) ? l : this.literal(l), newOp, v);
       } else if (op == &quot;IS&quot;) {
           return this.complexExpressionSql(&quot;EQ&quot;, args);
       } else {
           return this.complexExpressionSql(&quot;OR&quot;,
               [BooleanExpression.fromArgs([&quot;NEQ&quot;].concat(args)), new BooleanExpression(&quot;IS&quot;, args[0],
                   null)]);
       }
   } else if ([&quot;IN&quot;, &quot;NOTIN&quot;].indexOf(op) != -1) {
       var cols = args[0], vals = args[1], colArray = comb.isArray(cols), valArray = false, emptyValArray = false;
       if (comb.isArray(vals)) {
           valArray = true;
           emptyValArray = vals.length == 0;
       }
       if (colArray) {
           if (emptyValArray) {
               if (op == &quot;IN&quot;) {
                   return this.literal(BooleanExpression.fromValuePairs(cols.map(function (x) {
                       return  [x, x];
                   }), &quot;AND&quot;, true));
               } else {
                   return this.literal({1:1});
               }
           } else if (!this.supportsMultipleColumnIn) {
               if (valArray) {
                   var expr = BooleanExpression.fromArgs([&quot;OR&quot;].concat(vals.map(function (vs) {
                       return BooleanExpression.fromValuePairs(array.zip(cols, vs))
                   })));
                   return this.literal(op == &quot;IN&quot; ? expr : expr.invert())
               }
           } else {
               //If the columns and values are both arrays, use _arraySql instead of
               //literal so that if values is an array of two element arrays, it
               //will be treated as a value list instead of a condition specifier.
               return string.format(&quot;(%s %s %s)&quot;, comb.isString(cols) ? cols : this.literal(cols),
                   ComplexExpression.IN_OPERATORS[op],
                   valArray ? this._arraySql(vals) : this.literal(vals));
           }
       }
       else {
           if (emptyValArray) {
               if (op == &quot;IN&quot;) {
                   return this.literal(BooleanExpression.fromValuePairs([
                       [cols, cols]
                   ], &quot;AND&quot;, true));
               } else {
                   return this.literal({1:1});
               }
           } else {
               return string.format(&quot;(%s %s %s)&quot;, comb.isString(cols) ? cols : this.literal(cols),
                   ComplexExpression.IN_OPERATORS[op], this.literal(vals));
           }
       }
   } else if ((newOp = this._static.TWO_ARITY_OPERATORS[op]) != null) {
       var l = args[0];
       return string.format(&quot;(%s %s %s)&quot;, comb.isString(l) ? l : this.literal(l), newOp,
           this.literal(args[1]));
   } else if ((newOp = this._static.N_ARITY_OPERATORS[op]) != null) {
       return string.format(&quot;(%s)&quot;, args.map(this.literal, this).join(&quot; &quot; + newOp + &quot; &quot;));
   } else if (op == &quot;NOT&quot;) {
       return string.format(&quot;NOT %s&quot;, this.literal(args[0]));
   } else if (op == &quot;NOOP&quot;) {
       return this.literal(args[0]);
   } else {
       throw new QueryError(&quot;Invalid operator &quot; + op);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_compoundClone"></a>
    <h3>
        compoundClone
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add the dataset to the list of compounds

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : the type of compound (i.e. "union", "intersect")</li>
    
        <li> <em>dataset</em>  : the dataset to add to</li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>Object?</em>  : [options={}] compound option to use (i.e {all : true})</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> ds with the dataset added to the compounds.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type,dataset,options){
   var ds = this._compoundFromSelf().mergeOptions({compounds:(comb.array.toArray(this.__opts.compounds || [])).concat([
       [type, dataset._compoundFromSelf(), options.all]
   ])});
   return options.fromSelf === false ? ds : ds.fromSelf(options);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_constantSql"></a>
    <h3>
        constantSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>constant</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (constant){
   return &quot;&quot; + constant;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_count"></a>
    <h3>
        count
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with the number of records in the dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT COUNT(*) AS count FROM table LIMIT 1
DB.from(&quot;table&quot;).count().then(function(count){
    //count === 3;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the the number of records in the dataset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise();
   this.__aggregateDataset().get(sql.COUNT(sql.literal(&quot;*&quot;)).as(&quot;count&quot;)).then(hitch(this, function (res) {
       ret.callback(parseInt(res, 10));
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_distinct"></a>
    <h3>
        distinct
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the SQL DISTINCT clause.
The DISTINCT clause is used to remove duplicate rows from the
output.  If arguments are provided, uses a DISTINCT ON clause,
in which case it will only be distinct on those columns, instead
of all returned columns.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).distinct().sqll
     //=&gt; SELECT DISTINCT * FROM items
DB.from(&quot;items&quot;).order(&quot;id&quot;).distinct(&quot;id&quot;).sql;
     //=&gt; SELECT DISTINCT ON (id) * FROM items ORDER BY id
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of arguments used to create                                                 the DISTINCT ON clause.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the DISTINCT/DISTINCT ON clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If arguments are given and DISTINCT ON is not supported.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   if (args.length &amp;&amp; !this.supportsDistinctOn) {
       throw new QueryError(&quot;DISTICT ON is not supported&quot;);
   }
   args = args.map(function (a) {
       return comb.isString(a) ? new Identifier(a) : a;
   });
   return this.mergeOptions({distinct:args});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_eq"></a>
    <h3>
        eq
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with an equal expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).eq({x : 1});
         //=&gt; SELECT * FROM test WHERE (x = 1)
 DB.from(&quot;test&quot;).eq({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x = 1) AND (y = 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the equal expression</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the equal expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;eq&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_except"></a>
    <h3>
        except
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds an EXCEPT clause using a second dataset object.
An EXCEPT compound dataset returns all rows in the current dataset
that are not in the given dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).except(DB.from(&quot;other_items&quot;)).sql;
     //=&gt; SELECT * FROM items EXCEPT SELECT * FROM other_items

DB.from(&quot;items&quot;).except(DB.from(&quot;other_items&quot;),
                       {all : true, fromSelf : false}).sql;
     //=&gt; SELECT * FROM items EXCEPT ALL SELECT * FROM other_items

DB.from(&quot;items&quot;).except(DB.from(&quot;other_items&quot;),
                       {alias : &quot;i&quot;}).sql;
     //=&gt;SELECT * FROM (SELECT * FROM items EXCEPT SELECT * FROM other_items) AS i
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : the dataset to use to create the EXCEPT clause.</li>
    
        <li> <em>opts?</em>  : options to use when creating the EXCEPT clause</li>
    
        <li> <em>opt.alias?</em> <code>String|patio.sql.Identifier</code> : Use the given value as the <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a> alias.</li>
    
        <li> <em>opts.all?</em> <code>Boolean</code> : Set to true to use EXCEPT ALL instead of EXCEPT, so duplicate rows can occur</li>
    
        <li> <em>opts.fromSelf?</em> <code>Boolean</code> : Set to false to not wrap the returned dataset in a <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a>, use with care.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the EXCEPT clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> if the operation is not supported.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   if (!comb.isHash(opts)) {
       opts = {all:true};
   }
   if (!this.supportsIntersectExcept) {
       throw new QueryError(&quot;EXCEPT not supoorted&quot;);
   } else if (opts.hasOwnProperty(&quot;all&quot;) &amp;&amp; !this.supportsIntersectExceptAll) {
       throw new QueryError(&quot;EXCEPT ALL not supported&quot;);
   }
   return this.compoundClone(&quot;except&quot;, dataset, opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_exclude"></a>
    <h3>
        exclude
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Performs the inverse of <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.  Note that if you have multiple filter
conditions, this is not the same as a negation of all conditions. For argument types see
<a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).exclude({category : &quot;software&quot;).sql;
     //=&gt; SELECT * FROM items WHERE (category != &#x27;software&#x27;)

DB.from(&quot;items&quot;).exclude({category : &#x27;software&#x27;, id : 3}).sql;
     //=&gt; SELECT * FROM items WHERE ((category != &#x27;software&#x27;) OR (id != 3))
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the excluded conditions applied to the HAVING/WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var cond = comb.argsToArray(arguments), tOpts = this.__opts;
   var clause = (tOpts[&quot;having&quot;] ? &quot;having&quot; : &quot;where&quot;), clauseObj = tOpts[clause];
   cond = cond.length &gt; 1 ? cond : cond[0];
   cond = this._filterExpr.call(this, cond);
   cond = BooleanExpression.invert(cond);
   if (clauseObj) {
       cond = new BooleanExpression(&quot;AND&quot;, clauseObj, cond)
   }
   var opts = {};
   opts[clause] = cond;
   return this.mergeOptions(opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_execute"></a>
    <h3>
        execute
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,block){
   if (comb.isFunction(opts)) {
       block = opts;
       opts = {};
   } else {
       opts = opts || {};
   }
   return this.db.execute(sql, comb.merge({server:this.__opts.server || &quot;readOnly&quot;}, opts), block);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_executeDdl"></a>
    <h3>
        executeDdl
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,block){
   opts = opts || {};
   return this.db.executeDdl(sql, this.__defaultServerOpts(opts), block);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_executeDui"></a>
    <h3>
        executeDui
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,block){
   opts = opts || {};
   return this.db.executeDui(sql, this.__defaultServerOpts(opts), block);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_executeInsert"></a>
    <h3>
        executeInsert
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,opts,block){
   opts = opts || {};
   return this.db.executeInsert(sql, this.__defaultServerOpts(opts), block);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_fetchRows"></a>
    <h3>
        fetchRows
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : </li>
    
        <li> <em>cb</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql,cb){
   throw new NotImplemented(&quot;fetchRows must be implemented by the adapter&quot;);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_filter"></a>
    <h3>
        filter
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the given conditions applied to it.
If the query already has a HAVING clause, then the conditions are applied to the
HAVING clause otherwise they are applied to the WHERE clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({id : 3}).sql;
     //=&gt; SELECT * FROM items WHERE (id = 3)

DB.from(&quot;items&quot;).filter(&#x27;price &lt; ?&#x27;, 100)
     //=&gt; SELECT * FROM items WHERE price &lt; 100

DB.from(&quot;items&quot;).filter({id, [1,2,3]}).filter({id : {between : [0, 10]}}).sql;
     //=&gt; SELECT
              *
          FROM
              items
          WHERE
              ((id IN (1, 2, 3)) AND ((id &gt;= 0) AND (id &lt;= 10)))

DB.from(&quot;items&quot;).filter(&#x27;price &lt; 100&#x27;);
     //=&gt; SELECT * FROM items WHERE price &lt; 100

DB.from(&quot;items&quot;).filter(&quot;active&quot;).sql;
     //=&gt; SELECT * FROM items WHERE active

DB.from(&quot;items&quot;).filter(function(){
     return this.price.lt(100);
});
     //=&gt; SELECT * FROM items WHERE (price &lt; 100)

//Multiple filter calls can be chained for scoping:
DB.from(&quot;items&quot;).filter(:category =&gt; &#x27;software&#x27;).filter{price &lt; 100}
     //=&gt; SELECT * FROM items WHERE ((category = &#x27;software&#x27;) AND (price &lt; 100))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : filters to apply to the  WHERE/HAVING clause. Description of each:  <ul>      <li>Hash - list of equality/inclusion expressions</li>      <li>Array - depends:          <ul>              <li>If first member is a string, assumes the rest of the arguments                  are parameters and interpolates them into the string.</li>              <li>If all members are arrays of length two, treats the same way                  as a hash, except it allows for duplicate keys to be                  specified.</li>              <li>Otherwise, treats each argument as a separate condition.</li>           </ul>       </li>      <li>String - taken literally</li>      <li><a href='#patio_sql_Identifier'>patio.sql.Identifier</a> - taken as a boolean column argument (e.g. WHERE active)</li>      <li><a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> - an existing condition expression,          probably created using the patio.sql methods.       </li></li>
    
        <li> <em>cb?</em>  : filter also takes a cb, which should return one of the above argument
types, and is treated the same way.  This block is called with an <a href='#patio_sql'>patio.sql</a> object which can be used to dynaically create expression.  For more details
on the sql object see <a href='#patio_sql'>patio.sql</a>

<p>
    <b>NOTE:</b>If both a cb and regular arguments are provided, they get ANDed together.
</p></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the filter arumgents applied to the WHERE/HAVING clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args,cb){
   args = [this.__opts[&quot;having&quot;] ? &quot;having&quot; : &quot;where&quot;].concat(comb.argsToArray(arguments));
   return this._filter.apply(this, args);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_find"></a>
    <h3>
        find
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = [this.__opts[&quot;having&quot;] ? &quot;having&quot; : &quot;where&quot;].concat(comb.argsToArray(arguments));
   return this._filter.apply(this, args);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_first"></a>
    <h3>
        first
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
If a integer argument is given, it is interpreted as a limit, and then returns all
matching records up to that limit.

If no arguments are passed, it returns the first matching record.

If a function taking no arguments is passed in as the last parameter then it
is assumed to be a filter block. If the a funciton is passed in that takes arguments
then it is assumed to be a callback. You may also pass in both the second to last argument
being a filter function, and the last being a callback.

If any other type of argument(s) is passed, it is given to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> and the
first matching record is returned.  Examples:

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
comb.executeInOrder(DB.from(&quot;table&quot;), function(ds){
  // SELECT * FROM table LIMIT 1
  ds.first(); // =&gt; {id : 7}

  // SELECT * FROM table LIMIT 2
  ds.first(2); // =&gt; [{id : 6}, {id : 4}]

  // SELECT * FROM table WHERE (id = 2) LIMIT 1
  ds.first({id : 2}) // =&gt; {id : 2}


 // SELECT * FROM table WHERE (id = 3) LIMIT 1
  ds.first(&quot;id = 3&quot;); // =&gt; {id : 3}

  // SELECT * FROM table WHERE (id = 4) LIMIT 1
  ds.first(&quot;id = ?&quot;, 4); // =&gt; {id : 4}

  // SELECT * FROM table WHERE (id &gt; 2) LIMIT 1
  ds.first(function(){return this.id.gt(2);}); // =&gt; {id : 5}


  // SELECT * FROM table WHERE ((id &gt; 4) AND (id &lt; 6)) LIMIT 1
  ds.first(&quot;id &gt; ?&quot;, 4, function(){
         return this.id.lt(6);
  }); // =&gt; {id : 5}

   // SELECT * FROM table WHERE (id &lt; 2) LIMIT 2
  ds.first(2, function(){
         return this.id.lt(2)
  }); // =&gt; [{id:1}]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : varargs to be used to limit/filter the result set.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the either the first matching record.
                       Or an array of items if a limit was provided as the first argument.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   var cb, block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   if (block &amp;&amp; block.length &gt; 0) {
       cb = block;
       block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   }
   var ds = block ? this.filter(block) : this;
   if (!args.length) {
       return ds.singleRecord(cb);
   } else {
       args = (args.length === 1) ? args.shift() : args;
       if (comb.isNumber(args)) {
           return ds.limit(args).all(null, cb);
       } else {
           return ds.filter(args).singleRecord(cb);
       }
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_forEach"></a>
    <h3>
        forEach
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Iterates over the records in the dataset as they are returned from the
database adapter.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
DB.from(&quot;table&quot;).forEach(function(row){
     //....do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>block?</em>  : the block to invoke for each row.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved when the action has completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (block,cb){
   var rowCb, ret;
   if (this.__opts.graph) {
       ret = this.graphEach(block);
   } else if ((rowCb = this.rowCb)) {
       ret = this.fetchRows(this.selectSql, function (r) {
           var ret = new comb.Promise();
           try {
               comb.when(rowCb(r), function (r) {
                   try {
                       comb.when(block(r), hitch(ret, &quot;callback&quot;, r), hitch(ret, &quot;errback&quot;));
                   } catch (e) {
                       ret.errback(e);
                   }
               }, hitch(ret, &quot;errback&quot;));
           } catch (e) {
               ret.errback(e);
           }
           return ret;
       });
   } else {
       ret = this.fetchRows(this.selectSql, block);
   }
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_forUpdate"></a>
    <h3>
        forUpdate
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).forUpdate()
         //=&gt; SELECT * FROM table FOR UPDATE
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with a "update" lock style.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.lockStyle(&quot;update&quot;);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_from"></a>
    <h3>
        from
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the source changed. If no
source is given, removes all tables.  If multiple sources
are given, it is the same as using a CROSS JOIN (cartesian product) between all tables.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var dataset = DB.from(&quot;items&quot;);

dataset.from().sql;
     //=&gt; SELECT *

dataset.from(&quot;blah&quot;).sql
     //=&gt; SELECT * FROM blah

dataset.from(&quot;blah&quot;, &quot;foo&quot;)
     //=&gt; SELECT * FROM blah, foo

dataset.from({a:&quot;b&quot;}).sql;
     //=&gt; SELECT * FROM a AS b

dataset.from(dataset.from(&quot;a&quot;).group(&quot;b&quot;).as(&quot;c&quot;)).sql;
         //=&gt; &quot;SELECT * FROM (SELECT * FROM a GROUP BY b) AS c&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>source?</em>  : tables to select from</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the FROM clause overridden.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (source){
   source = comb.argsToArray(arguments);
   var tableAliasNum = 0, sources = [];
   source.forEach(function (s) {
       if (comb.isInstanceOf(s, Dataset)) {
           sources.push(new AliasedExpression(s, this._datasetAlias(++tableAliasNum)));
       } else if (comb.isHash(s)) {
           for (var i in s) {
               sources.push(new AliasedExpression(new Identifier(i), s[i]));
           }
       } else if (comb.isString(s)) {
           sources.push(this.stringToIdentifier(s))
       } else {
           sources.push(s);
       }
   }, this);
   var o = {from:sources.length ? sources : null}
   if (tableAliasNum) {
       o.numDatasetSources = tableAliasNum;
   }
   return this.mergeOptions(o)
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_fromSelf"></a>
    <h3>
        fromSelf
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a dataset selecting from the current dataset.
Supplying the alias option controls the alias of the result.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds = DB.from(&quot;items&quot;).order(&quot;name&quot;).select(&quot;id&quot;, &quot;name&quot;)
     //=&gt; SELECT id,name FROM items ORDER BY name

ds.fromSelf().sql;
     //=&gt; SELECT * FROM (SELECT id, name FROM items ORDER BY name) AS t1

ds.fromSelf({alias : &quot;foo&quot;}).sql;
     //=&gt; SELECT * FROM (SELECT id, name FROM items ORDER BY name) AS foo
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts?</em>  : options</li>
    
        <li> <em>opts.alias?</em> <code>String|patio.sql.Identifier</code> : alias to use</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the FROM clause set as the current dataset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   var fs = {};
   var nonSqlOptions = this._static.NON_SQL_OPTIONS;
   Object.keys(this.__opts).forEach(function (k) {
       if (nonSqlOptions.indexOf(k) == -1) {
           fs[k] = null;
       }
   });
   return this.mergeOptions(fs).from(opts[&quot;alias&quot;] ? this.as(opts[&quot;alias&quot;]) : this);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_functionSql"></a>
    <h3>
        functionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>f</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (f){
   var args = f.args
   return string.format(&quot;%s%s&quot;, f.f, args.length == 0 ? &#x27;()&#x27; : this.literal(args));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_get"></a>
    <h3>
        get
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Return the column value for the first matching record in the dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id FROM table LIMIT 1
 DB.from(&quot;table&quot;).get(&quot;id&quot;).then(function(val){
  // val === 3
 });


// SELECT sum(id) FROM table LIMIT 1
ds.get(sql.sum(&quot;id&quot;)).then(function(val){
     // val === 6;
});

// SELECT sum(id) FROM table LIMIT 1
ds.get(function(){
     return this.sum(&quot;id&quot;);
}).then(function(val){
     // val === 6;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to filter on can be anything that            <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> accepts.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved will the value requested.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.select(column).singleValue(cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_graph"></a>
    <h3>
        graph
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Allows you to join multiple datasets/tables and have the result set
split into component tables.

This differs from the usual usage of join, which returns the result set
as a single hash.

<pre class="code">

//CREATE TABLE artists (id INTEGER, name TEXT);
//CREATE TABLE albums (id INTEGER, name TEXT, artist_id INTEGER);

var DB = patio.defaultDatabase, ds = db.from("artists");
ds.leftAuterJoin("albums", {artistId : "id"}).first
  //=> {id : albums.id, name : albums.name, artist_id : albums.artist_id}

var p = comb.executeInOrder(ds, function(ds){
  var graphedDs = ds.graph("albums", {artist_id : "id"});
  return graphedDs.first();
});
p.then(function(obj){
   //obj == {artists : {
                 id : artists.id,
                 name : artists.name
                 },
            albums : {
                 id : albums.id,
                 name : albums.name,
                 artist_id=>albums.artist_id
                 }
            }
});
</pre>

Using a join such as leftOuterJoin, the attribute names that are shared between
the tables are combined in the single return hash.  You can get around that by
using <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> with correct aliases for all of the columns, but it is simpler to
use <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a> and have the result set split for you.  In addition, <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a> respects
any <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a> of the current dataset and the datasets you use with <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a>.

If you are graphing a table and all columns for that table are null, this
indicates that no matching rows existed in the table, so graph will return null.
instead of a hash with all nil values:

<pre class="code">
  // Psuedo code there will be promises returned
  /// If the artist doesn't have any albums

  var DB = patio.defaultDatabase, ds = db.from("artists");
  var obj = ds.graph(:albums, :artist_id=>:id).first()
  //obj == { artists : {id : artists.id, name : artists.name}, albums : null};
</pre>


</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : </li>
    
        <li> <em>joinConditions</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
        <li> <em>eter</em>  : {Function} block  A function that is passed to <a href='#patio_Dataset_prototype_joinTable'>patio.Dataset#joinTable</a>.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,joinConditions,options,block){
   var ret = new comb.Promise();
   var args = comb.argsToArray(arguments).slice(1);
   block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   joinConditions = args.shift() || null;
   options = args.shift() || {};
   // Allow the use of a model, dataset, or string as the first argument
   // Find the table name/dataset based on the argument
   dataset.hasOwnProperty(&quot;dataset&quot;) &amp;&amp; (dataset = dataset.dataset);
   var tableAlias = options.tableAlias, table;
   if (comb.isString(dataset)) {
     table = sql.identifier(dataset);
     dataset = this.db.from(dataset);
     comb.isUndefinedOrNull(tableAlias) &amp;&amp; (tableAlias = table);
   } else if (comb.isInstanceOf(dataset, Dataset)) {
     if (dataset.isSimpleSelectAll) {
       table = dataset.__opts.from[0];
       comb.isUndefinedOrNull(tableAlias) &amp;&amp; (tableAlias = table);
     } else {
       table = dataset;
       comb.isUndefinedOrNull(tableAlias) &amp;&amp; (tableAlias = this._datasetAlias((this.__opts.numDatasetSources || 0) + 1));
     }
   } else {
     throw new QueryError(&quot;The dataset arg should be a string, dataset or model&quot;);
   }
   var aliases;
   // Only allow table aliases that haven&#x27;t been used
   var thisOpts = this.__opts, thisOptsGraph = thisOpts.graph;
   if (comb.isObject(thisOptsGraph) &amp;&amp; comb.isHash((aliases = thisOptsGraph.tableAliases)) &amp;&amp; !comb.isUndefinedOrNull(aliases[tableAlias.value])) {
     raiseAliasError(options);
   }
   // Use a from_self if this is already a joined table
   var ds = (!thisOptsGraph &amp;&amp; (thisOpts.from.length &gt; 1 || thisOpts.join)) ? this.fromSelf({alias:options.fromSelfAlias || this.firstSourceAlias}) : this;
   // Join the table early in order to avoid cloning the dataset twice
   ds = ds.joinTable(options.joinType || &quot;leftOuter&quot;, table, joinConditions, {tableAlias:tableAlias, implicitQualifier:options.implicitQualifier}, block);
   var opts = ds.__opts;
   // Whether to include the table in the result set
   var addTable = comb.isBoolean(options.select) ? options.select : true;
   // Whether to add the columns to the list of column aliases
   var addColumns = comb.isUndefinedOrNull(opts.graphAliases);
   // Setup the initial graph data structure if it doesn&#x27;t exist
   var graph;
   var populateGraphPromise = new comb.Promise();
   if (comb.isUndefinedOrNull((graph = opts.graph))) {
     var master = this._toTableName(ds.firstSourceAlias);
     (master == tableAlias) &amp;&amp; raiseAliasError(options);
     // Master hash storing all .graph related information
     graph = opts.graph = {};
     // Associates column aliases back to tables and columns
     var columnAliases = graph.columnAliases = {};
     // Associates table alias (the master is never aliased)
     var tableAliases = graph.tableAliases = {};
     tableAliases[master] = this;
     // All columns in the master table are never
     // aliased, but are not included if set_graph_aliases
     // has been used.
     if (addColumns) {
       var select = opts.select = [];
       this.columns.then(hitch(this, function(cols) {
         cols.forEach(function(column) {
           columnAliases[column] = [master, column];
           select.push(new sql.QualifiedIdentifier(master, column));
         });
         populateGraphPromise.callback(graph);
       }), hitch(ret, &quot;errback&quot;));
     } else {
       populateGraphPromise.callback(graph);
     }
   } else {
     populateGraphPromise.callback(graph);
   }
   populateGraphPromise.then(hitch(this, function(graph) {
     // Add the table alias to the list of aliases
     // Even if it isn&#x27;t been used in the result set,
     // we add a key for it with a nil value so we can check if it
     // is used more than once
     var tableAliases = graph.tableAliases;
     tableAliases[tableAlias] = addTable ? dataset : null;
     // Add the columns to the selection unless we are ignoring them
     if (addTable &amp;&amp; addColumns) {
       var select = opts.select;
       var columnAliases = graph.columnAliases;
       // Which columns to add to the result set
       var dsColPromise;
       if (options.select) {
         dsColPromise = new comb.Promise().callback(options.select)
       } else {
         dsColPromise = dataset.columns;
       }
       // If the column hasn&#x27;t been used yet, don&#x27;t alias it.
       // If it has been used, try tableColumn.
       dsColPromise.then(hitch(this, function(cols) {
         cols.forEach(function(column) {
           var colAlias, identifier;
           if (columnAliases[column]) {
             var columnAlias = format(&quot;%s_%s&quot;, [tableAlias, column]);
             colAlias = columnAlias, identifier = new sql.QualifiedIdentifier(tableAlias, column).as(columnAlias);
           } else {
             colAlias = column, identifier = new sql.QualifiedIdentifier(tableAlias, column);
           }
           columnAliases[colAlias] = [tableAlias, column];
           select.push(identifier)
         });
         ret.callback(ds);
       }), hitch(ret, &quot;errback&quot;));
     } else {
       ret.callback(ds);
     }
   }), hitch(ret, &quot;errback&quot;));
   return ret;
       
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_graphEach"></a>
    <h3>
        graphEach
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Fetch the rows, split them into component table parts,
transform and run the <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a> on each part (if applicable),
and yield a hash of the parts.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   // Reject tables with nil datasets, as they are excluded from
   // the result set
   var datasets = comb.array.toArray(this.__opts.graph.tableAliases).filter(function(e) {
     return !comb.isUndefinedOrNull(e[1])
   });
   // Get just the list of table aliases into a local variable, for speed
   var tableAliases = datasets.map(function(e) {
     return e[0]
   });
   datasets = datasets.map(function(e) {
     return [e[0], e[1], e[1].rowCb]
   });
   // Use the manually set graph aliases, if any, otherwise
   // use the ones automatically created by .graph
   var columnAliases = this.__opts.graphAliases || this.__opts.graph.columnAliases;
   var ret = new comb.Promise();
   return this.fetchRows(this.selectSql, function(r) {
     var graph = {};
     // Create the sub hashes, one per table
     tableAliases.forEach(function(ta) {
       graph[ta] = {};
     });
     // Split the result set based on the column aliases
     // If there are columns in the result set that are
     // not in column_aliases, they are ignored
     for (var colAlias in columnAliases) {
       var tc = columnAliases[colAlias];
       var ta = tc[0], column = tc[1];
       !graph[ta] &amp;&amp; (graph[ta] = {});
       graph[ta][column] = r[colAlias];
     }
     datasets.forEach(function(d) {
       var ta = d[0], ds = d[1], dsCb = d[2];
       var g = graph[ta];
       if (!comb.isEmpty(g) &amp;&amp; Object.keys(g).some(function(x) {
         return !comb.isUndefinedOrNull(g[x]);
       })) {
         graph[ta] = dsCb ? dsCb(g) : g;
       } else {
         graph[ta] = null;
       }
     });
     cb(graph);
   });
       
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_grep"></a>
    <h3>
        grep
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Match any of the columns to any of the patterns. The terms can be
strings (which use LIKE) or regular expressions (which are only
supported on MySQL and PostgreSQL).  Note that the total number of
pattern matches will be columns[].length * terms[].length,
which could cause performance issues.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).grep(&quot;a&quot;, &quot;%test%&quot;).sql;
     //=&gt; SELECT * FROM items WHERE (a LIKE &#x27;%test%&#x27;);

DB.from(&quot;items&quot;).grep([&quot;a&quot;, &quot;b&quot;], [&quot;%test%&quot; &quot;foo&quot;]).sql;
     //=&gt; SELECT * FROM items WHERE ((a LIKE &#x27;%test%&#x27;) OR (a LIKE &#x27;foo&#x27;) OR (b LIKE &#x27;%test%&#x27;) OR (b LIKE &#x27;foo&#x27;))

DB.from(&quot;items&quot;).grep([&#x27;a&#x27;, &#x27;b&#x27;], [&quot;%foo%&quot;, &quot;%bar%&quot;], {allPatterns : true}).sql;
     //=&gt; SELECT * FROM a WHERE (((a LIKE &#x27;%foo%&#x27;) OR (b LIKE &#x27;%foo%&#x27;)) AND ((a LIKE &#x27;%bar%&#x27;) OR (b LIKE &#x27;%bar%&#x27;)))

DB.from(&quot;items&quot;).grep([&quot;a&quot;, &quot;b&quot;], [&#x27;%foo%&quot;, &quot;%bar%&quot;, {allColumns : true})sql;
     //=&gt; SELECT * FROM a WHERE (((a LIKE &#x27;%foo%&#x27;) OR (a LIKE &#x27;%bar%&#x27;)) AND ((b LIKE &#x27;%foo%&#x27;) OR (b LIKE &#x27;%bar%&#x27;)))

DB.from(&quot;items&quot;).grep([&quot;a&quot;, &quot;b&quot;], [&quot;%foo%&quot;, &quot;%bar%&quot;], {allPatterns : true, allColumns : true}).sql;
     //=&gt; SELECT * FROM a WHERE ((a LIKE &#x27;%foo%&#x27;) AND (b LIKE &#x27;%foo%&#x27;) AND (a LIKE &#x27;%bar%&#x27;) AND (b LIKE &#x27;%bar%&#x27;))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : columns to search</li>
    
        <li> <em>patterns</em>  : patters to search with</li>
    
        <li> <em>opts?</em>  : options to use when searching. NOTE If both allColumns and allPatterns are true, all columns must match all patterns</li>
    
        <li> <em>opts.allColumns?</em> <code>Boolean</code> : All columns must be matched to any of the given patterns.</li>
    
        <li> <em>opts.allPatterns?</em> <code>Boolean</code> : All patterns must match at least one of the columns.</li>
    
        <li> <em>opts.caseInsensitive?</em> <code>Boolean</code> : Use a case insensitive pattern match (the default is
                     case sensitive if the database supports it).</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a dataset with the LIKE clauses added</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,patterns,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   var conds;
   if (opts.hasOwnProperty(&quot;allPatterns&quot;)) {
       conds = array.toArray(patterns).map(function (pat) {
           return BooleanExpression.fromArgs(
               [(opts.allColumns ? &quot;AND&quot; : &quot;OR&quot;)]
                   .concat(array.toArray(columns)
                   .map(function (c) {
                       return StringExpression.like(c, pat, opts);
                   })));
       });
       return this.filter(BooleanExpression.fromArgs([opts.allPatterns ? &quot;AND&quot; : &quot;OR&quot;].concat(conds)));
   } else {
       conds = array.toArray(columns)
           .map(function (c) {
               return BooleanExpression.fromArgs([&quot;OR&quot;].concat(array.toArray(patterns).map(function (pat) {
                   return StringExpression.like(c, pat, opts);
               })));
           });
       return this.filter(BooleanExpression.fromArgs([opts.allColumns ? &quot;AND&quot; : &quot;OR&quot;].concat(conds)));
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_group"></a>
    <h3>
        group
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the results grouped by the value of
the given columns.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).group(&quot;id&quot;)
         //=&gt;SELECT * FROM items GROUP BY id
  DB.from(&quot;items&quot;).group(&quot;id&quot;, &quot;name&quot;)
         //=&gt; SELECT * FROM items GROUP BY id, name
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : columns to group by.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the GROUP BY clause added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   columns = comb.argsToArray(arguments);
   return this.mergeOptions({group:(array.compact(columns).length == 0 ? null : columns.map(function (c) {
       return comb.isString(c) ? new Identifier(c) : c;
   }))});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_groupAndCount"></a>
    <h3>
        groupAndCount
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a dataset grouped by the given column with count by group.
Column aliases may be supplied, and will be included in the select clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).groupAndCount(&quot;name&quot;).all()
     //=&gt; SELECT name, count(*) AS count FROM items GROUP BY name
     //=&gt; [{name : &#x27;a&#x27;, count : 1}, ...]

DB.from(&quot;items&quot;).groupAndCount(&quot;first_name&quot;, &quot;last_name&quot;).all()
     //SELECT first_name, last_name, count(*) AS count FROM items GROUP BY first_name, last_name
     //=&gt; [{first_name : &#x27;a&#x27;, last_name : &#x27;b&#x27;, count : 1}, ...]

DB.from(&quot;items&quot;).groupAndCount(&quot;first_name___name&quot;).all()
     //=&gt; SELECT first_name AS name, count(*) AS count FROM items GROUP BY first_name
     //=&gt; [{name : &#x27;a&#x27;, count:1}, ...]
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : columns to croup and count on.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the GROUP clause and count added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   columns = comb.argsToArray(arguments);
   var group = this.group.apply(this, columns.map(function (c) {
       return this._unaliasedIdentifier(c);
   }, this));
   return group.select.apply(group, columns.concat([this._static.COUNT_OF_ALL_AS_COUNT]));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_groupBy"></a>
    <h3>
        groupBy
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.group.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_gt"></a>
    <h3>
        gt
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a greater than expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).gt({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &gt; 1)
 DB.from(&quot;test&quot;).gt({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &gt; 1) AND (y &gt; 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the greater than expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the greater than expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;gt&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_gte"></a>
    <h3>
        gte
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a greater than or equal to expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).gte({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &gt;= 1)
 DB.from(&quot;test&quot;).gte({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &gt;= 1) AND (y &gt;= 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : </li>
    
        <li> <em>obj</em> <code>Object</code> : object used to create the greater than or equal to expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the greater than or equal to expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), &quot;gte&quot;);
   return this.filter(this.__createBoolExpression(&quot;gte&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_having"></a>
    <h3>
        having
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the HAVING conditions changed. See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for argument types.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).group(&quot;sum&quot;).having({sum : 10}).sql;
     //=&gt; SELECT * FROM items GROUP BY sum HAVING (sum = 10)
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with HAVING clause changed or added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var cond = comb.argsToArray(arguments).map(function (s) {
       return comb.isString(s) &amp;&amp; s !== &#x27;&#x27; ? this.stringToIdentifier(s) : s
   }, this);
   return this._filter.apply(this, [&quot;having&quot;].concat(cond));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_import"></a>
    <h3>
        import
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Inserts multiple records into the associated table. This method can be
used to efficiently insert a large number of records into a table in a
single query if the database supports it. Inserts
are automatically wrapped in a transaction.

This method is called with a columns array and an array of value arrays:
<pre class="code">
  // INSERT INTO table (x, y) VALUES (1, 2)
  // INSERT INTO table (x, y) VALUES (3, 4)
  DB.from("table").import(["x", "y"], [[1, 2], [3, 4]]).
</pre>

This method also accepts a dataset instead of an array of value arrays:

<pre class="code">
 // INSERT INTO table (x, y) SELECT a, b FROM table2
 DB.from("table").import(["x", "y"], DB.from("table2").select("a", "b"));
</pre>

The method also accepts a commitEvery option that specifies
the number of records to insert per transaction. This is useful especially
when inserting a large number of records, e.g.:

<pre class="code">
  // this will commit every 50 records
 DB.from("table").import(["x", "y"], [[1, 2], [3, 4], ...], {commitEvery : 50});
</pre>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : The columns to insert values for.                  This array will be used as the base for each values item in the values array.</li>
    
        <li> <em>values</em>  : Array of arrays of values to insert into the columns.</li>
    
        <li> <em>opts?</em>  : options</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
        <li> <em>opts.commitEvery?</em> <code>Number</code> : the number of records to insert per transaction.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved once all records have been inserted.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,values,opts,cb){
   if (comb.isFunction(opts)) {
       cb = opts;
       opts = null;
   }
   opts = opts || {};
   var ret;
   if (comb.isInstanceOf(values, Dataset)) {
       ret = this.db.transaction(hitch(this, function () {
           return this.insert(columns, values);
       }));
   } else {
       ret = new comb.Promise();
       if (!values.length) {
           ret.callback();
       }
       if (!columns.length) {
           throw new QueryError(&quot;Invalid columns in import&quot;);
       }
       var sliceSize = opts.commitEvery || opts.slice;
       if (sliceSize) {
           var offset = 0;
           var execute = hitch(this, function () {
               if (offset &gt;= values.length) {
                   ret.callback();
                   return;
               }
               this.db.transaction(opts, hitch(this, function () {
                   this.multiInsertSql(columns, values.slice(offset, sliceSize + offset)).forEach(hitch(this, function (st) {
                       return this.executeDui(st);
                   }));
               })).then(hitch(this, function () {
                   offset += sliceSize;
                   execute();
               }), hitch(ret, &quot;errback&quot;));
           });
           execute();
       } else {
           var statements = this.multiInsertSql(columns, values);
           ret = this.db.transaction(hitch(this, function () {
               statements.forEach(function (st) {
                   this.executeDui(st);
               }, this);
           }));
       }
   }
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_inputIdentifier"></a>
    <h3>
        inputIdentifier
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   var i = this.__identifierInputMethod;
   v = v.toString(this);
   return !comb.isUndefinedOrNull(i) ?
       comb.isFunction(v[i]) ?
           v[i]() :
           comb.isFunction(comb[i]) ?
               comb[i](v)
               : v
       : v;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_insert"></a>
    <h3>
        insert
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Inserts values into the associated table. The returned value is generally
the value of the primary key for the inserted row, but that is adapter dependent.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// INSERT INTO items DEFAULT VALUES
DB.from(&quot;items&quot;).insert()

// INSERT INTO items DEFAULT VALUES
DB.from(&quot;items&quot;).insert({});

// INSERT INTO items VALUES (1, 2, 3)
DB.from(&quot;items&quot;).insert([1,2,3]);

// INSERT INTO items (a, b) VALUES (1, 2)
DB.from(&quot;items&quot;).insert([&quot;a&quot;, &quot;b&quot;], [1,2]);

// INSERT INTO items (a, b) VALUES (1, 2)
DB.from(&quot;items&quot;).insert({a : 1, b : 2});

// INSERT INTO items SELECT * FROM old_items
DB.from(&quot;items&quot;).insert(DB.from(&quot;old_items&quot;));

// INSERT INTO items (a, b) SELECT * FROM old_items
DB.from(&quot;items&quot;).insert([&quot;a&quot;, &quot;b&quot;], DB.from(&quot;old_items&quot;));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em> <code>patio.Dataset|patio.sql.LiteralString|Array|Object|patio.sql.BooleanExpression|...</code> : values to      insert into the database. The INSERT statement generated depends on the type.      <ul>          <li>Empty object| Or no arugments: then DEFAULT VALUES is used.</li>          <li>Object: the keys will be used as the columns, and values will be the values inserted.</li>          <li>Single <a href='#patio_Dataset'>patio.Dataset</a> : an insert with subselect will be performed.</li>          <li>Array with <a href='#patio_Dataset'>patio.Dataset</a> : The array will be used for columns and a subselect will performed with the dataset for the values.</li>          <li><a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a> : the literal value will be used.</li>          <li>Single Array : the values in the array will be used as the VALUES clause.</li>          <li>Two Arrays: the first array is the columns the second array is the values.</li>          <li><a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> : the expression will be used as the values.          <li>An arbitrary number of arguments : the <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a> version of the values will be used</li>      </ul></li>
    
        <li> <em>cb?</em> <code>Function</code> : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is typically resolved with the ID of the inserted row.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = comb.argsToArray(arguments);
   var cb = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   return this.executeInsert(this.insertSql.apply(this, args)).classic(cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_insertMultiple"></a>
    <h3>
        insertMultiple
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Inserts multiple values. If a block is given it is invoked for each
item in the given array before inserting it.  See <a href='#patio_Dataset_prototype_multiInsert'>patio.Dataset#multiInsert</a> as
a possible faster version that inserts multiple records in one SQL statement.

<b> Params see @link patio.Dataset#insert</b>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).insertMultiple([{x : 1}, {x : 2}]);
     //=&gt; INSERT INTO table (x) VALUES (1)
     //=&gt; INSERT INTO table (x) VALUES (2)

DB.from(&quot;table&quot;).insertMultiple([{x : 1}, {x : 2}], function(row){
     row.y = row.x * 2;
});
     //=&gt; INSERT INTO table (x, y) VALUES (1, 2)
     //=&gt; INSERT INTO table (x, y) VALUES (2, 4)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>array</em>  : See <a href='#patio_Dataset_prototype_insert'>patio.Dataset#insert</a> for possible values.</li>
    
        <li> <em>block?</em>  : a function to be called before each item is inserted.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.PromiseList</code> a promiseList that should be resolved with the id of each item inserted
         in the order that was in the array.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (array,block,cb){
   var promises;
   if (block) {
       promises = array.map(function (i) {
           return this.insert(block(i));
       }, this);
   } else {
       promises = array.map(function (i) {
           return this.insert(i);
       }, this);
   }
   var ret = new PromiseList(promises, true);
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_insertSql"></a>
    <h3>
        insertSql
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Returns an INSERT SQL query string.  See <a href='#patio_dataset__Actions_prototype_insert'>patio.dataset._Actions#insert</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).insertSql({a : 1});
     //=&gt; INSERT INTO items (a) VALUES (1)

var ds = DB.from(&quot;test&quot;);

//default values
ds.insertSql();
     //=&gt; INSERT INTO test DEFAULT VALUES

//with hash
ds.insertSql({name:&#x27;wxyz&#x27;, price:342});
     //=&gt; INSERT INTO test (name, price) VALUES (&#x27;wxyz&#x27;, 342)
ds.insertSql({});
     //=&gt; INSERT INTO test DEFAULT VALUES

//object that has a values property
ds.insertSql({values:{a:1}});
     //=&gt; INSERT INTO test (a) VALUES (1)

//arbitrary value
ds.insertSql(123);
     //=&gt; INSERT INTO test VALUES (123)

//with dataset
ds.insertSql(DB.from(&quot;something&quot;).filter({x:2}));
     //=&gt; INSERT INTO test SELECT * FROM something WHERE (x = 2)

//with array
ds.insertSql(&#x27;a&#x27;, 2, 6.5);
     //=&gt; INSERT INTO test VALUES (&#x27;a&#x27;, 2, 6.5)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em>  : values to      insert into the database. The INSERT statement generated depends on the type.      <ul>          <li>Empty object| Or no arugments: then DEFAULT VALUES is used.</li>          <li>Object: the keys will be used as the columns, and values will be the values inserted.</li>          <li>Single <a href='#patio_Dataset'>patio.Dataset</a> : an insert with subselect will be performed.</li>          <li>Array with <a href='#patio_Dataset'>patio.Dataset</a> : The array will be used for columns and a subselect will performed with the dataset for the values.</li>          <li><a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a> : the literal value will be used.</li>          <li>Single Array : the values in the array will be used as the VALUES clause.</li>          <li>Two Arrays: the first array is the columns the second array is the values.</li>          <li><a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> : the expression will be used as the values.          <li>An arbitrary number of arguments : the <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a> version of the values will be used</li>      </ul></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> a INSERT SQL query string</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> if there are Different number of values and columns given to insertSql or
                                 if an invalid BooleanExpresion is given.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (values){
   values = comb.argsToArray(arguments);
   var opts = this.__opts;
   if (opts.sql) {
       return this._staticSql(opts.sql);
   }
   this.__checkModificationAllowed();
   var columns = [];
   switch (values.length) {
       case 0 :
           //we have no values
           return this.insertSql({});
       case 1 :
           var vals = values[0], v;
           if (comb.isInstanceOf(vals, Dataset, LiteralString) || comb.isArray(vals)) {
               values = vals;
           } else if (vals.hasOwnProperty(&quot;values&quot;) &amp;&amp; comb.isObject((v = vals.values))) {
               return this.insertSql(v);
           } else if (comb.isHash(vals)) {
               vals = comb.merge({}, opts.defaults || {}, vals);
               vals = comb.merge({}, vals, opts.overrides || {});
               values = [];
               for (var i in vals) {
                   columns.push(i);
                   values.push(vals[i]);
               }
           } else if (comb.isInstanceOf(vals, BooleanExpression)) {
               var op = vals.op;
               values = [];
               if (!comb.isUndefinedOrNull(this._static.TWO_ARITY_OPERATORS[op])) {
                   var args = vals.args;
                   columns.push(args[0]);
                   values.push(args[1]);
               } else {
                   throw new QueryError(&quot;Invalid Expression op: &quot; + op);
               }
           }
           break;
       case 2 :
           var v0 = values[0], v1 = values[1]
           if (comb.isArray(v0) &amp;&amp; comb.isArray(v1) || comb.isInstanceOf(v1, Dataset, LiteralString)) {
               columns = v0, values = v1;
               if (comb.isArray(values) &amp;&amp; columns.length != values.length) {
                   throw new QueryError(&quot;Different number of values and columns given to insertSql&quot;);
               }
           }
           break;
   }
   columns = columns.map(function (k) {
       return comb.isString(k) ? new Identifier(k) : k;
   }, this);
   return this.mergeOptions({columns:columns, values:values})._insertSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_intersect"></a>
    <h3>
        intersect
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds an INTERSECT clause using a second dataset object.
An INTERSECT compound dataset returns all rows in both the current dataset
and the given dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).intersect(DB.from(&quot;other_items&quot;)).sql;
  //=&gt; SELECT * FROM (SELECT * FROM items INTERSECT SELECT * FROM other_items) AS t1

DB.from(&quot;items&quot;).intersect(DB.from(&quot;other_items&quot;), {all : true, fromSelf : false}).sql;
  //=&gt; SELECT * FROM items INTERSECT ALL SELECT * FROM other_items

DB.from(&quot;items&quot;).intersect(DB.from(&quot;other_items&quot;), {alias : &quot;i&quot;}).sql;
  //=&gt; SELECT * FROM (SELECT * FROM items INTERSECT SELECT * FROM other_items) AS i
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : the dataset to intersect</li>
    
        <li> <em>opts?</em>  : options</li>
    
        <li> <em>opts.alias?</em> <code>String|patio.sql.Identifier</code> : Use the given value as the <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a> alias</li>
    
        <li> <em>opts.all?</em> <code>Boolean</code> : Set to true to use INTERSECT ALL instead of INTERSECT, so duplicate rows can occur</li>
    
        <li> <em>opts.fromSelf?</em> <code>Boolean</code> : Set to false to not wrap the returned dataset in a <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a>.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the INTERSECT clause.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> if the operation is not supported.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   if (!comb.isHash(opts)) {
       opts = {all:opts};
   }
   if (!this.supportsIntersectExcept) {
       throw new QueryError(&quot;INTERSECT not supported&quot;);
   } else if (opts.all &amp;&amp; !this.supportsIntersectExceptAll) {
       throw new QueryError(&quot;INTERSECT ALL not supported&quot;);
   }
   return this.compoundClone(&quot;intersect&quot;, dataset, opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_interval"></a>
    <h3>
        interval
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with the interval between minimum and maximum values
for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT (max(id) - min(id)) FROM table LIMIT 1
  DB.from(&quot;table&quot;).interval(&quot;id&quot;).then(function(interval){
     //(e.g) interval === 6
  });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : to find the interval of.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the interval between the min and max values
of the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.max(column).minus(sql.min(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_invert"></a>
    <h3>
        invert
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Inverts the current filter.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({category : &#x27;software&#x27;}).invert()
     //=&gt; SELECT * FROM items WHERE (category != &#x27;software&#x27;)
        </pre>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({category : &#x27;software&#x27;, id : 3}).invert()
     //=&gt; SELECT * FROM items WHERE ((category != &#x27;software&#x27;) OR (id != 3))
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the filter inverted.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var having = this.__opts.having, where = this.__opts.where;
   if (!(having || where)) {
       throw new QueryError(&quot;No current filter&quot;);
   }
   var o = {}
   if (having) {
       o.having = BooleanExpression.invert(having);
   }
   if (where) {
       o.where = BooleanExpression.invert(where);
   }
   return this.mergeOptions(o);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_is"></a>
    <h3>
        is
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).is({boolFlag : null});
     =&gt; SELECT * FROM test WHERE (boolFlag IS NULL);
DB.from(&quot;test&quot;).is({boolFlag : false, otherFlag : true, name : null});
     =&gt; SELECT * FROM test WHERE ((boolFlag IS FALSE) AND (otherFlag IS TRUE) AND (name IS NULL));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the IS expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;is&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isEmpty"></a>
    <h3>
        isEmpty
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with true if no records exist in the dataset,
false otherwise.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT 1 FROM table LIMIT 1
DB.from(&quot;table&quot;).isEmpty().then(function(isEmpty){
  // isEmpty === false
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : a function to callback when action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with a boolean indicating if the table is empty.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise();
   this.get(1).then(hitch(this, function (res) {
       ret.callback(comb.isUndefinedOrNull(res) || res.length === 0);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isFalse"></a>
    <h3>
        isFalse
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS FALSE boolean expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isFalse(&quot;boolFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS FALSE);
DB.from(&quot;test&quot;).isFalse(&quot;boolFlag&quot;, &quot;otherFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS FALSE AND otherFlag IS FALSE);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : variable number of arguments to create an IS FALSE expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS FALSE expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), false);
   return this.filter(this.__createBoolExpression(&quot;is&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isNot"></a>
    <h3>
        isNot
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS NOT expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isNot({boolFlag : null});
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT NULL);
DB.from(&quot;test&quot;).isNot({boolFlag : false, otherFlag : true, name : null});
     =&gt; SELECT * FROM test WHERE ((boolFlag IS NOT FALSE) AND (otherFlag IS NOT TRUE) AND (name IS NOT NULL));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the IS NOT expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS NOT expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;isNot&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isNotFalse"></a>
    <h3>
        isNotFalse
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS NOT FALSE boolean expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isNotFalse(&quot;boolFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT FALSE);
DB.from(&quot;test&quot;).isNotFalse(&quot;boolFlag&quot;, &quot;otherFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT FALSE AND otherFlag IS NOT FALSE);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : variable number of arguments to create an IS NOT FALSE expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS NOT FALSE expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), false);
   return this.filter(this.__createBoolExpression(&quot;isNot&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isNotNull"></a>
    <h3>
        isNotNull
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS NOT NULL boolean expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isNotNull(&quot;boolFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT NULL);
DB.from(&quot;test&quot;).isNotNull(&quot;boolFlag&quot;, &quot;otherFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT NULL AND otherFlag IS NOT NULL);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : variable number of arguments to create an IS NOT NULL expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS NOT NULL expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), null);
   return this.filter(this.__createBoolExpression(&quot;isNot&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isNotTrue"></a>
    <h3>
        isNotTrue
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS NOT TRUE boolean expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isNotTrue(&quot;boolFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT TRUE);
DB.from(&quot;test&quot;).isNotTrue(&quot;boolFlag&quot;, &quot;otherFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT TRUE AND otherFlag IS NOT TRUE);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : variable number of arguments to create an IS NOT TRUE expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS NOT TRUE expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), true);
   return this.filter(this.__createBoolExpression(&quot;isNot&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isNull"></a>
    <h3>
        isNull
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS NULL boolean expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isNull(&quot;boolFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NULL);
DB.from(&quot;test&quot;).isNull(&quot;boolFlag&quot;, &quot;otherFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS NULL AND otherFlag IS NULL);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : variable number of arguments to create an IS NULL expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS NULL expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), null);
   return this.filter(this.__createBoolExpression(&quot;is&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_isTrue"></a>
    <h3>
        isTrue
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS TRUE boolean expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isTrue(&quot;boolFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS TRUE);
DB.from(&quot;test&quot;).isTrue(&quot;boolFlag&quot;, &quot;otherFlag&quot;);
     =&gt; SELECT * FROM test WHERE (boolFlag IS TRUE AND otherFlag IS TRUE);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : variable number of arguments to create an IS TRUE expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS TRUE expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), true);
   return this.filter(this.__createBoolExpression(&quot;is&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_join"></a>
    <h3>
        join
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset with an inner join applied.

</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.innerJoin.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_joinClauseSql"></a>
    <h3>
        joinClauseSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>jc</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (jc){
   var table = jc.table
   var tableAlias = jc.tableAlias
   if (table === tableAlias) {
       tableAlias = null;
   }
   var tref = this.__tableRef(table);
   return string.format(&quot; %s %s&quot;, this._joinTypeSql(jc.joinType),
       tableAlias ? this.__asSql(tref, tableAlias) : tref);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_joinOnClauseSql"></a>
    <h3>
        joinOnClauseSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>jc</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (jc){
   return string.format(&quot;%s ON %s&quot;, this.joinClauseSql(jc), this.literal(this._filterExpr(jc.on)));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_joinTable"></a>
    <h3>
        joinTable
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a joined dataset.  Uses the following arguments:

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).joinTable(&quot;leftOuter&quot;, &quot;categories&quot;, [[&quot;categoryId&quot;, &quot;id&quot;],[&quot;categoryId&quot;, [1, 2, 3]]]).sql;
     //=&gt;&#x27;SELECT
            *
           FROM
             &#x60;items&#x60;
                 LEFT OUTER JOIN
             &#x60;categories&#x60; ON (
                         (&#x60;categories&#x60;.&#x60;categoryId&#x60; = &#x60;items&#x60;.&#x60;id&#x60;)
                             AND
                         (&#x60;categories&#x60;.&#x60;categoryId&#x60; IN (1,2, 3))
                         )
DB.from(&quot;items&quot;).leftOuter(&quot;categories&quot;, [[&quot;categoryId&quot;, &quot;id&quot;],[&quot;categoryId&quot;, [1, 2, 3]]]).sql;
     //=&gt;&#x27;SELECT
            *
           FROM
             &#x60;items&#x60;
                 LEFT OUTER JOIN
             &#x60;categories&#x60; ON (
                         (&#x60;categories&#x60;.&#x60;categoryId&#x60; = &#x60;items&#x60;.&#x60;id&#x60;)
                             AND
                         (&#x60;categories&#x60;.&#x60;categoryId&#x60; IN (1,2, 3))
                         )

DB.from(&quot;items&quot;).leftOuterJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; LEFT OUTER JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).rightOuterJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; RIGHT OUTER JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).fullOuterJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; FULL OUTER JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).innerJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; INNER JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).leftJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; LEFT JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).rightJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; RIGHT JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).fullJoin(&quot;categories&quot;, {categoryId:&quot;id&quot;}).sql
         //=&gt; SELECT * FROM &quot;items&quot; FULL JOIN &quot;categories&quot; ON (&quot;categories&quot;.&quot;categoryId&quot; = &quot;items&quot;.&quot;id&quot;)

DB.from(&quot;items&quot;).naturalJoin(&quot;categories&quot;).sql
         //=&gt; SELECT * FROM &quot;items&quot; NATURAL JOIN &quot;categories&quot;

DB.from(&quot;items&quot;).naturalLeftJoin(&quot;categories&quot;).sql
         //=&gt; SELECT * FROM &quot;items&quot; NATURAL LEFT JOIN &quot;categories&quot;

DB.from(&quot;items&quot;).naturalRightJoin(&quot;categories&quot;).sql
         //=&gt; SELECT * FROM &quot;items&quot; NATURAL RIGHT JOIN &quot;categories&quot;

DB.from(&quot;items&quot;).naturalFullJoin(&quot;categories&quot;).sql
         //=&gt; SELECT * FROM &quot;items&quot; NATURAL FULL JOIN &quot;categories&quot;&#x27;

DB.from(&quot;items&quot;).crossJoin(&quot;categories&quot;).sql
         //=&gt; SELECT * FROM &quot;items&quot; CROSS JOIN &quot;categories&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : the type of join to do.</li>
    
        <li> <em>table</em>  : depends on the type.  <ul>      <li><a href='#patio_Dataset'>patio.Dataset</a> - a subselect is performed with an alias</li>      <li>Object - an object that has a tableName property.</li>      <li>String|<a href='#patio_sql_Identifier'>patio.sql.Identifier</a>  - the name of the table</li>  </ul></li>
    
        <li> <em>expr?</em>  : - depends on type
<ul>
    <li>Object|Array of two element arrays - Assumes key (1st arg) is column of joined table (unless already
    qualified), and value (2nd arg) is column of the last joined or primary table (or the
    implicitQualifier option</li>.
    <li>Array - If all members of the array are string or <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>, considers
    them as columns and uses a JOIN with a USING clause.  Most databases will remove duplicate columns from
    the result set if this is used.</li>
    <li>null|undefined(not passed in) - If a cb is not given, doesn't use ON or USING, so the JOIN should be a NATURAL
    or CROSS join. If a block is given, uses an ON clause based on the block, see below.</li>
    <li>Everything else - pretty much the same as a using the argument in a call to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>,
    so strings are considered literal, <a href='#patio_sql_Identifiers'>patio.sql.Identifiers</a> specify boolean columns, and patio.sql
     expressions can be used. Uses a JOIN with an ON clause.</li>
</ul></li>
    
        <li> <em>options</em>  : an object of options.</li>
    
        <li> <em>cb?</em>  : cb - The cb argument should only be given if a JOIN with an ON clause is used,
  in which case it is called with
  <ul>
      <li>table alias/name for the table currently being joined</li>
      <li> the table alias/name for the last joined (or first table)
      <li>array of previous</li>
  </ul>
  the cb should return an expression to be used in the ON clause.</li>
    
        <li> <em>[options.tableAlias=undefined]</em> <code>String|patio.sql.Identifier</code> : the name of the table's alias when joining, necessary for joining
    to the same table more than once.  No alias is used by default.</li>
    
        <li> <em>[options.implicitQualifier=undefined]</em> <code>String|patio.sql.Identifier</code> : The name to use for qualifying implicit conditions.  By default,
    the last joined or primary table is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset joined using the arguments.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type,table,expr,options,cb){
   var args = comb.argsToArray(arguments);
   if (comb.isFunction(args[args.length - 1])) {
       cb = args[args.length - 1];
       args.pop();
   } else {
       cb = null;
   }
   type = args.shift(), table = args.shift(), expr = args.shift(), options = args.shift();
   expr = comb.isUndefined(expr) ? null : expr, options = comb.isUndefined(options) ? {} : options;
   var h;
   var usingJoin = comb.isArray(expr) &amp;&amp; expr.length &amp;&amp; expr.every(function (x) {
       return comb.isString(x) || comb.isInstanceOf(x, Identifier)
   });
   if (usingJoin &amp;&amp; !this.supportsJoinUsing) {
       h = {};
       expr.forEach(function (s) {
           h[s] = s;
       });
       return this.joinTable(type, table, h, options);
   }
   var tableAlias, lastAlias;
   if (comb.isHash(options)) {
       tableAlias = options.tableAlias;
       lastAlias = options.implicitQualifier;
   } else if (comb.isString(options) || comb.isInstanceOf(options, Identifier)) {
       tableAlias = options;
       lastAlias = null;
   } else {
       throw new QueryError(&quot;Invalid options format for joinTable %j4&quot;, [options]);
   }
   var tableAliasNum, tableName;
   if (comb.isInstanceOf(table, Dataset)) {
       if (!tableAlias) {
           tableAliasNum = (this.__opts.numDatasetSources || 0) + 1;
           tableAlias = this._datasetAlias(tableAliasNum);
       }
       tableName = tableAlias;
   } else {
       if (!comb.isUndefined(table.tableName)) {
           table = table.tableName;
       }
       if (comb.isArray(table)) {
           table = table.map(this.stringToIdentifier, this);
       } else {
           table = comb.isString(table) ? this.stringToIdentifier(table) : table;
           var parts = this._splitAlias(table), implicitTableAlias = parts[1];
           table = parts[0]
           tableAlias = tableAlias || implicitTableAlias;
           tableName = tableAlias || table;
       }
   }
   var join;
   if (!expr &amp;&amp; !cb) {
       join = new JoinClause(type, table, tableAlias);
   } else if (usingJoin) {
       if (cb) {
           throw new QueryError(&quot;cant use a cb if an array is given&quot;);
       }
       join = new JoinUsingClause(expr, type, table, tableAlias);
   } else {
       lastAlias = lastAlias || this.__opts[&quot;lastJoinedTable&quot;] || this.firstSourceAlias;
       if (Expression.isConditionSpecifier(expr)) {
           var newExpr = [];
           for (var i in expr) {
               var val = expr[i];
               if (comb.isArray(val) &amp;&amp; val.length == 2) {
                   i = val[0], val = val[1];
               }
               var k = this.qualifiedColumnName(i, tableName), v;
               if (comb.isInstanceOf(val, Identifier)) {
                   v = val.qualify(lastAlias);
               } else {
                   v = val;
               }
               newExpr.push([k, v]);
           }
           expr = newExpr;
       }
       if (comb.isFunction(cb)) {
           var expr2 = cb.apply(sql, [tableName, lastAlias, this.__opts.join || []]);
           expr = expr ? new BooleanExpression(&quot;AND&quot;, expr, expr2) : expr2;
       }
       join = new JoinOnClause(expr, type, table, tableAlias);
   }
   var opts = {join:(this.__opts.join || []).concat([join]), lastJoinedTable:tableName};
   if (tableAliasNum) {
       opts.numDatasetSources = tableAliasNum;
   }
   return this.mergeOptions(opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_joinUsingClauseSql"></a>
    <h3>
        joinUsingClauseSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>jc</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (jc){
   return string.format(&quot;%s USING (%s)&quot;, this.joinClauseSql(jc), this.__columnList(jc.using));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_last"></a>
    <h3>
        last
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Reverses the order and then runs first.  Note that this
will not necessarily give you the last record in the dataset,
unless you have an unambiguous order.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table ORDER BY id DESC LIMIT 1
 DB.from(&quot;table&quot;).order(&quot;id&quot;).last().then(function(lastItem){
     //...(e.g lastItem === {id : 10})
 });

 // SELECT * FROM table ORDER BY id ASC LIMIT 2
  DB.from(&quot;table&quot;).order(sql.id.desc()).last(2).then(function(lastItems){
     //...(e.g lastItems === [{id : 1}, {id : 2});
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : See <a href='#patio_Dataset_prototype_first'>patio.Dataset#first</a> for argument types.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with a single object or array depending on the
arguments provided.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.error.QueryError</code> If there is not currently an order for this dataset.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   if (!this.__opts.order) {
       throw new QueryError(&quot;No order specified&quot;);
   }
   var ds = this.reverse();
   return ds.first.apply(ds, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_like"></a>
    <h3>
        like
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.grep.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_limit"></a>
    <h3>
        limit
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
If given an integer, the dataset will contain only the first l results.
         If a second argument is given, it is used as an offset. To use
an offset without a limit, pass null as the first argument.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).limit(10)
     //=&gt; SELECT * FROM items LIMIT 10
DB.from(&quot;items&quot;).limit(10, 20)
     //=&gt; SELECT * FROM items LIMIT 10 OFFSET 20
DB.from(&quot;items&quot;).limit([3, 7]).sql
     //=&gt; SELECT * FROM items LIMIT 5 OFFSET 3&#x27;);
DB.from(&quot;items&quot;).limit(null, 20)
     //=&gt; SELECT * FROM items OFFSET 20

DB.from(&quot;items&quot;).limit(&#x27;6&#x27;, sql[&#x27;a() - 1&#x27;]).sql
     =&gt; &#x27;SELECT * FROM items LIMIT 6 OFFSET a() - 1&#x27;);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>limit</em>  : the limit to apply</li>
    
        <li> <em>offset</em>  : the offset to apply</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset witht the LIMIT and OFFSET applied.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (limit,offset){
   if (this.__opts.sql) {
       return this.fromSelf().limit(limit, offset);
   }
   if (comb.isArray(limit) &amp;&amp; limit.length == 2) {
       offset = limit[0];
       limit = limit[1] - limit[0] + 1;
   }
   if (comb.isString(limit) || comb.isInstanceOf(limit, LiteralString)) {
       limit = parseInt(&quot;&quot; + limit, 10);
   }
   if (comb.isNumber(limit) &amp;&amp; limit &lt; 1) {
       throw new QueryError(&quot;Limit must be &gt;= 1&quot;);
   }
   var opts = {limit:limit};
   if (offset) {
       if (comb.isString(offset) || comb.isInstanceOf(offset, LiteralString)) {
           offset = parseInt(&quot;&quot; + offset, 10);
           isNaN(offset) &amp;&amp; (offset = 0);
       }
       if (comb.isNumber(offset) &amp;&amp; offset &lt; 0) {
           throw new QueryError(&quot;Offset must be &gt;= 0&quot;);
       }
       opts.offset = offset;
   }
   return this.mergeOptions(opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_literal"></a>
    <h3>
        literal
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Returns a literal representation of a value to be used as part
of an SQL expression.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).literal(&quot;abc&#x27;def\\&quot;) //=&gt; &quot;&#x27;abc&#x27;&#x27;def\\\\&#x27;&quot;
 DB.from(&quot;items&quot;).literal(&quot;items__id&quot;) //=&gt; &quot;items.id&quot;
 DB.from(&quot;items&quot;).literal([1, 2, 3]) //=&gt; &quot;(1, 2, 3)&quot;
 DB.from(&quot;items&quot;).literal(DB.from(&quot;items&quot;)) //=&gt; &quot;(SELECT * FROM items)&quot;
 DB.from(&quot;items&quot;).literal(sql.x.plus(1).gt(&quot;y&quot;)); //=&gt; &quot;((x + 1) &gt; y)&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : the value to convert the the SQL literal representation</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> a literal representation of the value.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If an unsupported object is given.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   if (comb.isInstanceOf(v, LiteralString)) {
       return &quot;&quot; + v;
   } else if (comb.isString(v)) {
       return this._literalString(v);
   } else if (comb.isNumber(v)) {
       return this._literalNumber(v);
   }
   else if (comb.isInstanceOf(v, Expression)) {
       return this._literalExpression(v);
   }
   else if (comb.isInstanceOf(v, Dataset)) {
       return this._literalDataset(v);
   }
   else if (comb.isArray(v)) {
       return this._literalArray(v);
   } else if (comb.isInstanceOf(v, sql.Year)) {
       return this._literalYear(v);
   } else if (comb.isInstanceOf(v, sql.TimeStamp, sql.DateTime)) {
       return this._literalTimestamp(v);
   } else if (comb.isDate(v)) {
       return this._literalDate(v);
   } else if (comb.isInstanceOf(v, sql.Time)) {
       return this._literalTime(v);
   } else if (Buffer.isBuffer(v)) {
       return this._literalBuffer(v);
   } else if (comb.isNull(v)) {
       return this._literalNull();
   }
   else if (comb.isBoolean(v)) {
       return this._literalBoolean(v);
   }
   else if (comb.isHash(v)) {
       return this._literalObject(v);
   } else {
       return this._literalOther(v);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_lockStyle"></a>
    <h3>
        lockStyle
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset with the given lock style.  If style is a
string, it will be used directly.Currently "update" is respected
by most databases, and "share" is supported by some.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).lockStyle(&#x27;FOR SHARE&#x27;) # SELECT * FROM items FOR SHARE
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>style</em>  : the lock style to use.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned datase with the given lock style.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (style){
   return this.mergeOptions({lock:style});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_lt"></a>
    <h3>
        lt
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a less than expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).lt({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &lt; 1)
 DB.from(&quot;test&quot;).lt({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &lt; 1) AND (y &lt; 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the less than expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the less than expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;lt&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_lte"></a>
    <h3>
        lte
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a less than or equal to expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).gte({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &lt;= 1)
 DB.from(&quot;test&quot;).gte({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &lt;= 1) AND (y &lt;= 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the less than or equal to expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the less than or equal to expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   var arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), &quot;lte&quot;);
   return this.filter(this.__createBoolExpression(&quot;lte&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_map"></a>
    <h3>
        map
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Maps column values for each record in the dataset (if a column name is
given).

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
DB.from(&quot;table&quot;).map(&quot;id&quot;).then(function(ids){
  // e.g. ids === [1, 2, 3, ...]
});

 // SELECT * FROM table
DB.from(&quot;table&quot;).map(function(r){
     return r.id * 2;
}).then(function(ids){
    // e.g. ids === [2, 4, 6, ...]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : if a string is provided then then it is assumed to be the name of a column in that table and the value of the column for each row will be returned. If column is a function then the return value of the function will be used.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the array of mapped values.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ret = new Promise(), block;
   if (comb.isFunction(column)) {
       block = column;
       column = null;
   }
   var a = [], forEachP;
   forEachP = this.forEach(function (r) {
       var item = column ? r[column] : (block ? block(r) : r);
       return comb.when(item, function (mapped) {
           a.push(mapped);
       });
   });
   forEachP.then(hitch(this, function () {
       ret.callback(a);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_max"></a>
    <h3>
        max
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  the maximum value for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT max(id) FROM table LIMIT 1
DB.from(&quot;table&quot;).max(&quot;id&quot;).then(function(max){
  // e.g. max === 10.
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the maximum value for.</li>
    
        <li> <em>cb?</em>  : callback to invoke when action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>*</code> the maximum value for the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.max(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_mergeOptions"></a>
    <h3>
        mergeOptions
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/index.js</em>

<p>
Returns a new clone of the dataset with with the given options merged into the current datasets options.
If the options changed include options in <a href='#patio_dataset_Query_prototype_COLUMN_CHANGE_OPTS'>patio.dataset.Query#COLUMN_CHANGE_OPTS</a>, the cached
columns are deleted.  This method should generally not be called
directly by user code.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts</em>  : options to merge into the curred datasets options and applied to the returned dataset.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  [patio.Dataset] a cloned dataset with the merged options</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   var ds = new this._static(this.db, {});
   ds.rowCb = this.rowCb;
   this._static.FEATURES.forEach(function (f) {
       ds[f] = this[f]
   }, this);
   ds.__opts = comb.merge({}, this.__opts, opts);
   ds.identifierInputMethod = this.identifierInputMethod;
   ds.identifierOutputMethod = this.identifierOutputMethod;
   var columnChangeOpts = this._static.COLUMN_CHANGE_OPTS;
   if (Object.keys(opts).some(function (o) {
       return columnChangeOpts.indexOf(o) != -1;
   })) {
       ds.__opts.columns = null;
   }
   return ds;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_min"></a>
    <h3>
        min
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  the minimum value for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT min(id) FROM table LIMIT 1
DB.from(&quot;table&quot;).min(&quot;id&quot;).then(function(min){
  // e.g. max === 0.
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the minimum value for.</li>
    
        <li> <em>cb?</em>  : callback to invoke when action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>*</code> the minimum value for the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.min(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_multiInsert"></a>
    <h3>
        multiInsert
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
This is the recommended function to do the insert of multiple items into the
database. This acts as a proxy to the <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a> method so
one can use an array of hashes rather than an array of columns and an array of values.
See <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a> for more information regarding the method of inserting.
<p>
    <b>NOTE:</b>All hashes should have the same keys other wise some values could be missed</b>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// INSERT INTO table (x) VALUES (1)
// INSERT INTO table (x) VALUES (2)
DB.from(&quot;table&quot;).multiInsert([{x : 1}, {x : 2}]).then(function(){
    //...do something
})

//commit every 50 inserts
DB.from(&quot;table&quot;).multiInsert([{x : 1}, {x : 2},....], {commitEvery : 50}).then(function(){
    //...do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hashes</em>  : an array of objects to insert into the database. The keys of the first item in the array will be used to look up columns in all subsequent objects. If the array is empty then the promise is resolved immediatly.</li>
    
        <li> <em>opts</em>  : See <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a>.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> See <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a> for return functionality.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hashes,opts,cb){
   if (comb.isFunction(opts)) {
       cb = opts;
       opts = null;
   }
   opts = opts || {};
   hashes = hashes || [];
   var ret = new Promise().classic(cb);
   if (!hashes.length) {
       ret.callback();
   } else {
       var columns = Object.keys(hashes[0]);
       return this[&quot;import&quot;](columns, hashes.map(function (h) {
           return columns.map(function (c) {
               return h[c];
           });
       }), opts, cb);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_multiInsertSql"></a>
    <h3>
        multiInsertSql
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Returns an array of insert statements for inserting multiple records.
This method is used by <a href='#patio_dataset__Actions_prototype_multiInsert'>patio.dataset._Actions#multiInsert</a> to format insert statements.
<b>This method is not typically used directly.</b>

<p>
     <b>Note:</b>This method should be overridden by descendants if there is support for
                     inserting multiple records in a single SQL statement.
</p>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : The columns to insert values for.                  This array will be used as the base for each values item in the values array.</li>
    
        <li> <em>values</em>  : Array of arrays of values to insert into the columns.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String[]</code> array of insert statements.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,values){
   return values.map(function (r) {
       return this.insertSql(columns, r)
   }, this);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_naked"></a>
    <h3>
        naked
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns the a cloned dataset with out the <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var ds = DB.from(&quot;test&quot;);
ds.rowCb = function(r){
    r.a = r.a * 2;
}

ds.all().then(function(ret){
     //ret === [{a : 4}, {a : 6}]
});
ds.naked().all().then(function(ret){
     //ret ===  [{a : 2}, {a : 3}];
});
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with out the <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a></li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ds = this.mergeOptions({});
   ds.rowCb = null;
   return ds;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_negativeBooleanConstantSql"></a>
    <h3>
        negativeBooleanConstantSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>constant</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (constant){
   return string.format(&quot;NOT %s&quot;, this.booleanConstantSql(constant));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_neq"></a>
    <h3>
        neq
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a not equal expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).neq({x : 1});
         //=&gt; SELECT * FROM test WHERE (x != 1)
 DB.from(&quot;test&quot;).neq({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x != 1) AND (y != 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the not equal expression</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the not equal expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;neq&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_notBetween"></a>
    <h3>
        notBetween
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset with a not between clause added
to the where clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds.notBetween({x:[1, 2]}).sql;
         //=&gt; SELECT * FROM test WHERE ((x &lt; 1) OR (x &gt; 2))

 ds.find({x:{notBetween:[1, 2]}}).sql;
         //=&gt; SELECT * FROM test WHERE ((x &lt; 1) OR (x &gt; 2))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object where the key is the column and the value is an array where the first element                     is the item to be less than and the second item is greater than.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with a not between clause added
to the where clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBetweenExpression(obj, true));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_one"></a>
    <h3>
        one
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Same as <a href='#patio_Dataset_prototype_singleRecord'>patio.Dataset#singleRecord</a> but accepts arguments
to filter the dataset. See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for argument types.

<b>NOTE</b> If the last argument is a function that accepts arguments it is not assumed to
be a filter function but instead a callback.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with a single row from the database that matched the filter.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = comb.argsToArray(arguments), cb;
   var last = args[args.length - 1];
   if (comb.isFunction(last) &amp;&amp; last.length &gt; 0) {
       cb = args.pop();
   }
   if (args.length) {
       return this.filter.apply(this, args).singleRecord(cb);
   } else {
       return this.singleRecord(cb);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_or"></a>
    <h3>
        or
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds an alternate filter to an existing WHERE/HAVING using OR.

<p>
    <b>For parameter types see <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</b>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter(&quot;a&quot;).or(&quot;b&quot;)
     //=&gt; SELECT * FROM items WHERE a OR b
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the condtion added to the WHERE/HAVING clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If no WHERE?HAVING clause exists.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var tOpts = this.__opts;
   var clause = (tOpts.having ? &quot;having&quot; : &quot;where&quot;), clauseObj = tOpts[clause];
   if (clauseObj) {
       var args = comb.argsToArray(arguments);
       args = args.length == 1 ? args[0] : args;
       var opts = {};
       opts[clause] = new BooleanExpression(&quot;OR&quot;, clauseObj, this._filterExpr(args))
       return this.mergeOptions(opts);
   } else {
       throw new QueryError(&quot;No existing filter found&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_order"></a>
    <h3>
        order
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order changed. If the dataset has an
existing order, it is ignored and overwritten with this order. If null is given
the returned dataset has no order. This can accept multiple arguments
of varying kinds, such as SQL functions.  This also takes a function similar
to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).order(&quot;name&quot;)
         //=&gt; SELECT * FROM items ORDER BY name

 DB.from(&quot;items&quot;).order(&quot;a&quot;, &quot;b&quot;)
         //=&gt; SELECT * FROM items ORDER BY a, b

 DB.from(&quot;items&quot;).order(sql.literal(&#x27;a + b&#x27;))
         //=&gt; SELECT * FROM items ORDER BY a + b

 DB.from(&quot;items&quot;).order(sql.identifier(&quot;a&quot;).plus(&quot;b&quot;))
         //=&gt; SELECT * FROM items ORDER BY (a + b)

 DB.from(&quot;items&quot;).order(sql.identifier(&quot;name&quot;).desc())
         //=&gt; SELECT * FROM items ORDER BY name DESC

 DB.from(&quot;items&quot;).order(sql.identifier(&quot;name&quot;).asc({nulls : &quot;last&quot;))
         //=&gt; SELECT * FROM items ORDER BY name ASC NULLS LAST

 DB.from(&quot;items&quot;).order(function(){
         return this.sum(&quot;name&quot;).desc();
 }); //=&gt; SELECT * FROM items ORDER BY sum(name) DESC

 DB.from(&quot;items&quot;).order(null)
         //=&gt;SELECT * FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : </li>
    
        <li> <em>arg</em>  : variable number of arguments similar to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the order changed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   var order = [];
   args = array.compact(args).length ? args : null;
   if (args) {
       args.forEach(function (a) {
           if (comb.isString(a)) {
               order.push(this.stringToIdentifier(a));
           } else if (comb.isFunction(a)) {
               var res = a.apply(sql, [sql]);
               order = order.concat(comb.isArray(res) ? res : [res]);
           } else {
               order.push(a);
           }
       }, this);
   } else {
       order = null;
   }
   return this.mergeOptions({order:order});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_orderAppend"></a>
    <h3>
        orderAppend
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Alias of <a href='#patio_Dataset_prototype_orderMore'>patio.Dataset#orderMore</a>;
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.orderMore.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_orderBy"></a>
    <h3>
        orderBy
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.order.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_orderMore"></a>
    <h3>
        orderMore
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order columns added
to the end of the existing order. For more detail
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).order(&quot;a&quot;).order(&quot;b&quot;);
     //=&gt; SELECT * FROM items ORDER BY b

DB.from(&quot;items&quot;).order(&quot;a&quot;).orderMore(&quot;b&quot;);
     //=&gt;SELECT * FROM items ORDER BY a, b
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = comb.argsToArray(arguments);
   if (this.__opts.order) {
       args = this.__opts.order.concat(args);
   }
   return this.order.apply(this, args);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_orderPrepend"></a>
    <h3>
        orderPrepend
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order columns added
to the beginning of the existing order. For more detail
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).order(&quot;a&quot;).order(&quot;b&quot;);
     //=&gt; SELECT * FROM items ORDER BY b

DB.from(&quot;items&quot;).order(&quot;a&quot;).orderPrepend(&quot;b&quot;);
     //=&gt;SELECT * FROM items ORDER BY b, a
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ds = this.order.apply(this, arguments);
   return this.__opts.order ? ds.orderMore.apply(ds, this.__opts.order) : ds;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_orderedExpressionSql"></a>
    <h3>
        orderedExpressionSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>oe</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (oe){
   var s = string.format(&quot;%s %s&quot;, this.literal(oe.expression), oe.descending ? &quot;DESC&quot; : &quot;ASC&quot;);
   if (oe.nulls) {
       s = string.format(&quot;%s NULLS %s&quot;, s, oe.nulls == &quot;first&quot; ? &quot;FIRST&quot; : &quot;LAST&quot;);
   }
   return s;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_outputIdentifier"></a>
    <h3>
        outputIdentifier
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>v</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (v){
   (v == &#x27;&#x27; &amp;&amp; (v = &#x27;untitled&#x27;));
   var i = this.__identifierOutputMethod;
   return !comb.isUndefinedOrNull(i) ?
       comb.isFunction(v[i]) ?
           v[i]() :
           comb.isFunction(comb[i]) ?
               comb[i](v)
               : v
       : v;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_placeholderLiteralStringSql"></a>
    <h3>
        placeholderLiteralStringSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>pls</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (pls){
   var args = pls.args;
   var s;
   if (comb.isHash(args)) {
       for (var i in args) {
           args[i] = this.literal(args[i]);
       }
       s = string.format(pls.str, args);
   } else {
       s = pls.str.replace(this._static.QUESTION_MARK, &quot;%s&quot;);
       args = args.map(this.literal, this);
       s = string.format(s, args);
   }
   if (pls.parens) {
       s = string.format(&quot;(%s)&quot;, s);
   }
   return s;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_postLoad"></a>
    <h3>
        postLoad
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
This is run inside <a href='#patio_Dataset_prototype_all'>patio.Dataset#all</a>, after all of the records have been loaded
via <a href='#patio_Dataset_prototype_forEach'>patio.Dataset#forEach</a>, but before any block passed to all is called.  It is called with
a single argument, an array of all returned records.  Does nothing by
default.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>allRecords</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (allRecords){
   return allRecords;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_qualifiedColumnName"></a>
    <h3>
        qualifiedColumnName
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Returns a qualified column name (including a table name) if the column
name isn't already qualified.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
dataset.qualifiedColumnName(&quot;b1&quot;, &quot;items&quot;);
     //=&gt; items.b1

dataset.qualifiedColumnName(&quot;ccc__b&quot;));
     //=&gt; &#x27;ccc.b&#x27;

dataset.qualifiedColumnName(&quot;ccc__b&quot;, &quot;items&quot;));
     //=&gt; &#x27;ccc.b&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to qualify. If the column is already qualified (e.g. ccc__b) then the                        table name (e.g. ccc) will override the provided table.</li>
    
        <li> <em>table</em>  : the name of the table to qualify the column to.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the qualified column name..</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,table){
   if (comb.isString(column)) {
       var parts = this._splitString(column);
       var columnTable = parts[0], alias = parts[2], tableAlias;
       column = parts[1];
       if (!columnTable) {
           if (comb.isInstanceOf(table, Identifier)) {
               table = table.value;
           }
           if (comb.isInstanceOf(table, AliasedExpression)) {
               tableAlias = table.alias;
           } else if (comb.isInstanceOf(table, QualifiedIdentifier)) {
               tableAlias = table;
           } else {
               parts = this._splitString(table);
               var schema = parts[0], tableAlias = parts[2];
               table = parts[1];
               if (schema) {
                   tableAlias = new Identifier(tableAlias) || new QualifiedIdentifier(schema, table);
               }
           }
           columnTable = tableAlias || table;
       }
       return new QualifiedIdentifier(columnTable, column);
   } else if (comb.isInstanceOf(column, Identifier)) {
       return column.qualify(table);
   } else {
       return column;
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_qualifiedIdentifierSql"></a>
    <h3>
        qualifiedIdentifierSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>qcr</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (qcr){
   return [qcr.table, qcr.column].map(
       function (x) {
           return [QualifiedIdentifier, Identifier, String].some(function (c) {
               return x instanceof c
           }) ? this.literal(x) : this.quoteIdentifier(x)
       }, this).join(&#x27;.&#x27;);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_qualify"></a>
    <h3>
        qualify
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Qualify to the given table, or <a href='#patio_Dataset_prototype_firstSourceAlias'>patio.Dataset#firstSourceAlias</a> if not table is given.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({id : 1}).qualify();
   //=&gt; SELECT items.* FROM items WHERE (items.id = 1)

DB.from(&quot;items&quot;).filter({id : 1}).qualify(&quot;i&quot;);
  //=&gt; SELECT i.* FROM items WHERE (i.id = 1)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>[table={@link patio.Dataset#firstSourceAlias}]</em>  : the table name to qualify to.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset qualified to the table or @link patio.Dataset#firstSourceAlias}</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table){
   table = table || this.firstSourceAlias;
   return this.qualifyTo(table);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_qualifyTo"></a>
    <h3>
        qualifyTo
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Return a copy of the dataset with unqualified identifiers in the
SELECT, WHERE, GROUP, HAVING, and ORDER clauses qualified by the
given table. If no columns are currently selected, select all
columns of the given table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({id : 1}).qualifyTo(&quot;i&quot;);
     //=&gt; SELECT i.* FROM items WHERE (i.id = 1)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : the name to qualify identifier to.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with unqualified identifiers qualified.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table){
   var o = this.__opts;
   if (o.sql) {
       return this.mergeOptions();
   }
   var h = {};
   array.intersect(Object.keys(o), this._static.QUALIFY_KEYS).forEach(function (k) {
       h[k] = this._qualifiedExpression(o[k], table);
   }, this);
   if (!o.select || comb.isEmpty(o.select)) {
       h.select = [new ColumnAll(table)];
   }
   return this.mergeOptions(h);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_qualifyToFirstSource"></a>
    <h3>
        qualifyToFirstSource
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Qualify the dataset to its current first source(first from clause).  This is useful
if you have unqualified identifiers in the query that all refer to
the first source, and you want to join to another table which
has columns with the same name as columns in the current dataset.
See <a href='#patio_Dataset_prototype_qualifyTo'>patio.Dataset#qualifyTo</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({id : 1}).qualifyToFirstSource();
     //=&gt; SELECT items.* FROM items WHERE (items.id = 1)
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset that is qualified with the first source.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.qualifyTo(this.firstSourceAlias);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_quoteIdentifier"></a>
    <h3>
        quoteIdentifier
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   if (comb.isInstanceOf(name, LiteralString)) {
       return name;
   } else {
       if (comb.isInstanceOf(name, Identifier)) {
           name = name.value;
       }
       name = this.inputIdentifier(name);
       if (this.quoteIdentifiers) {
           name = this._quotedIdentifier(name)
       }
   }
   return name;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_quoteSchemaTable"></a>
    <h3>
        quoteSchemaTable
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>table</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table){
   var parts = this.schemaAndTable(table);
   var schema = parts[0];
   table = parts[1];
   return string.format(&quot;%s%s&quot;, schema ? this.quoteIdentifier(schema) + &quot;.&quot; : &quot;&quot;, this.quoteIdentifier(table));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_range"></a>
    <h3>
        range
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  a range from the minimum and maximum values for the
given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT max(id) AS v1, min(id) AS v2 FROM table LIMIT 1
 DB.from(&quot;table&quot;).range(&quot;id&quot;).then(function(min, max){
     //e.g min === 1 AND max === 10
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the min and max value for.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the min and max value, as the first
and second args respectively.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ret = new Promise();
   this.__aggregateDataset().select(sql.min(this.stringToIdentifier(column)).as(&quot;v1&quot;), sql.max(this.stringToIdentifier(column)).as(&quot;v2&quot;)).first().then(hitch(this, function (r) {
       ret.callback(r.v1, r.v2);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_remove"></a>
    <h3>
        remove
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Deletes the records in the dataset.  The returned Promise should be resolved with the
number of records deleted, but that is adapter dependent.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// DELETE * FROM table
DB.from(&quot;table&quot;).remove().then(function(numDeleted){
    //numDeleted === 3
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the
number of records deleted, but that is adapter dependent.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = this.executeDui(this.deleteSql);
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_returning"></a>
    <h3>
        returning
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds a RETURNING clause, which is not supported by all databases. If returning is
used instead of returning the autogenerated primary key or update/delete returning the number of rows modified.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds.from(&quot;items&quot;).returning() //&quot;RETURNING *&quot;
ds.from(&quot;items&quot;).returning(null) //&quot;RETURNING NULL&quot;
ds.from(&quot;items&quot;).returning(&quot;id&quot;, &quot;name&quot;) //&quot;RETURNING id, name&quot;
ds.from(&quot;items&quot;).returning([&quot;id&quot;, &quot;name&quot;]) //&quot;RETURNING id, name&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em>  : columns to return. If values is an array then the array is assumed to contain the columns to return. Otherwise the arguments will be used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a new dataset with the retuning option added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (values){
   var args;
   if (Array.isArray(values)) {
       args = values;
   } else {
       args = comb.argsToArray(arguments);
   }
   return this.mergeOptions({returning:args.map(function (v) {
       return comb.isString(v) ? sql.stringToIdentifier(v) : v;
   })});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_reverse"></a>
    <h3>
        reverse
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order reversed. If no order is
given, the existing order is inverted.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).reverse(&quot;id&quot;);
     //=&gt; SELECT * FROM items ORDER BY id DESC

DB.from(&quot;items&quot;).order(&quot;id&quot;).reverse();
     //=&gt; SELECT * FROM items ORDER BY id DESC

DB.from(&quot;items&quot;).order(&quot;id&quot;).reverse(sql.identifier(&quot;name&quot;).asc);
     //=&gt; SELECT * FROM items ORDER BY name ASC
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of columns add to order before reversing.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the order reversed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   return this.order.apply(this, this._invertOrder(args.length ? args : this.__opts.order));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_reverseOrder"></a>
    <h3>
        reverseOrder
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.reverse.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_save"></a>
    <h3>
        save
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.insert.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_saveMultiple"></a>
    <h3>
        saveMultiple
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.insertMultiple.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_schemaAndTable"></a>
    <h3>
        schemaAndTable
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>tableName</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (tableName){
   var sch = this.db ? this.db.defaultSchema || null : null;
   if (comb.isString(tableName)) {
       var parts = this._splitString(tableName);
       var s = parts[0], table = parts[1];
       return [s || sch, table];
   } else if (comb.isInstanceOf(tableName, QualifiedIdentifier)) {
       return [tableName.table, tableName.column]
   } else if (comb.isInstanceOf(tableName, Identifier)) {
       return [null, tableName.value];
   } else {
       throw new QueryError(&quot;table should be a QualifiedIdentifier, Identifier, or String&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_select"></a>
    <h3>
        select
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the columns selected changed
to the given columns. This also takes a function similar to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).select(&quot;a&quot;);
     //=&gt; SELECT a FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;, &quot;b&quot;);
     //=&gt; SELECT a, b FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;, function(){
         return this.sum(&quot;b&quot;)
  }).sql;  //=&gt; SELECT a, sum(b) FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of colums to select</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the columns selected changed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   var columns = [];
   args.forEach(function (c) {
       if (comb.isFunction(c)) {
           var res = c.apply(sql, [sql]);
           columns = columns.concat(comb.isArray(res) ? res : [res]);
       } else {
           columns.push(c);
       }
   });
   var select = [];
   columns.forEach(function (c) {
       if (comb.isHash(c)) {
           for (var i in c) {
               select.push(new AliasedExpression(new Identifier(i), c[i]));
           }
       } else if (comb.isString(c)) {
           select.push(this.stringToIdentifier(c));
       } else {
           select.push(c);
       }
   }, this);
   return this.mergeOptions({select:select});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_selectAll"></a>
    <h3>
        selectAll
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset that selects *.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset that selects *.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({select:null});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_selectAppend"></a>
    <h3>
        selectAppend
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the given columns added
to the existing selected columns. If no columns are currently selected,
it will select the columns given in addition to *.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).select(&quot;a&quot;).selectAppend(&quot;b&quot;).sql;
     //=&gt; SELECT b FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;).selectAppend(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;).sql
     //=&gt; SELECT a, b, c, d FROM items

  DB.from(&quot;items&quot;).selectAppend(&quot;b&quot;).sql
     //=&gt; SELECT *, b FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cols</em>  : </li>
    
        <li> <em>...?</em>  : cols variable number of columns to add to the select statement</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> returns a cloned dataset with the new select columns appended.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cols){
   cols = comb.argsToArray(arguments);
   var currentSelect = this.__opts.select;
   if (!currentSelect || !currentSelect.length) {
       currentSelect = [this._static.WILDCARD];
   }
   return this.select.apply(this, currentSelect.concat(cols));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_selectHash"></a>
    <h3>
        selectHash
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with a hash with keyColumn values as keys and valueColumn values as
values.  Similar to <a href='#patio_Dataset_prototype_toHash'>patio.Dataset#toHash</a>, but only selects the two columns.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id, name FROM table
 DB.from(&quot;table&quot;).selectHash(&quot;id&quot;, &quot;name&quot;).then(function(hash){
  // e.g {1 : &#x27;a&#x27;, 2 : &#x27;b&#x27;, ...}
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>keyColumn</em>  : the column to use as the key in the hash.</li>
    
        <li> <em>valueColumn</em>  : the column to use as the value in the hash.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with an array of hashes, that have the keyColumn
as the key and the valueColumn as the value.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (keyColumn,valueColumn,cb){
   var map = {}, args = comb.argsToArray(arguments);
   cb = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   var ret = new Promise().classic(cb);
   var k = this.__hashIdentifierToName(keyColumn), v = this.__hashIdentifierToName(valueColumn);
   var mapPromise = this.select.apply(this, args).map(function (r) {
       map[r[k]] = v ? r[v] : r;
   });
   mapPromise.then(function () {
       ret.callback(map);
   }, ret);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_selectMap"></a>
    <h3>
        selectMap
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Selects the column given (either as an argument or as a callback), and
returns an array of all values of that column in the dataset.  If you
give a block argument that returns an array with multiple entries,
the contents of the resulting array are undefined.


</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id FROM table
 DB.from(&quot;table&quot;).selectMap(&quot;id&quot;).then(function(selectMap){
  // e,g. selectMap === [3, 5, 8, 1, ...]
});

// SELECT abs(id) FROM table
DB.from(&quot;table&quot;).selectMap(function(){
     return this.abs(&quot;id&quot;);
}).then(function(selectMap){
  //e.g selectMap === [3, 5, 8, 1, ...]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : The column to return the values for.      See <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> for valid column values.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the array of mapped values.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ds = this.naked().ungraphed().select(column);
   return ds.map(function (r) {
       return r[Object.keys(r)[0]];
   }, cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_selectMore"></a>
    <h3>
        selectMore
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the given columns added
to the existing selected columns. If no columns are currently selected
it will just select the columns given.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).select(&quot;a&quot;).select(&quot;b&quot;).sql;
     //=&gt; SELECT b FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;).selectMore(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;).sql
     //=&gt; SELECT a, b, c, d FROM items

  DB.from(&quot;items&quot;).selectMore(&quot;b&quot;).sql
     //=&gt; SELECT b FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cols</em>  : </li>
    
        <li> <em>...?</em>  : cols variable number of columns to add to the select statement</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> returns a cloned dataset with the new select columns appended.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cols){
   cols = comb.argsToArray(arguments);
   var currentSelect = this.__opts.select;
   return this.select.apply(this, (currentSelect || []).concat(cols));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_selectOrderMap"></a>
    <h3>
        selectOrderMap
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
The same as <a href='#patio_Dataset_prototype_selectMap'>patio.Dataset#selectMap</a>, but in addition orders the array by the column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id FROM table ORDER BY id
DB.from(&quot;table&quot;).selectOrderMap(&quot;id&quot;).then(function(mappedIds){
  //e.g. [1, 2, 3, 4, ...]
});

 // SELECT abs(id) FROM table ORDER BY abs(id)
 DB.from(&quot;table&quot;).selectOrderMap(function(){
         return this.abs(&quot;id&quot;);
 }).then(function(mappedIds){
     //e.g. [1, 2, 3, 4, ...]
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : The column to return the values for.      See <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> for valid column values.</li>
    
        <li> <em>cb</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the array of mapped values.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ds = this.naked()
       .ungraphed()
       .select(column)
       .order(comb.isFunction(column) ? column : this._unaliasedIdentifier(column));
   return ds.map(function (r) {
       return r[Object.keys(r)[0]];
   }, cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_set"></a>
    <h3>
        set
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   this.update.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_setDefaults"></a>
    <h3>
        setDefaults
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Set the default values for insert and update statements.  The values hash passed
to insert or update are merged into this hash, so any values in the hash passed
to insert or update will override values passed to this method.

 </p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).setDefaults({a : &#x27;a&#x27;, c : &#x27;c&#x27;}).insert({a : &#x27;d&#x27;, b : &#x27;b&#x27;}).insertSql();
     //=&gt; INSERT INTO items (a, c, b) VALUES (&#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hash</em>  : object with key value pairs to use as override values</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the defaults added to the current datasets defaults.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hash){
   return this.mergeOptions({defaults:comb.merge({}, this.__opts.defaults || {}, hash)});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_setGraphAliases"></a>
    <h3>
        setGraphAliases
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
This allows you to manually specify the graph aliases to use
when using graph.  You can use it to only select certain
columns, and have those columns mapped to specific aliases
in the result set.  This is the equivalent of <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> for a
graphed dataset, and must be used instead of <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> whenever
graphing is used.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var DB = patio.defaultDatabase, ds = DB.from(&quot;artists&quot;);
var p = comb.executeInOrder(ds, function(ds){
    var graphedDs = ds.graph(&quot;albums&quot;, {artist_id : id});
    //SELECT artists.name AS artist_name, albums.name AS album_name, 42 AS forty_two FROM table
    return graphedDs.setGraphAliases({artist_name : [&quot;artists&quot;, &quot;name&quot;],
                      album_name : [&quot;albums&quot;, &quot;name&quot;],
                      forty_two : [&quot;albums&quot;, &quot;fourtwo&quot;, 42]).first();
});

p.then(function(obj){
   //obj == {artists : {name : artists.name}, albums : {name : albums.name, fourtwo : 42}}
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>graphAliases</em>  : </li>
    
        <li> <em>eter</em>  : {Object} graphAliases Should be a hash with keys being  column aliases, and values being                  arrays with two or three elements. The first element of the array should be the table alias,                  and the second should be the actual column name. If the array                  has a third element, it is used as the value returned, instead of                  tableAlias.columnName.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (graphAliases){
   var ds = this.select.apply(this, this.__graphAliasColumns(graphAliases));
   ds.__opts.graphAliases = graphAliases;
   return ds;
       
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_setOverrides"></a>
    <h3>
        setOverrides
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Set values that override hash arguments given to insert and update statements.
This hash is merged into the hash provided to insert or update, so values
will override any values given in the insert/update hashes.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).setOverrides({a : &#x27;a&#x27;, c : &#x27;c&#x27;}).insert({a : &#x27;d&#x27;, b : &#x27;b&#x27;}).insertSql();
     //=&gt; INSERT INTO items (a, c, b) VALUES (&#x27;a&#x27;, &#x27;c&#x27;, &#x27;b&#x27;)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hash</em>  : object with key value pairs to use as override values</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the overrides added to the current datasets overrides.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hash){
   return this.mergeOptions({overrides:comb.merge({}, this.__opts.overrides || {}, hash)});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_singleRecord"></a>
    <h3>
        singleRecord
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  the first record in the dataset, or null if the dataset
has no records. Users should probably use <a href='#patio_Dataset_prototype_first'>patio.Dataset#first</a> instead of
this method.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//&#x27;SELECT * FROM test LIMIT 1&#x27;
DB.from(&quot;test&quot;).singleRecord().then(function(r) {
    //e.g r === {id : 1, name : &quot;firstName&quot;}
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the first record returned from the query.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise().classic(cb);
   this.mergeOptions({limit:1}).all().then(function (r) {
       ret.callback(r &amp;&amp; r.length ? r[0] : null);
   }, ret);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_singleValue"></a>
    <h3>
        singleValue
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with the first value of the first record in the dataset.
Returns null if dataset is empty.  Users should generally use
<a href='#patio_Dataset_prototype_get'>patio.Dataset#get</a> instead of this method.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//&#x27;SELECT * FROM test LIMIT 1&#x27;
DB.from(&quot;test&quot;).singleValue().then(function(r) {
    //e.g r === 1
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the first value of the first row returned
from the dataset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise().classic(cb);
   this.naked().ungraphed().singleRecord().then(function (r) {
       ret.callback(r ? r[Object.keys(r)[0]] : null);
   }, hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_stringToIdentifier"></a>
    <h3>
        stringToIdentifier
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/index.js</em>

<p>
Converts a string to an <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>, <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a>,
or <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a>, depending on the format:

<ul>
     <li>For columns : table__column___alias.</li>
     <li>For tables : schema__table___alias.</li>
</ul>
each portion of the identifier is optional. See example below

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds.stringToIdentifier(&quot;a&quot;) //= &gt; new patio.sql.Identifier(&quot;a&quot;);
ds.stringToIdentifier(&quot;table__column&quot;); //=&gt; new patio.sql.QualifiedIdentifier(table, column);
ds.stringToIdentifier(&quot;table__column___alias&quot;);
     //=&gt; new patio.sql.AliasedExpression(new patio.sql.QualifiedIdentifier(table, column), alias);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name to covert to an an <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>, <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a>, or <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a>.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.Identifier|patio.sql.QualifiedIdentifier|patio.sql.AliasedExpression</code> an identifier generated based on the name string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   if (comb.isString(name)) {
       var parts = this._splitString(name);
       var schema = parts[0], table = parts[1], alias = parts[2];
       return (schema &amp;&amp; table &amp;&amp; alias
               ? new AliasedExpression(new QualifiedIdentifier(schema, table), alias)
               : (schema &amp;&amp; table
               ? new QualifiedIdentifier(schema, table)
               : (table &amp;&amp; alias
               ? new AliasedExpression(new Identifier(table), alias) : new Identifier(table))));
   } else {
       return name;
   }
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_subscriptSql"></a>
    <h3>
        subscriptSql
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>s</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (s){
   return string.format(&quot;%s[%s]&quot;, this.literal(s.f), this.__expressionList(s.sub));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_sum"></a>
    <h3>
        sum
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved the sum for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT sum(id) FROM table LIMIT 1
DB.from(&quot;table&quot;).sum(&quot;id&quot;).then(function(sum){
  // e.g sum === 55
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the sum of.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the sum of the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.sum(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_toCsv"></a>
    <h3>
        toCsv
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with a string in CSV format containing the dataset records. By
default the CSV representation includes the column titles in the
first line. You can turn that off by passing false as the
includeColumnTitles argument.

<p>
   <b>NOTE:</b> This does not use a CSV library or handle quoting of values in
         any way.  If any values in any of the rows could include commas or line
         endings, you shouldn't use this.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
 DB.from(&quot;table&quot;).toCsv().then(function(csv){
     console.log(csv);
     //outputs
       id,name
       1,Jim
       2,Bob
 });

   // SELECT * FROM table
 DB.from(&quot;table&quot;).toCsv(false).then(function(csv){
     console.log(csv);
     //outputs
       1,Jim
       2,Bob
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>[includeColumnTitles=true]</em>  : Set to false to prevent the printing of the column
 titles as the first line.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the CSV string of the results of the
 query.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (includeColumnTitles,cb){
   var n = this.naked();
   if(comb.isFunction(includeColumnTitles)){
       cb = includeColumnTitles;
       includeColumnTitles = true;
   }
   includeColumnTitles = comb.isBoolean(includeColumnTitles) ? includeColumnTitles : true;
   var csv = null, cols = [];
   var ret = new comb.Promise().classic(cb);
   n.columns.then(hitch(this, function (cols) {
       var vals = [];
       if (includeColumnTitles) {
           vals.push(cols.join(&quot;, &quot;));
       }
       n.forEach(
           function (r) {
               vals.push(cols.map(
                   function (c) {
                       return r[c] || &quot;&quot;;
                   }).join(&quot;, &quot;));
           }).then(function () {
               ret.callback(vals.join(&quot;\r\n&quot;) + &quot;\r\n&quot;);
           }, hitch(ret, &quot;errback&quot;));
   }), hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_toHash"></a>
    <h3>
        toHash
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with a hash with one column used as key and another used as value.
If rows have duplicate values for the key column, the latter row(s)
will overwrite the value of the previous row(s). If the valueColumn
is not given or null, uses the entire hash as the value.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
 DB.from(&quot;table&quot;).toHash(&quot;id&quot;, &quot;name&quot;).then(function(hash){
   // {1 : &#x27;Jim&#x27;, 2 : &#x27;Bob&#x27;, ...}
 });

// SELECT * FROM table
DB.from(&quot;table&quot;).toHash(&quot;id&quot;).then(function(hash){
  // {1 : {id : 1, name : &#x27;Jim&#x27;}, 2 : {id : 2, name : &#x27;Bob&#x27;}, ...}
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>keyColumn</em>  : the column  to use as the key in the returned hash.</li>
    
        <li> <em>valueColumn</em>  : </li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
        <li> <em>[keyValue=null]</em> <code>String|patio.sql.Identifier\patio.sql.QualifiedIdentifier|patio.sql.AliasedExpression</code> : the
 key of the column to use as the value in the hash</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the resulting hash.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (keyColumn,valueColumn,cb){
   var ret = new Promise(), map = {};
   if (comb.isFunction(valueColumn)) {
       cb = valueColumn;
       valueColumn = null;
   }
   var k = this.__hashIdentifierToName(keyColumn), v = this.__hashIdentifierToName(valueColumn);
   var mapPromise = this.map(function (r) {
       map[r[k]] = v ? r[v] : r;
   });
   mapPromise.then(function () {
       ret.callback(map);
   }, hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_truncate"></a>
    <h3>
        truncate
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Truncates the dataset.  Returns a promise that is resolved once truncation is complete.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// TRUNCATE table
DB.from(&quot;table&quot;).truncate().then(function(){
    //...do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved once truncation is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   return this.executeDdl(this.truncateSql).classic(cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_unfiltered"></a>
    <h3>
        unfiltered
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no filters (HAVING or WHERE clause) applied.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).group(&quot;a&quot;).having({a : 1}).where(&quot;b&quot;).unfiltered().sql;
     //=&gt; SELECT * FROM items GROUP BY a
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no HAVING or WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({where:null, having:null});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_ungraphed"></a>
    <h3>
        ungraphed
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Remove the splitting of results into subhashes, and all metadata
related to the current graph (if any).
     </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({graph:null});
       
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_ungrouped"></a>
    <h3>
        ungrouped
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no GROUP or HAVING clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;).group(&quot;a&quot;).having({a : 1}).where(&quot;b&quot;).ungrouped().sql;
     //=&gt; SELECT * FROM t WHERE b
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no GROUP or HAVING clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({group:null, having:null});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_union"></a>
    <h3>
        union
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds a UNION clause using a second dataset object.
A UNION compound dataset returns all rows in either the current dataset
or the given dataset.
Options:
:alias :: Use the given value as the from_self alias
:all :: Set to true to use UNION ALL instead of UNION, so duplicate rows can occur
:from_self :: Set to false to not wrap the returned dataset in a from_self, use with care.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).union(DB.from(&quot;otherItems&quot;)).sql;
     //=&gt; SELECT * FROM items UNION SELECT * FROM other_items

DB.from(&quot;items&quot;).union(DB.from(&quot;otherItems&quot;), {all : true, fromSelf : false}).sql;
     //=&gt; SELECT * FROM items UNION ALL SELECT * FROM other_items

DB.from(&quot;items&quot;).union(DB.from(&quot;otherItems&quot;), {alias : &quot;i&quot;})
     //=&gt; SELECT * FROM (SELECT * FROM items UNION SELECT * FROM other_items) AS i
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : dataset to union with</li>
    
        <li> <em>opts</em>  : addional options</li>
    
        <li> <em>opts.alias?</em> <code>String|patio.sql.Identifier</code> : Alias to use as the fromSelf alias.</li>
    
        <li> <em>[opt.all=false]</em> <code>Boolean</code> : Set to true to use UNION ALL instead of UNION so duplicate rows can occur</li>
    
        <li> <em>[opts.fromSelf=true]</em> <code>Boolean</code> : Set to false to not wrap the returned dataset in a fromSelf.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the union.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   if (!comb.isHash(opts)) {
       opts = {all:opts};
   }
   return this.compoundClone(&quot;union&quot;, dataset, opts);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_unlimited"></a>
    <h3>
        unlimited
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no limit or offset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;).limit(10, 20).unlimited().sql;
     //=&gt; SELECT * FROM t
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no limit or offset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({limit:null, offset:null});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_unordered"></a>
    <h3>
        unordered
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no order.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;).order(&quot;a&quot;, sql.identifier(&quot;b&quot;).desc()).unordered().sql;
     //=&gt; SELECT * FROM t
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no order.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.order(null);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_unusedTableAlias"></a>
    <h3>
        unusedTableAlias
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Creates a unique table alias that hasn't already been used in this dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).unusedTableAlias(&quot;t&quot;);
      //=&gt; &quot;t&quot;

DB.from(&quot;table&quot;).unusedTableAlias(&quot;table&quot;);
  //=&gt; &quot;table0&quot;

DB.from(&quot;table&quot;, &quot;table0&quot;]).unusedTableAlias(&quot;table&quot;);
  //=&gt; &quot;table1&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>tableAlias</em>  : the table to get an unused alias for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the implicit alias that is in tableAlias with a possible "N"
                 if the alias has already been used, where N is an integer starting at 0.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (tableAlias){
   tableAlias = this._toTableName(tableAlias);
   var usedAliases = [], from, join;
   if ((from = this.__opts.from) != null) {
       usedAliases = usedAliases.concat(from.map(function (n) {
           return this._toTableName(n)
       }, this));
   }
   if ((join = this.__opts.join) != null) {
       usedAliases = usedAliases.concat(join.map(function (join) {
           if (join.tableAlias) {
               return this.__toAliasedTableName(join.tableAlias);
           } else {
               return this._toTableName(join.table);
           }
       }, this));
   }
   if (usedAliases.indexOf(tableAlias) != -1) {
       var base = tableAlias, i = 0;
       do {
           tableAlias = comb.string.format(&quot;%s%d&quot;, base, i++);
       } while (usedAliases.indexOf(tableAlias) != -1)
   }
   return tableAlias;
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_update"></a>
    <h3>
        update
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Updates values for the dataset.  The returned promise is resolved with a value that is generally the
number of rows updated, but that is adapter dependent.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// UPDATE table SET x = NULL
 DB.from(&quot;table&quot;).update({x : null}).then(function(numRowsUpdated){
     //e.g. numRowsUpdated === 10
 });

// UPDATE table SET x = (x + 1), y = 0
DB.from(&quot;table&quot;).update({ x : sql.x.plus(1), y : 0}).then(function(numRowsUpdated){
  // e.g. numRowsUpdated === 10
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em>  : See <a href='#patio_Dataset_prototype_updateSql'>patio.Dataset#updateSql</a> for parameter types.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is generally resolved with the
number of rows updated, but that is adapter dependent.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (values,cb){
   return this.executeDui(this.updateSql(values)).classic(cb);
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_updateSql"></a>
    <h3>
        updateSql
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/sql.js</em>

<p>
Formats an UPDATE statement using the given values.  See <a href='#patio_dataset__Actions_prototype_update'>patio.dataset._Actions#update</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).updateSql({price : 100, category : &#x27;software&#x27;});
     //=&gt; &quot;UPDATE items SET price = 100, category = &#x27;software&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em>  : </li>
    
        <li> <em>Variable</em> <code>*...</code> : number of values to update the table with.  The UPDATE statement created depends on the values passed in.          <ul>              <li>Object : the keys will be used as the columns and the values will be the values to set to columns to</li>              <li><a href='#patio_sql_Expression'>patio.sql.Expression</a> : the <a href='#patio_dataset__Sql_prototype_literal'>patio.dataset._Sql#literal</a> representation of the                      <a href='#patio_sql_Expression'>patio.sql.Expression</a> will be used as the value              </li>              </li> Other : the <a href='#patio_dataset__Sql_prototype_literal'>patio.dataset._Sql#literal</a> value will be used as the value</li>          </ul></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the UPDATE statement.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li>  throw {QueryError} If the dataset is grouped or includes more than one table.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (values){
   values = comb.argsToArray(arguments);
   if (this.__opts.sql) return this._staticSql(this.__opts.sql);
   this.__checkModificationAllowed();
   return this.mergeOptions({values:values})._updateSql();
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_where"></a>
    <h3>
        where
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add a condition to the WHERE clause.  See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for argument types.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).where(&#x27;price &lt; ? AND id in ?&#x27;, 100, [1, 2, 3]).sql;
     //=&gt; &quot;SELECT * FROM test WHERE (price &lt; 100 AND id in (1, 2, 3))&quot;
  DB.from(&quot;test&quot;).where(&#x27;price &lt; {price} AND id in {ids}&#x27;, {price:100, ids:[1, 2, 3]}).sql;
     //=&gt; &quot;SELECT * FROM test WHERE (price &lt; 100 AND id in (1, 2, 3))&quot;)
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._filter.apply(this, [&quot;where&quot;].concat(comb.argsToArray(arguments)));
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_with"></a>
    <h3>
        with
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add a common table expression (CTE) with the given name and a dataset that defines the CTE.
A common table expression acts as an inline view for the query.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;)[&quot;with&quot;](&quot;t&quot;, db.from(&quot;x&quot;))[&quot;with&quot;](&quot;j&quot;, db.from(&quot;y&quot;)).sql;
     //=&gt; &#x27;WITH t AS (SELECT * FROM x), j AS (SELECT * FROM y) SELECT * FROM t&#x27;

DB.from(&quot;t&quot;)[&quot;with&quot;](&quot;t&quot;, db.from(&quot;x&quot;)).withRecursive(&quot;j&quot;, db.from(&quot;y&quot;), db.from(&quot;j&quot;)).sql;
     //=&gt; &#x27;WITH t AS (SELECT * FROM x), j AS (SELECT * FROM y UNION ALL SELECT * FROM j) SELECT * FROM t&#x27;

DB.from(&quot;t&quot;)[&quot;with&quot;](&quot;t&quot;, db.from(&quot;x&quot;), {args:[&quot;b&quot;]}).sql;
     //=&gt; &#x27;WITH t(b) AS (SELECT * FROM x) SELECT * FROM t&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the to assign to the CTE.</li>
    
        <li> <em>dataset</em>  : the dataset to use for the CTE.</li>
    
        <li> <em>opts</em>  : extra options.</li>
    
        <li> <em>opts.args?</em> <code>String[]</code> : colums/args for the CTE.</li>
    
        <li> <em>opts.recursive?</em> <code>Boolean</code> : set to true that the CTE is recursive.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the CTE.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,dataset,opts){
   if (!this.supportsCte) {
       throw new QueryError(&quot;this dataset does not support common table expressions&quot;);
   }
   return this.mergeOptions({
       &quot;with&quot;:(this.__opts[&quot;with&quot;] || []).concat([comb.merge(opts || {}, {name:this.stringToIdentifier(name), dataset:dataset})])
   });
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_withRecursive"></a>
    <h3>
        withRecursive
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add a recursive common table expression (CTE) with the given name, a dataset that
defines the nonrecursive part of the CTE, and a dataset that defines the recursive part
of the CTE.

 </p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//Sing withRecursive call.
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;)).sql;
         //=&gt; &#x27;WITH t AS (SELECT * FROM x UNION ALL SELECT * FROM t) SELECT * FROM t&#x27;

//Multiple withRecursive calls.
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;))
   .withRecursive(&quot;j&quot;, db.from(&quot;y&quot;), db.from(&quot;j&quot;)).sql;
         //=&gt; &#x27;WITH t AS (SELECT * FROM x UNION ALL SELECT * FROM t),
                    j AS (SELECT * FROM y UNION ALL SELECT * FROM j) SELECT * FROM t&#x27;;

//Adding args
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;), {args:[&quot;b&quot;, &quot;c&quot;]}).sql;
         //=&gt; &#x27;WITH t(b, c) AS (SELECT * FROM x UNION ALL SELECT * FROM t) SELECT * FROM t&#x27;

//Setting union all to false
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;), {unionAll:false}).sql;
         //=&gt; &#x27;WITH t AS (SELECT * FROM x UNION SELECT * FROM t) SELECT * FROM t&#x27;);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name to assign to the CTE</li>
    
        <li> <em>nonRecursive</em>  : the non-recursive part of the CTE</li>
    
        <li> <em>recursive</em>  : the recursive part of the CTE</li>
    
        <li> <em>[opts={}]</em>  : extra options</li>
    
        <li> <em>opts.args?</em> <code>String[]</code> : columns to include with the CTE</li>
    
        <li> <em>opts.unionAll?</em> <code>Boolena</code> : set to false to use UNION instead of UNION ALL when combining non recursive
                               with recursive.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the CTE.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,nonRecursive,recursive,opts){
   if (!this.supportsCte) {
       throw new QueryError(&quot;This dataset does not support common table expressions&quot;);
   }
   opts = opts || {};
   var wit = (this.__opts[&quot;with&quot;] || []).concat([comb.merge(opts, {recursive:true, name:this.stringToIdentifier(name), dataset:nonRecursive.union(recursive, {all:opts.unionAll != false, fromSelf:false})})]);
   return this.mergeOptions({&quot;with&quot;:wit});
           
}
    </pre>
    


  
    <a name="patio_Dataset_prototype_withSql"></a>
    <h3>
        withSql
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the static SQL used.  This is useful if you want
to keep the same <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a>/<a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a>,
 but change the SQL used to custom SQL.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).withSql(&#x27;SELECT * FROM foo&#x27;)
         //=&gt; SELECT * FROM foo
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : sql for the dataset to use.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the static sql set.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql){
   var args = comb.argsToArray(arguments).slice(1);
   if (args.length) {
       sql = new PlaceHolderLiteralString(sql, args)
   }
   return this.mergeOptions({sql:sql});
           
}
    </pre>
    


  

    <a name="patio_DatasetError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.DatasetError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_DatasetError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is a Dataset Error.</p>
    

    

    
    

    <a name="patio_DatasetError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;DatasetError : &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_ExpressionError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.ExpressionError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_ExpressionError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is an Expression Error.</p>
    

    

    
    

    <a name="patio_ExpressionError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Expression Error :&quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_Model"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.Model
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_Model_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_Model_instanceProperties">Instance Properties</a></li>
                        
                        
                        <li><a href="#patio_Model_staticProperties">Static Properties</a></li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_Model_addGraphAliases">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addGraphAliases
                                </a></li>
                                
                                <li><a href="#patio_Model_all">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                all
                                </a></li>
                                
                                <li><a href="#patio_Model_and">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                and
                                </a></li>
                                
                                <li><a href="#patio_Model_associate">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                associate
                                </a></li>
                                
                                <li><a href="#patio_Model_avg">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                avg
                                </a></li>
                                
                                <li><a href="#patio_Model_columns">
                                
                                <span class="label label-info">S</span>
                                
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                columns
                                </a></li>
                                
                                <li><a href="#patio_Model_count">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                count
                                </a></li>
                                
                                <li><a href="#patio_Model_create">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                create
                                </a></li>
                                
                                <li><a href="#patio_Model_distinct">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                distinct
                                </a></li>
                                
                                <li><a href="#patio_Model_empty">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                empty
                                </a></li>
                                
                                <li><a href="#patio_Model_eq">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                eq
                                </a></li>
                                
                                <li><a href="#patio_Model_except">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                except
                                </a></li>
                                
                                <li><a href="#patio_Model_exclude">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                exclude
                                </a></li>
                                
                                <li><a href="#patio_Model_find">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                find
                                </a></li>
                                
                                <li><a href="#patio_Model_findById">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                findById
                                </a></li>
                                
                                <li><a href="#patio_Model_findOrCreate">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                findOrCreate
                                </a></li>
                                
                                <li><a href="#patio_Model_first">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                first
                                </a></li>
                                
                                <li><a href="#patio_Model_forEach">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                forEach
                                </a></li>
                                
                                <li><a href="#patio_Model_forUpdate">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                forUpdate
                                </a></li>
                                
                                <li><a href="#patio_Model_from">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                from
                                </a></li>
                                
                                <li><a href="#patio_Model_fromSelf">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                fromSelf
                                </a></li>
                                
                                <li><a href="#patio_Model_get">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                get
                                </a></li>
                                
                                <li><a href="#patio_Model_graph">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                graph
                                </a></li>
                                
                                <li><a href="#patio_Model_grep">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                grep
                                </a></li>
                                
                                <li><a href="#patio_Model_group">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                group
                                </a></li>
                                
                                <li><a href="#patio_Model_groupAndCount">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                groupAndCount
                                </a></li>
                                
                                <li><a href="#patio_Model_groupBy">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                groupBy
                                </a></li>
                                
                                <li><a href="#patio_Model_gt">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                gt
                                </a></li>
                                
                                <li><a href="#patio_Model_gte">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                gte
                                </a></li>
                                
                                <li><a href="#patio_Model_having">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                having
                                </a></li>
                                
                                <li><a href="#patio_Model_import">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                import
                                </a></li>
                                
                                <li><a href="#patio_Model_inherits">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                inherits
                                </a></li>
                                
                                <li><a href="#patio_Model_insert">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                insert
                                </a></li>
                                
                                <li><a href="#patio_Model_insertMultiple">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                insertMultiple
                                </a></li>
                                
                                <li><a href="#patio_Model_intersect">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                intersect
                                </a></li>
                                
                                <li><a href="#patio_Model_interval">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                interval
                                </a></li>
                                
                                <li><a href="#patio_Model_invert">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                invert
                                </a></li>
                                
                                <li><a href="#patio_Model_is">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                is
                                </a></li>
                                
                                <li><a href="#patio_Model_isNot">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isNot
                                </a></li>
                                
                                <li><a href="#patio_Model_last">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                last
                                </a></li>
                                
                                <li><a href="#patio_Model_limit">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                limit
                                </a></li>
                                
                                <li><a href="#patio_Model_lockStyle">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lockStyle
                                </a></li>
                                
                                <li><a href="#patio_Model_lt">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lt
                                </a></li>
                                
                                <li><a href="#patio_Model_lte">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lte
                                </a></li>
                                
                                <li><a href="#patio_Model_manyToMany">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                manyToMany
                                </a></li>
                                
                                <li><a href="#patio_Model_manyToOne">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                manyToOne
                                </a></li>
                                
                                <li><a href="#patio_Model_map">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                map
                                </a></li>
                                
                                <li><a href="#patio_Model_max">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                max
                                </a></li>
                                
                                <li><a href="#patio_Model_min">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                min
                                </a></li>
                                
                                <li><a href="#patio_Model_multiInsert">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                multiInsert
                                </a></li>
                                
                                <li><a href="#patio_Model_naked">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                naked
                                </a></li>
                                
                                <li><a href="#patio_Model_neq">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                neq
                                </a></li>
                                
                                <li><a href="#patio_Model_one">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                one
                                </a></li>
                                
                                <li><a href="#patio_Model_oneToMany">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                oneToMany
                                </a></li>
                                
                                <li><a href="#patio_Model_oneToOne">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                oneToOne
                                </a></li>
                                
                                <li><a href="#patio_Model_or">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                or
                                </a></li>
                                
                                <li><a href="#patio_Model_order">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                order
                                </a></li>
                                
                                <li><a href="#patio_Model_orderAppend">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderAppend
                                </a></li>
                                
                                <li><a href="#patio_Model_orderBy">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderBy
                                </a></li>
                                
                                <li><a href="#patio_Model_orderMore">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderMore
                                </a></li>
                                
                                <li><a href="#patio_Model_orderPrepend">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                orderPrepend
                                </a></li>
                                
                                <li><a href="#patio_Model_qualify">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                qualify
                                </a></li>
                                
                                <li><a href="#patio_Model_range">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                range
                                </a></li>
                                
                                <li><a href="#patio_Model_remove">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                remove
                                </a></li>
                                
                                <li><a href="#patio_Model_removeById">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                removeById
                                </a></li>
                                
                                <li><a href="#patio_Model_reverse">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                reverse
                                </a></li>
                                
                                <li><a href="#patio_Model_reverseOrder">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                reverseOrder
                                </a></li>
                                
                                <li><a href="#patio_Model_save">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                save
                                </a></li>
                                
                                <li><a href="#patio_Model_saveMultiple">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                saveMultiple
                                </a></li>
                                
                                <li><a href="#patio_Model_select">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                select
                                </a></li>
                                
                                <li><a href="#patio_Model_selectAll">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectAll
                                </a></li>
                                
                                <li><a href="#patio_Model_selectAppend">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectAppend
                                </a></li>
                                
                                <li><a href="#patio_Model_selectHash">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectHash
                                </a></li>
                                
                                <li><a href="#patio_Model_selectMap">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectMap
                                </a></li>
                                
                                <li><a href="#patio_Model_selectMore">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectMore
                                </a></li>
                                
                                <li><a href="#patio_Model_selectOrderMap">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                selectOrderMap
                                </a></li>
                                
                                <li><a href="#patio_Model_set">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                set
                                </a></li>
                                
                                <li><a href="#patio_Model_setDefaults">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setDefaults
                                </a></li>
                                
                                <li><a href="#patio_Model_setGraphAliases">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setGraphAliases
                                </a></li>
                                
                                <li><a href="#patio_Model_setOverrides">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setOverrides
                                </a></li>
                                
                                <li><a href="#patio_Model_singleRecord">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                singleRecord
                                </a></li>
                                
                                <li><a href="#patio_Model_singleValue">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                singleValue
                                </a></li>
                                
                                <li><a href="#patio_Model_sum">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                sum
                                </a></li>
                                
                                <li><a href="#patio_Model_toCsv">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toCsv
                                </a></li>
                                
                                <li><a href="#patio_Model_toHash">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toHash
                                </a></li>
                                
                                <li><a href="#patio_Model_truncate">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                truncate
                                </a></li>
                                
                                <li><a href="#patio_Model_unfiltered">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unfiltered
                                </a></li>
                                
                                <li><a href="#patio_Model_ungraphed">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                ungraphed
                                </a></li>
                                
                                <li><a href="#patio_Model_ungrouped">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                ungrouped
                                </a></li>
                                
                                <li><a href="#patio_Model_union">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                union
                                </a></li>
                                
                                <li><a href="#patio_Model_unlimited">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unlimited
                                </a></li>
                                
                                <li><a href="#patio_Model_unordered">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unordered
                                </a></li>
                                
                                <li><a href="#patio_Model_update">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                update
                                </a></li>
                                
                                <li><a href="#patio_Model_useTransaction">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                useTransaction
                                </a></li>
                                
                                <li><a href="#patio_Model_where">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                where
                                </a></li>
                                
                                <li><a href="#patio_Model_with">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                with
                                </a></li>
                                
                                <li><a href="#patio_Model_withRecursive">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                withRecursive
                                </a></li>
                                
                                <li><a href="#patio_Model_withSql">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                withSql
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_Model_prototype___reload">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __reload

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype__saveReload">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _saveReload

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype__updateReload">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _updateReload

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_remove">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                remove

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_save">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                save

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_setValues">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                setValues

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_toJSON">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toJSON

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_toObject">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toObject

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_update">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                update

                                </a></li>
                                
                                <li><a href="#patio_Model_prototype_valueOf">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                valueOf

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Base class for all models.
<p>This is used through <a href='#patio_addModel'>patio.addModel</a>, <b>NOT directly.</b></p>

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#comb_plugins_Middleware">comb.plugins.Middleware</a></li>
            
        </ul>
    

    
        <a name="patio_Model_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>MANY_TO_MANY</em></td><td>property</td><td><code>"manyToMany"</code></td><td>
String for to signify an association as many to many.
</td><tr><tr><td><em>MANY_TO_ONE</em></td><td>property</td><td><code>"manyToOne"</code></td><td>
String for to signify an association as many to one.
</td><tr><tr><td><em>ONE_TO_MANY</em></td><td>property</td><td><code>"oneToMany"</code></td><td>
String for to signify an association as one to many.
</td><tr><tr><td><em>ONE_TO_ONE</em></td><td>property</td><td><code>"oneToOne"</code></td><td>
String for to signify an association as one to one.
</td><tr><tr><td><em>camelize</em></td><td>{Boolean}</td><td><code>function (camelize){
   return  this.__camelize;
               
}</code></td><td>
Set to true if this models column names should be use the "underscore" method when sending
keys to the database and to "camelize" method on columns returned from the database. If set to false see
<a href='#patio_Model_prototype_underscore'>patio.Model#underscore</a>.
</td><tr><tr><td><em>columns</em></td><td>String[]</td><td><code>function (){
   return this.__columns;
               
}</code></td><td>
A list of columns this models table contains.
</td><tr><tr><td><em>dataset</em></td><td>patio.Dataset</td><td><code>function (){
   var ds = this.__dataset;
   if (!ds) {
       ds = this.db.from(this.tableName);
       ds.rowCb = hitch(this, function (vals) {
           return this.load(vals);
       });
       this.identifierInputMethod && (ds.identifierInputMethod = this.identifierInputMethod);
       this.identifierOutputMethod && (ds.identifierOutputMethod = this.identifierOutputMethod);
       this.__dataset = ds;
   }
   return ds;
               
}</code></td><td>
A dataset to use to retrieve instances of this <a href='#patio_Model{ from the database_ The dataset
has the {@link patio_Dataset_prototype_rowCb'>patio.Model{ from the database. The dataset
has the {@link patio.Dataset#rowCb</a> set to create instances of this model.
</td><tr><tr><td><em>db</em></td><td>patio.Database</td><td><code>function (){
   var db = this.__db;
   if (!db) {
       db = this.__db = patio.defaultDatabase;
   }
   if (!db) {
       throw new ModelError("patio has not been connected to a database");
   }
   return db;
               
}</code></td><td>
The database all instances of this <a href='#patio_Model'>patio.Model</a> use.
</td><tr><tr><td><em>emitOnAssociationAdd</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent an event from being emitted when an association is added to the model
</td><tr><tr><td><em>emitOnColumnSet</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the emitting of an event on the setting of a column value
</td><tr><tr><td><em>emitOnLoad</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the emitting of an event on load
</td><tr><tr><td><em>emitOnRemove</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the emitting on an event when a model is removed.
</td><tr><tr><td><em>emitOnSave</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the emitting on an event when a model is saved.
</td><tr><tr><td><em>emitOnUpdate</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the emitting on an event when a model is updated.
</td><tr><tr><td><em>fetchType</em></td><td>property</td><td><code>fetch</code></td><td>
</td><tr><tr><td><em>identifierInputMethod</em></td><td>property</td><td><code>null
         </code></td><td>
See <a href='#patio_Dataset_prototype_identifierInputMethod'>patio.Dataset#identifierInputMethod</a>
</td><tr><tr><td><em>identifierOutputMethod</em></td><td>property</td><td><code>null
         </code></td><td>
See <a href='#patio_Dataset_prototype_identifierOutputMethod'>patio.Dataset#identifierOutputMethod</a>
</td><tr><tr><td><em>isRestrictedPrimaryKey</em></td><td>property</td><td><code>false
         </code></td><td>
Set to false to allow the setting of primary keys.
</td><tr><tr><td><em>patio</em></td><td>function</td><td><code>function (){
   return patio || require("./index");
               
}</code></td><td>
A reference to the global <a href='#patio'>patio</a>.
</td><tr><tr><td><em>patio</em></td><td>patio</td><td><code>null</code></td><td>
patio  - read only

</td><tr><tr><td><em>primaryKey</em></td><td>function</td><td><code>function (){
   if (this.synced) {
       return this.__primaryKey.slice(0);
   } else {
       throw new ModelError("Model has not been synced yet");
   }
               
}</code></td><td>
The primaryKey column/s of this <a href='#patio_Model'>patio.Model</a>
</td><tr><tr><td><em>raiseOnTypecastError</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent errors thrown while type casting a value from being propogated.
</td><tr><tr><td><em>reloadOnSave</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the reload of a model after saving.
</td><tr><tr><td><em>reloadOnUpdate</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent the reload of a model after updating.
</td><tr><tr><td><em>restrictedColumns</em></td><td>property</td><td><code>null</code></td><td>
Columns that should be restriced when setting values through the <a href='#patio_Model_prototype_set'>patio.Model#set</a> method.

         </td><tr><tr><td><em>schema</em></td><td>Object</td><td><code>function (){
   if (this.synced) {
       return this.__schema;
   } else {
       throw new ModelError("Model has not been synced yet");
   }
               
}</code></td><td>
The schema of this <a href='#patio_Model'>patio.Model</a>'s table. See <a href='#patio_Database_prototype_schema'>patio.Database#schema</a> for details
on the schema object.
</td><tr><tr><td><em>table</em></td><td>property</td><td><code>null</code></td><td>
The table that this Model represents.
<b>READ ONLY</b>
         </td><tr><tr><td><em>tableName</em></td><td>String</td><td><code>function (){
   return this.__tableName;
               
}</code></td><td>
The name of the table all instances of the this <a href='#patio_Model'>patio.Model</a> use.
</td><tr><tr><td><em>typecastEmptyStringToNull</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent empty strings from being type casted to null
</td><tr><tr><td><em>typecastOnAssignment</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent properties from being type casted when manually set.
See <a href='#patio_Database_prototype_typecastValue'>patio.Database#typecastValue</a>
</td><tr><tr><td><em>typecastOnLoad</em></td><td>property</td><td><code>true
         </code></td><td>
Set to false to prevent properties from being type casted when loaded from the database.
See <a href='#patio_Database_prototype_typecastValue'>patio.Database#typecastValue</a>
</td><tr><tr><td><em>underscore</em></td><td>{Boolean}</td><td><code>function (underscore){
   return this.__underscore;
               
}</code></td><td>
Set to true if this models column names should be use the "camelize" method when sending
keys to the database and to "underscore" method on columns returned from the database. If set to false see
<a href='#patio_Model_prototype_underscore'>patio.Model#underscore</a>.
</td><tr><tr><td><em>useTransactions</em></td><td>property</td><td><code>true</code></td><td>
Set to false to prevent models from using transactions when saving, deleting, or updating.
This applies to the model associations also.
         </td><tr></table>
    
    
        <a name="patio_Model_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>__isChanged</td><td>property</td><td><code>false</code></td><td>
Signifies if the model has changed
</td><tr><tr><td>__isNew</td><td>property</td><td><code>true</code></td><td>
Whether or not this model is new
</td><tr><tr><td>associations</td><td>function</td><td><code>function (){
   return this._static.associations;
               
}</code></td><td>
List of associations on the <a href='#patio_Model'>patio.Model</a>
</td><tr><tr><td>columns</td><td></td><td></td><td>a list of columns this models table contains.</td><tr><tr><td>dataset</td><td></td><td></td><td>a dataset to use to retrieve models from the database. The dataset                          has the <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a> set to create instances of this model.</td><tr><tr><td>hasAssociations</td><td>function</td><td><code>function (){
   return this._static.hasAssociations;
               
}</code></td><td>
Returns true if this <a href='#patio_Model'>patio.Model</a> has associations.
</td><tr><tr><td>isChanged</td><td></td><td></td><td>true if the model has been changed and not saved.</td><tr><tr><td>isNew</td><td></td><td></td><td>true if this model is new and does not exist in the database.</td><tr><tr><td>patio</td><td>patio</td><td><code>null</code></td><td>
patio  - read only

</td><tr><tr><td>primaryKeyValue</td><td></td><td></td><td>the value of this models primaryKey</td><tr><tr><td>schema</td><td></td><td></td><td>the schema of this models table.</td><tr><tr><td>tableName</td><td></td><td></td><td>the table name of this models table.</td><tr><tr><td>type</td><td>property</td><td><code>null</code></td><td>
The database type such as mysql

@typre String

</td><tr></table>
    

    <a name="patio_Model_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined model.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>options</em>  : </li>
        
            <li> <em>fromDb</em>  : </li>
        
            <li> <em>columnValues</em> <code>Object</code> : values of each column to be used by this Model.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (options,fromDb){
   if (this.synced) {
       this.__emitter = new EventEmitter();
       this._super(arguments);
       this.patio = patio || require(&quot;./index&quot;);
       fromDb = comb.isBoolean(fromDb) ? fromDb : false;
       this.__changed = {};
       this.__values = {};
       if (fromDb) {
           this._hook(&quot;pre&quot;, &quot;load&quot;);
           this.__isNew = false;
           this.__set(options, true);
           if (this._static.emitOnLoad) {
               this.emit(&quot;load&quot;, this);
               this._static.emit(&quot;load&quot;, this);
           }
       } else {
           this.__isNew = true;
           this.__set(options);
       }
   } else {
       throw new ModelError(&quot;Model &quot; + this.tableName + &quot; has not been synced&quot;);
   }
           
}
            </pre>
      
    

  
    <a name="patio_Model_addGraphAliases"></a>
    <h3>
        addGraphAliases
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Adds the given graph aliases to the list of graph aliases to use,
unlike <a href='#patio_Dataset_prototype_setGraphAliases'>patio.Dataset#setGraphAliases</a>, which replaces the list (the equivalent
of <a href='#patio_Dataset_prototype_selectMore'>patio.Dataset#selectMore</a> when graphing).  See <a href='#patio_Dataset_prototype_setGraphAliases'>patio.Dataset#setGraphAliases</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var DB = patio.defaultDatabase;
 // SELECT ..., table.column AS someAlias
  DB.from(&quot;table&quot;).addGraphAliases({someAlias : [&quot;table&quot;, &quot;column&quot;]);
  //returns from graphing
  // =&gt; {table : {column : someAlias_value, ...}, ...}
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>graphAliases</em>  : the graph aliases to use.          Where key is the alias name and the value is an array where arr[0] = 'tableName' arr[1] = "colName'.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> deep copy of the original dataset with the added graphAliases.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (graphAliases){
   var ds = this.selectMore.apply(this, this.__graphAliasColumns(graphAliases));
   ds.__opts.graphAliases = comb.merge((ds.__opts.graphAliases || (ds.__opts.graph ? ds.__opts.graph.columnAliases : {}) || {}), graphAliases);
   return ds;
       
}
    </pre>
    


  
    <a name="patio_Model_all"></a>
    <h3>
        all
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a Promise that is resolved with an array with all records in the dataset.
If a block is given, the array is iterated over after all items have been loaded.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
DB.from(&quot;table&quot;).all().then(function(res){
     //res === [{id : 1, ...}, {id : 2, ...}, ...];
});
// Iterate over all rows in the table
var myArr = [];
var rowPromise = DB.from(&quot;table&quot;).all(function(row){ myArr.push(row);});
rowPromise.then(function(rows){
   //=&gt; rows == myArr;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>block</em>  : a block to be called with each item. The return value of the block is ignored.</li>
    
        <li> <em>cb?</em>  : a block to invoke when the action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with an array of rows.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (block,cb){
   var a = [];
   var ret = new Promise();
   this.forEach(hitch(this, function (r) {
       a.push(r);
   })).then(hitch(this, function () {
       this.postLoad(a);
       if (block) {
           a.forEach(block, this);
       }
       ret.callback(a);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_and"></a>
    <h3>
        and
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds a futher filter to an existing filter using AND. This method is identical to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>
except it expects an existing filter.

<p>
    <b>For parameter types see <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</b>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).filter(&quot;a&quot;).and(&quot;b&quot;).sql;
     //=&gt;SELECT * FROM table WHERE a AND b
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the condtion added to the WHERE/HAVING clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If no WHERE?HAVING clause exists.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var tOpts = this.__opts, clauseObj = tOpts[tOpts.having ? &quot;having&quot; : &quot;where&quot;];
   if (clauseObj) {
       return this.filter.apply(this, arguments);
   } else {
       throw new QueryError(&quot;No existing filter found&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Model_associate"></a>
    <h3>
        associate
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/association.js</em>

<p>
Associates a related model with the current model. The following types are
supported:

<ul>
    <li><b>oneToMany</b> - Foreign key in associated model's table points to this
        model's primary key.   Each current model object can be associated with
        more than one associated model objects.  Each associated model object
        can be associated with only one current model object.</li>
    <li><b>manyToOne</b> - Foreign key in current model's table points to
        associated model's primary key.  Each associated model object can
        be associated with more than one current model objects.  Each current
        model object can be associated with only one associated model object.</li>
    <li><b>oneToOne</b> - Similar to one_to_many in terms of foreign keys, but
        only one object is associated to the current object through the
        association.  The methods created are similar to many_to_one, except
        that the one_to_one setter method saves the passed object./li>
    <li><b>manyToMany</b> - A join table is used that has a foreign key that points
        to this model's primary key and a foreign key that points to the
        associated model's primary key.  Each current model object can be
        associated with many associated model objects, and each associated
        model object can be associated with many current model objects.</li>
</ul>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : the          type of association that is to be created.</li>
    
        <li> <em>name</em>  : the name of the association, the name specified will be exposed as a property on instances of the model.</li>
    
        <li> <em>options?</em>  : additional options.
The following options can be supplied:
<ul>
  <li><b>model</b> - The associated class or its name. If not  given, uses the association's name,
   which is singularized unless the type is MANY_TO_ONE or ONE_TO_ONE</li>
  <li><b>query</b> - The conditions to use to filter the association, can be any argument passed
  to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</li>
  <li><b>dataset</b> - A function that is called in the scope of the model and called with the model as the
    first argument. The function must return a dataset that can be used as the base for all dataset
    operations.<b>NOTE:</b>The dataset returned will have all options applied to it.</li>
  <li><b>distinct</b> Use the DISTINCT clause when selecting associated objects.
  See <a href='#patio_Dataset_prototype_distinct'>patio.Dataset#distinct</a>.</li>
  <li><b>limit</b> : Limit the number of records to the provided value.  Use
    an array with two elements for the value to specify a limit (first element) and an
    offset (second element). See <a href='#patio_Dataset_prototype_limit'>patio.Dataset#limit</a>.</li>
  <li><b>order</b> : the column/s order the association dataset by.  Can be a
    one or more columns.
    See <a href='#patio_Dataset_prototype_order'>patio.Dataset#order</a>.</li>
  <li><b>readOnly</b> : Do not add a setter method (for MANY_TO_ONE or ONE_TO_ONE associations),
    or add/remove/removeAll methods (for ONE_TO_MANY and MANY_TO_MANY associations).</li>
  <li><b>select</b> : the columns to select.  Defaults to the associated class's
    tableName.* in a MANY_TO_MANY association, which means it doesn't include the attributes from the
    join table.  If you want to include the join table attributes, you can
    use this option, but beware that the join table attributes can clash with
    attributes from the model table, so you should alias any attributes that have
    the same name in both the join table and the associated table.</li>
  </ul>
  ManyToOne additional options:
  <ul>
     <li><b>key</b> : foreignKey in current model's table that references
         associated model's primary key.  Defaults to : "{tableName}Id".  Can use an
         array of strings for a composite key association.</li>
      <li><b>primaryKey</b> : column in the associated table that the <b>key</b> option references.
             Defaults to the primary key of the associated table. Can use an
             array of strings for a composite key association.</li>
  </ul>
OneToMany and OneToOne additional options:
<ul>
     <li><b>key</b> : foreign key in associated model's table that references
            current model's primary key, as a string.  Defaults to
            "{thisTableName}Id".  Can use an array of columns for a composite key association.</li>
     <li><b>primaryKey</b> : column in the current table that <b>key</b> option references.
            Defaults to primary key of the current table. Can use an array of strings for a
            composite key association.</li>
</ul>

ManyToMany additional options:
  <ul>
     <li><b>joinTable</b> : name of table that includes the foreign keys to both
         the current model and the associated model.  Defaults to the name
         of current model and name of associated model, pluralized,
         sorted, and joined with '' and camelized.
     <li><b>leftKey</b> : foreign key in join table that points to current model's
         primary key. Defaults to :"{tableName}Id".
         Can use an array of strings for a composite key association.
     <li><b>leftPrimaryKey</b> - column in current table that <b>leftKey</b> points to.
         Defaults to primary key of current table.  Can use an array of strings for a
         composite key association.
     <li><b>rightKey</b> : foreign key in join table that points to associated
         model's primary key.  Defaults to Defaults to :"{associatedTableName}Id".
         Can use an array of strings for a composite key association.
     <li><b>rightPrimaryKey</b> : column in associated table that <b>rightKey</b> points to.
         Defaults to primary key of the associated table.  Can use an
         array of strings for a composite key association.
 </ul></li>
    
        <li> <em>filter?</em>  : optional function to filter the dataset after all other options have been applied.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type,name,options,filter){
   if (comb.isFunction(options)) {
       filter = options;
       options = {};
   }
   this.__associations = this.__associations || {manyToMany:{}, oneToMany:{}, manyToOne:{}, oneToOne:{}};
   var assoc = new associations[type](comb.merge({model:name}, options), this.patio, filter);
   assoc.inject(this, name);
   this.__associations[type][name] = assoc;
   this.emit(&quot;associate&quot;, type, this);
   return this;
           
}
    </pre>
    


  
    <a name="patio_Model_avg"></a>
    <h3>
        avg
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with the average value for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT avg(number) FROM table LIMIT 1
DB.from(&quot;table&quot;).avg(&quot;number&quot;).then(function(avg){
     // avg === 3
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to average</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the average value of the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.avg(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Model_columns"></a>
    <h3>
        columns
        
        <span class="label label-info">Static</span>
        
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ret = new Promise();
   if (this.__columns) {
       ret.callback(this.__columns);
   } else {
       var ds = this.unfiltered().unordered().mergeOptions({distinct:null, limit:1});
       ds.forEach().then(hitch(this, function () {
           this.__columns = ds.__columns || [];
           ret.callback(this.__columns);
       }), hitch(ret, &quot;errback&quot;));
   }
   return ret;
               
}
    </pre>
    


  
    <a name="patio_Model_count"></a>
    <h3>
        count
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with the number of records in the dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT COUNT(*) AS count FROM table LIMIT 1
DB.from(&quot;table&quot;).count().then(function(count){
    //count === 3;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the the number of records in the dataset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise();
   this.__aggregateDataset().get(sql.COUNT(sql.literal(&quot;*&quot;)).as(&quot;count&quot;)).then(hitch(this, function (res) {
       ret.callback(parseInt(res, 10));
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_create"></a>
    <h3>
        create
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Create a new model initialized with the specified values.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em>  : the values to initialize the model with.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Model</code> instantiated model initialized with the values passed in.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (values){
   //load an object from an object
   return new this(values, false);
           
}
    </pre>
    


  
    <a name="patio_Model_distinct"></a>
    <h3>
        distinct
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the SQL DISTINCT clause.
The DISTINCT clause is used to remove duplicate rows from the
output.  If arguments are provided, uses a DISTINCT ON clause,
in which case it will only be distinct on those columns, instead
of all returned columns.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).distinct().sqll
     //=&gt; SELECT DISTINCT * FROM items
DB.from(&quot;items&quot;).order(&quot;id&quot;).distinct(&quot;id&quot;).sql;
     //=&gt; SELECT DISTINCT ON (id) * FROM items ORDER BY id
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of arguments used to create                                                 the DISTINCT ON clause.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the DISTINCT/DISTINCT ON clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If arguments are given and DISTINCT ON is not supported.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   if (args.length &amp;&amp; !this.supportsDistinctOn) {
       throw new QueryError(&quot;DISTICT ON is not supported&quot;);
   }
   args = args.map(function (a) {
       return comb.isString(a) ? new Identifier(a) : a;
   });
   return this.mergeOptions({distinct:args});
           
}
    </pre>
    


  
    <a name="patio_Model_empty"></a>
    <h3>
        empty
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with true if no records exist in the dataset,
false otherwise.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT 1 FROM table LIMIT 1
DB.from(&quot;table&quot;).isEmpty().then(function(isEmpty){
  // isEmpty === false
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : a function to callback when action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with a boolean indicating if the table is empty.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise();
   this.get(1).then(hitch(this, function (res) {
       ret.callback(comb.isUndefinedOrNull(res) || res.length === 0);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_eq"></a>
    <h3>
        eq
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with an equal expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).eq({x : 1});
         //=&gt; SELECT * FROM test WHERE (x = 1)
 DB.from(&quot;test&quot;).eq({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x = 1) AND (y = 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the equal expression</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the equal expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;eq&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_except"></a>
    <h3>
        except
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds an EXCEPT clause using a second dataset object.
An EXCEPT compound dataset returns all rows in the current dataset
that are not in the given dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).except(DB.from(&quot;other_items&quot;)).sql;
     //=&gt; SELECT * FROM items EXCEPT SELECT * FROM other_items

DB.from(&quot;items&quot;).except(DB.from(&quot;other_items&quot;),
                       {all : true, fromSelf : false}).sql;
     //=&gt; SELECT * FROM items EXCEPT ALL SELECT * FROM other_items

DB.from(&quot;items&quot;).except(DB.from(&quot;other_items&quot;),
                       {alias : &quot;i&quot;}).sql;
     //=&gt;SELECT * FROM (SELECT * FROM items EXCEPT SELECT * FROM other_items) AS i
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : the dataset to use to create the EXCEPT clause.</li>
    
        <li> <em>opts?</em>  : options to use when creating the EXCEPT clause</li>
    
        <li> <em>opt.alias?</em> <code>String|patio.sql.Identifier</code> : Use the given value as the <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a> alias.</li>
    
        <li> <em>opts.all?</em> <code>Boolean</code> : Set to true to use EXCEPT ALL instead of EXCEPT, so duplicate rows can occur</li>
    
        <li> <em>opts.fromSelf?</em> <code>Boolean</code> : Set to false to not wrap the returned dataset in a <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a>, use with care.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the EXCEPT clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> if the operation is not supported.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   if (!comb.isHash(opts)) {
       opts = {all:true};
   }
   if (!this.supportsIntersectExcept) {
       throw new QueryError(&quot;EXCEPT not supoorted&quot;);
   } else if (opts.hasOwnProperty(&quot;all&quot;) &amp;&amp; !this.supportsIntersectExceptAll) {
       throw new QueryError(&quot;EXCEPT ALL not supported&quot;);
   }
   return this.compoundClone(&quot;except&quot;, dataset, opts);
           
}
    </pre>
    


  
    <a name="patio_Model_exclude"></a>
    <h3>
        exclude
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Performs the inverse of <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.  Note that if you have multiple filter
conditions, this is not the same as a negation of all conditions. For argument types see
<a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).exclude({category : &quot;software&quot;).sql;
     //=&gt; SELECT * FROM items WHERE (category != &#x27;software&#x27;)

DB.from(&quot;items&quot;).exclude({category : &#x27;software&#x27;, id : 3}).sql;
     //=&gt; SELECT * FROM items WHERE ((category != &#x27;software&#x27;) OR (id != 3))
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the excluded conditions applied to the HAVING/WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var cond = comb.argsToArray(arguments), tOpts = this.__opts;
   var clause = (tOpts[&quot;having&quot;] ? &quot;having&quot; : &quot;where&quot;), clauseObj = tOpts[clause];
   cond = cond.length &gt; 1 ? cond : cond[0];
   cond = this._filterExpr.call(this, cond);
   cond = BooleanExpression.invert(cond);
   if (clauseObj) {
       cond = new BooleanExpression(&quot;AND&quot;, clauseObj, cond)
   }
   var opts = {};
   opts[clause] = cond;
   return this.mergeOptions(opts);
           
}
    </pre>
    


  
    <a name="patio_Model_find"></a>
    <h3>
        find
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Finds a single model according to the supplied filter.
See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for filter options.



</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>id</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (id){
   return this.filter.apply(this, arguments).first();
           
}
    </pre>
    


  
    <a name="patio_Model_findById"></a>
    <h3>
        findById
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Retrieves a record by the primaryKey/s of a table.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var User = patio.getModel(&quot;user&quot;);

User.findById(1).then(function(userOne){

});

//assume the primary key is a compostie of first_name and last_name
User.findById([&quot;greg&quot;, &quot;yukon&quot;]).then(function(userOne){

});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>id</em>  : the primary key of the record to find.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back with the record or null if one is not found.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (id){
   var pk = this.primaryKey;
   pk = pk.length == 1 ? pk[0] : pk;
   var q = {};
   if (comb.isArray(id) &amp;&amp; comb.isArray(pk)) {
       if (id.length === pk.length) {
           pk.forEach(function (k, i) {
               q[k] = id[i];
           });
       } else {
           throw new ModelError(&quot;findById : ids length does not equal the primaryKeys length.&quot;);
       }
   } else {
       q[pk] = id;
   }
   return this.filter(q).one();
           
}
    </pre>
    


  
    <a name="patio_Model_findOrCreate"></a>
    <h3>
        findOrCreate
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Finds a single model according to the supplied filter.
See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for filter options. If the model
does not exist then a new one is created as passed back.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>q</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (q){
   var ret = new comb.Promise();
   this.find(q).then(hitch(this, function (res) {
       ret.callback(res || this.create());
   }), hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_first"></a>
    <h3>
        first
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
If a integer argument is given, it is interpreted as a limit, and then returns all
matching records up to that limit.

If no arguments are passed, it returns the first matching record.

If a function taking no arguments is passed in as the last parameter then it
is assumed to be a filter block. If the a funciton is passed in that takes arguments
then it is assumed to be a callback. You may also pass in both the second to last argument
being a filter function, and the last being a callback.

If any other type of argument(s) is passed, it is given to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> and the
first matching record is returned.  Examples:

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
comb.executeInOrder(DB.from(&quot;table&quot;), function(ds){
  // SELECT * FROM table LIMIT 1
  ds.first(); // =&gt; {id : 7}

  // SELECT * FROM table LIMIT 2
  ds.first(2); // =&gt; [{id : 6}, {id : 4}]

  // SELECT * FROM table WHERE (id = 2) LIMIT 1
  ds.first({id : 2}) // =&gt; {id : 2}


 // SELECT * FROM table WHERE (id = 3) LIMIT 1
  ds.first(&quot;id = 3&quot;); // =&gt; {id : 3}

  // SELECT * FROM table WHERE (id = 4) LIMIT 1
  ds.first(&quot;id = ?&quot;, 4); // =&gt; {id : 4}

  // SELECT * FROM table WHERE (id &gt; 2) LIMIT 1
  ds.first(function(){return this.id.gt(2);}); // =&gt; {id : 5}


  // SELECT * FROM table WHERE ((id &gt; 4) AND (id &lt; 6)) LIMIT 1
  ds.first(&quot;id &gt; ?&quot;, 4, function(){
         return this.id.lt(6);
  }); // =&gt; {id : 5}

   // SELECT * FROM table WHERE (id &lt; 2) LIMIT 2
  ds.first(2, function(){
         return this.id.lt(2)
  }); // =&gt; [{id:1}]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : varargs to be used to limit/filter the result set.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the either the first matching record.
                       Or an array of items if a limit was provided as the first argument.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   var cb, block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   if (block &amp;&amp; block.length &gt; 0) {
       cb = block;
       block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   }
   var ds = block ? this.filter(block) : this;
   if (!args.length) {
       return ds.singleRecord(cb);
   } else {
       args = (args.length === 1) ? args.shift() : args;
       if (comb.isNumber(args)) {
           return ds.limit(args).all(null, cb);
       } else {
           return ds.filter(args).singleRecord(cb);
       }
   }
           
}
    </pre>
    


  
    <a name="patio_Model_forEach"></a>
    <h3>
        forEach
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Iterates over the records in the dataset as they are returned from the
database adapter.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
DB.from(&quot;table&quot;).forEach(function(row){
     //....do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>block?</em>  : the block to invoke for each row.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved when the action has completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (block,cb){
   var rowCb, ret;
   if (this.__opts.graph) {
       ret = this.graphEach(block);
   } else if ((rowCb = this.rowCb)) {
       ret = this.fetchRows(this.selectSql, function (r) {
           var ret = new comb.Promise();
           try {
               comb.when(rowCb(r), function (r) {
                   try {
                       comb.when(block(r), hitch(ret, &quot;callback&quot;, r), hitch(ret, &quot;errback&quot;));
                   } catch (e) {
                       ret.errback(e);
                   }
               }, hitch(ret, &quot;errback&quot;));
           } catch (e) {
               ret.errback(e);
           }
           return ret;
       });
   } else {
       ret = this.fetchRows(this.selectSql, block);
   }
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_forUpdate"></a>
    <h3>
        forUpdate
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).forUpdate()
         //=&gt; SELECT * FROM table FOR UPDATE
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with a "update" lock style.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.lockStyle(&quot;update&quot;);
           
}
    </pre>
    


  
    <a name="patio_Model_from"></a>
    <h3>
        from
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the source changed. If no
source is given, removes all tables.  If multiple sources
are given, it is the same as using a CROSS JOIN (cartesian product) between all tables.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var dataset = DB.from(&quot;items&quot;);

dataset.from().sql;
     //=&gt; SELECT *

dataset.from(&quot;blah&quot;).sql
     //=&gt; SELECT * FROM blah

dataset.from(&quot;blah&quot;, &quot;foo&quot;)
     //=&gt; SELECT * FROM blah, foo

dataset.from({a:&quot;b&quot;}).sql;
     //=&gt; SELECT * FROM a AS b

dataset.from(dataset.from(&quot;a&quot;).group(&quot;b&quot;).as(&quot;c&quot;)).sql;
         //=&gt; &quot;SELECT * FROM (SELECT * FROM a GROUP BY b) AS c&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>source?</em>  : tables to select from</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the FROM clause overridden.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (source){
   source = comb.argsToArray(arguments);
   var tableAliasNum = 0, sources = [];
   source.forEach(function (s) {
       if (comb.isInstanceOf(s, Dataset)) {
           sources.push(new AliasedExpression(s, this._datasetAlias(++tableAliasNum)));
       } else if (comb.isHash(s)) {
           for (var i in s) {
               sources.push(new AliasedExpression(new Identifier(i), s[i]));
           }
       } else if (comb.isString(s)) {
           sources.push(this.stringToIdentifier(s))
       } else {
           sources.push(s);
       }
   }, this);
   var o = {from:sources.length ? sources : null}
   if (tableAliasNum) {
       o.numDatasetSources = tableAliasNum;
   }
   return this.mergeOptions(o)
           
}
    </pre>
    


  
    <a name="patio_Model_fromSelf"></a>
    <h3>
        fromSelf
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a dataset selecting from the current dataset.
Supplying the alias option controls the alias of the result.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
ds = DB.from(&quot;items&quot;).order(&quot;name&quot;).select(&quot;id&quot;, &quot;name&quot;)
     //=&gt; SELECT id,name FROM items ORDER BY name

ds.fromSelf().sql;
     //=&gt; SELECT * FROM (SELECT id, name FROM items ORDER BY name) AS t1

ds.fromSelf({alias : &quot;foo&quot;}).sql;
     //=&gt; SELECT * FROM (SELECT id, name FROM items ORDER BY name) AS foo
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts?</em>  : options</li>
    
        <li> <em>opts.alias?</em> <code>String|patio.sql.Identifier</code> : alias to use</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the FROM clause set as the current dataset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   var fs = {};
   var nonSqlOptions = this._static.NON_SQL_OPTIONS;
   Object.keys(this.__opts).forEach(function (k) {
       if (nonSqlOptions.indexOf(k) == -1) {
           fs[k] = null;
       }
   });
   return this.mergeOptions(fs).from(opts[&quot;alias&quot;] ? this.as(opts[&quot;alias&quot;]) : this);
           
}
    </pre>
    


  
    <a name="patio_Model_get"></a>
    <h3>
        get
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Return the column value for the first matching record in the dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id FROM table LIMIT 1
 DB.from(&quot;table&quot;).get(&quot;id&quot;).then(function(val){
  // val === 3
 });


// SELECT sum(id) FROM table LIMIT 1
ds.get(sql.sum(&quot;id&quot;)).then(function(val){
     // val === 6;
});

// SELECT sum(id) FROM table LIMIT 1
ds.get(function(){
     return this.sum(&quot;id&quot;);
}).then(function(val){
     // val === 6;
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to filter on can be anything that            <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> accepts.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved will the value requested.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.select(column).singleValue(cb);
           
}
    </pre>
    


  
    <a name="patio_Model_graph"></a>
    <h3>
        graph
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Allows you to join multiple datasets/tables and have the result set
split into component tables.

This differs from the usual usage of join, which returns the result set
as a single hash.

<pre class="code">

//CREATE TABLE artists (id INTEGER, name TEXT);
//CREATE TABLE albums (id INTEGER, name TEXT, artist_id INTEGER);

var DB = patio.defaultDatabase, ds = db.from("artists");
ds.leftAuterJoin("albums", {artistId : "id"}).first
  //=> {id : albums.id, name : albums.name, artist_id : albums.artist_id}

var p = comb.executeInOrder(ds, function(ds){
  var graphedDs = ds.graph("albums", {artist_id : "id"});
  return graphedDs.first();
});
p.then(function(obj){
   //obj == {artists : {
                 id : artists.id,
                 name : artists.name
                 },
            albums : {
                 id : albums.id,
                 name : albums.name,
                 artist_id=>albums.artist_id
                 }
            }
});
</pre>

Using a join such as leftOuterJoin, the attribute names that are shared between
the tables are combined in the single return hash.  You can get around that by
using <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> with correct aliases for all of the columns, but it is simpler to
use <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a> and have the result set split for you.  In addition, <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a> respects
any <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a> of the current dataset and the datasets you use with <a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a>.

If you are graphing a table and all columns for that table are null, this
indicates that no matching rows existed in the table, so graph will return null.
instead of a hash with all nil values:

<pre class="code">
  // Psuedo code there will be promises returned
  /// If the artist doesn't have any albums

  var DB = patio.defaultDatabase, ds = db.from("artists");
  var obj = ds.graph(:albums, :artist_id=>:id).first()
  //obj == { artists : {id : artists.id, name : artists.name}, albums : null};
</pre>


</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : </li>
    
        <li> <em>joinConditions</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>block</em>  : </li>
    
        <li> <em>eter</em>  : {Function} block  A function that is passed to <a href='#patio_Dataset_prototype_joinTable'>patio.Dataset#joinTable</a>.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,joinConditions,options,block){
   var ret = new comb.Promise();
   var args = comb.argsToArray(arguments).slice(1);
   block = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   joinConditions = args.shift() || null;
   options = args.shift() || {};
   // Allow the use of a model, dataset, or string as the first argument
   // Find the table name/dataset based on the argument
   dataset.hasOwnProperty(&quot;dataset&quot;) &amp;&amp; (dataset = dataset.dataset);
   var tableAlias = options.tableAlias, table;
   if (comb.isString(dataset)) {
     table = sql.identifier(dataset);
     dataset = this.db.from(dataset);
     comb.isUndefinedOrNull(tableAlias) &amp;&amp; (tableAlias = table);
   } else if (comb.isInstanceOf(dataset, Dataset)) {
     if (dataset.isSimpleSelectAll) {
       table = dataset.__opts.from[0];
       comb.isUndefinedOrNull(tableAlias) &amp;&amp; (tableAlias = table);
     } else {
       table = dataset;
       comb.isUndefinedOrNull(tableAlias) &amp;&amp; (tableAlias = this._datasetAlias((this.__opts.numDatasetSources || 0) + 1));
     }
   } else {
     throw new QueryError(&quot;The dataset arg should be a string, dataset or model&quot;);
   }
   var aliases;
   // Only allow table aliases that haven&#x27;t been used
   var thisOpts = this.__opts, thisOptsGraph = thisOpts.graph;
   if (comb.isObject(thisOptsGraph) &amp;&amp; comb.isHash((aliases = thisOptsGraph.tableAliases)) &amp;&amp; !comb.isUndefinedOrNull(aliases[tableAlias.value])) {
     raiseAliasError(options);
   }
   // Use a from_self if this is already a joined table
   var ds = (!thisOptsGraph &amp;&amp; (thisOpts.from.length &gt; 1 || thisOpts.join)) ? this.fromSelf({alias:options.fromSelfAlias || this.firstSourceAlias}) : this;
   // Join the table early in order to avoid cloning the dataset twice
   ds = ds.joinTable(options.joinType || &quot;leftOuter&quot;, table, joinConditions, {tableAlias:tableAlias, implicitQualifier:options.implicitQualifier}, block);
   var opts = ds.__opts;
   // Whether to include the table in the result set
   var addTable = comb.isBoolean(options.select) ? options.select : true;
   // Whether to add the columns to the list of column aliases
   var addColumns = comb.isUndefinedOrNull(opts.graphAliases);
   // Setup the initial graph data structure if it doesn&#x27;t exist
   var graph;
   var populateGraphPromise = new comb.Promise();
   if (comb.isUndefinedOrNull((graph = opts.graph))) {
     var master = this._toTableName(ds.firstSourceAlias);
     (master == tableAlias) &amp;&amp; raiseAliasError(options);
     // Master hash storing all .graph related information
     graph = opts.graph = {};
     // Associates column aliases back to tables and columns
     var columnAliases = graph.columnAliases = {};
     // Associates table alias (the master is never aliased)
     var tableAliases = graph.tableAliases = {};
     tableAliases[master] = this;
     // All columns in the master table are never
     // aliased, but are not included if set_graph_aliases
     // has been used.
     if (addColumns) {
       var select = opts.select = [];
       this.columns.then(hitch(this, function(cols) {
         cols.forEach(function(column) {
           columnAliases[column] = [master, column];
           select.push(new sql.QualifiedIdentifier(master, column));
         });
         populateGraphPromise.callback(graph);
       }), hitch(ret, &quot;errback&quot;));
     } else {
       populateGraphPromise.callback(graph);
     }
   } else {
     populateGraphPromise.callback(graph);
   }
   populateGraphPromise.then(hitch(this, function(graph) {
     // Add the table alias to the list of aliases
     // Even if it isn&#x27;t been used in the result set,
     // we add a key for it with a nil value so we can check if it
     // is used more than once
     var tableAliases = graph.tableAliases;
     tableAliases[tableAlias] = addTable ? dataset : null;
     // Add the columns to the selection unless we are ignoring them
     if (addTable &amp;&amp; addColumns) {
       var select = opts.select;
       var columnAliases = graph.columnAliases;
       // Which columns to add to the result set
       var dsColPromise;
       if (options.select) {
         dsColPromise = new comb.Promise().callback(options.select)
       } else {
         dsColPromise = dataset.columns;
       }
       // If the column hasn&#x27;t been used yet, don&#x27;t alias it.
       // If it has been used, try tableColumn.
       dsColPromise.then(hitch(this, function(cols) {
         cols.forEach(function(column) {
           var colAlias, identifier;
           if (columnAliases[column]) {
             var columnAlias = format(&quot;%s_%s&quot;, [tableAlias, column]);
             colAlias = columnAlias, identifier = new sql.QualifiedIdentifier(tableAlias, column).as(columnAlias);
           } else {
             colAlias = column, identifier = new sql.QualifiedIdentifier(tableAlias, column);
           }
           columnAliases[colAlias] = [tableAlias, column];
           select.push(identifier)
         });
         ret.callback(ds);
       }), hitch(ret, &quot;errback&quot;));
     } else {
       ret.callback(ds);
     }
   }), hitch(ret, &quot;errback&quot;));
   return ret;
       
}
    </pre>
    


  
    <a name="patio_Model_grep"></a>
    <h3>
        grep
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Match any of the columns to any of the patterns. The terms can be
strings (which use LIKE) or regular expressions (which are only
supported on MySQL and PostgreSQL).  Note that the total number of
pattern matches will be columns[].length * terms[].length,
which could cause performance issues.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).grep(&quot;a&quot;, &quot;%test%&quot;).sql;
     //=&gt; SELECT * FROM items WHERE (a LIKE &#x27;%test%&#x27;);

DB.from(&quot;items&quot;).grep([&quot;a&quot;, &quot;b&quot;], [&quot;%test%&quot; &quot;foo&quot;]).sql;
     //=&gt; SELECT * FROM items WHERE ((a LIKE &#x27;%test%&#x27;) OR (a LIKE &#x27;foo&#x27;) OR (b LIKE &#x27;%test%&#x27;) OR (b LIKE &#x27;foo&#x27;))

DB.from(&quot;items&quot;).grep([&#x27;a&#x27;, &#x27;b&#x27;], [&quot;%foo%&quot;, &quot;%bar%&quot;], {allPatterns : true}).sql;
     //=&gt; SELECT * FROM a WHERE (((a LIKE &#x27;%foo%&#x27;) OR (b LIKE &#x27;%foo%&#x27;)) AND ((a LIKE &#x27;%bar%&#x27;) OR (b LIKE &#x27;%bar%&#x27;)))

DB.from(&quot;items&quot;).grep([&quot;a&quot;, &quot;b&quot;], [&#x27;%foo%&quot;, &quot;%bar%&quot;, {allColumns : true})sql;
     //=&gt; SELECT * FROM a WHERE (((a LIKE &#x27;%foo%&#x27;) OR (a LIKE &#x27;%bar%&#x27;)) AND ((b LIKE &#x27;%foo%&#x27;) OR (b LIKE &#x27;%bar%&#x27;)))

DB.from(&quot;items&quot;).grep([&quot;a&quot;, &quot;b&quot;], [&quot;%foo%&quot;, &quot;%bar%&quot;], {allPatterns : true, allColumns : true}).sql;
     //=&gt; SELECT * FROM a WHERE ((a LIKE &#x27;%foo%&#x27;) AND (b LIKE &#x27;%foo%&#x27;) AND (a LIKE &#x27;%bar%&#x27;) AND (b LIKE &#x27;%bar%&#x27;))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : columns to search</li>
    
        <li> <em>patterns</em>  : patters to search with</li>
    
        <li> <em>opts?</em>  : options to use when searching. NOTE If both allColumns and allPatterns are true, all columns must match all patterns</li>
    
        <li> <em>opts.allColumns?</em> <code>Boolean</code> : All columns must be matched to any of the given patterns.</li>
    
        <li> <em>opts.allPatterns?</em> <code>Boolean</code> : All patterns must match at least one of the columns.</li>
    
        <li> <em>opts.caseInsensitive?</em> <code>Boolean</code> : Use a case insensitive pattern match (the default is
                     case sensitive if the database supports it).</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a dataset with the LIKE clauses added</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,patterns,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   var conds;
   if (opts.hasOwnProperty(&quot;allPatterns&quot;)) {
       conds = array.toArray(patterns).map(function (pat) {
           return BooleanExpression.fromArgs(
               [(opts.allColumns ? &quot;AND&quot; : &quot;OR&quot;)]
                   .concat(array.toArray(columns)
                   .map(function (c) {
                       return StringExpression.like(c, pat, opts);
                   })));
       });
       return this.filter(BooleanExpression.fromArgs([opts.allPatterns ? &quot;AND&quot; : &quot;OR&quot;].concat(conds)));
   } else {
       conds = array.toArray(columns)
           .map(function (c) {
               return BooleanExpression.fromArgs([&quot;OR&quot;].concat(array.toArray(patterns).map(function (pat) {
                   return StringExpression.like(c, pat, opts);
               })));
           });
       return this.filter(BooleanExpression.fromArgs([opts.allColumns ? &quot;AND&quot; : &quot;OR&quot;].concat(conds)));
   }
           
}
    </pre>
    


  
    <a name="patio_Model_group"></a>
    <h3>
        group
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the results grouped by the value of
the given columns.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).group(&quot;id&quot;)
         //=&gt;SELECT * FROM items GROUP BY id
  DB.from(&quot;items&quot;).group(&quot;id&quot;, &quot;name&quot;)
         //=&gt; SELECT * FROM items GROUP BY id, name
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : columns to group by.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the GROUP BY clause added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   columns = comb.argsToArray(arguments);
   return this.mergeOptions({group:(array.compact(columns).length == 0 ? null : columns.map(function (c) {
       return comb.isString(c) ? new Identifier(c) : c;
   }))});
           
}
    </pre>
    


  
    <a name="patio_Model_groupAndCount"></a>
    <h3>
        groupAndCount
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a dataset grouped by the given column with count by group.
Column aliases may be supplied, and will be included in the select clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).groupAndCount(&quot;name&quot;).all()
     //=&gt; SELECT name, count(*) AS count FROM items GROUP BY name
     //=&gt; [{name : &#x27;a&#x27;, count : 1}, ...]

DB.from(&quot;items&quot;).groupAndCount(&quot;first_name&quot;, &quot;last_name&quot;).all()
     //SELECT first_name, last_name, count(*) AS count FROM items GROUP BY first_name, last_name
     //=&gt; [{first_name : &#x27;a&#x27;, last_name : &#x27;b&#x27;, count : 1}, ...]

DB.from(&quot;items&quot;).groupAndCount(&quot;first_name___name&quot;).all()
     //=&gt; SELECT first_name AS name, count(*) AS count FROM items GROUP BY first_name
     //=&gt; [{name : &#x27;a&#x27;, count:1}, ...]
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : columns to croup and count on.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the GROUP clause and count added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   columns = comb.argsToArray(arguments);
   var group = this.group.apply(this, columns.map(function (c) {
       return this._unaliasedIdentifier(c);
   }, this));
   return group.select.apply(group, columns.concat([this._static.COUNT_OF_ALL_AS_COUNT]));
           
}
    </pre>
    


  
    <a name="patio_Model_groupBy"></a>
    <h3>
        groupBy
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.group.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_gt"></a>
    <h3>
        gt
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a greater than expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).gt({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &gt; 1)
 DB.from(&quot;test&quot;).gt({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &gt; 1) AND (y &gt; 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the greater than expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the greater than expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;gt&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_gte"></a>
    <h3>
        gte
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a greater than or equal to expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).gte({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &gt;= 1)
 DB.from(&quot;test&quot;).gte({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &gt;= 1) AND (y &gt;= 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>arr</em>  : </li>
    
        <li> <em>obj</em> <code>Object</code> : object used to create the greater than or equal to expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the greater than or equal to expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (arr){
   arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), &quot;gte&quot;);
   return this.filter(this.__createBoolExpression(&quot;gte&quot;, arr));
           
}
    </pre>
    


  
    <a name="patio_Model_having"></a>
    <h3>
        having
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the HAVING conditions changed. See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for argument types.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).group(&quot;sum&quot;).having({sum : 10}).sql;
     //=&gt; SELECT * FROM items GROUP BY sum HAVING (sum = 10)
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with HAVING clause changed or added.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var cond = comb.argsToArray(arguments).map(function (s) {
       return comb.isString(s) &amp;&amp; s !== &#x27;&#x27; ? this.stringToIdentifier(s) : s
   }, this);
   return this._filter.apply(this, [&quot;having&quot;].concat(cond));
           
}
    </pre>
    


  
    <a name="patio_Model_import"></a>
    <h3>
        import
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Inserts multiple records into the associated table. This method can be
used to efficiently insert a large number of records into a table in a
single query if the database supports it. Inserts
are automatically wrapped in a transaction.

This method is called with a columns array and an array of value arrays:
<pre class="code">
  // INSERT INTO table (x, y) VALUES (1, 2)
  // INSERT INTO table (x, y) VALUES (3, 4)
  DB.from("table").import(["x", "y"], [[1, 2], [3, 4]]).
</pre>

This method also accepts a dataset instead of an array of value arrays:

<pre class="code">
 // INSERT INTO table (x, y) SELECT a, b FROM table2
 DB.from("table").import(["x", "y"], DB.from("table2").select("a", "b"));
</pre>

The method also accepts a commitEvery option that specifies
the number of records to insert per transaction. This is useful especially
when inserting a large number of records, e.g.:

<pre class="code">
  // this will commit every 50 records
 DB.from("table").import(["x", "y"], [[1, 2], [3, 4], ...], {commitEvery : 50});
</pre>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : The columns to insert values for.                  This array will be used as the base for each values item in the values array.</li>
    
        <li> <em>values</em>  : Array of arrays of values to insert into the columns.</li>
    
        <li> <em>opts?</em>  : options</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
        <li> <em>opts.commitEvery?</em> <code>Number</code> : the number of records to insert per transaction.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved once all records have been inserted.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,values,opts,cb){
   if (comb.isFunction(opts)) {
       cb = opts;
       opts = null;
   }
   opts = opts || {};
   var ret;
   if (comb.isInstanceOf(values, Dataset)) {
       ret = this.db.transaction(hitch(this, function () {
           return this.insert(columns, values);
       }));
   } else {
       ret = new comb.Promise();
       if (!values.length) {
           ret.callback();
       }
       if (!columns.length) {
           throw new QueryError(&quot;Invalid columns in import&quot;);
       }
       var sliceSize = opts.commitEvery || opts.slice;
       if (sliceSize) {
           var offset = 0;
           var execute = hitch(this, function () {
               if (offset &gt;= values.length) {
                   ret.callback();
                   return;
               }
               this.db.transaction(opts, hitch(this, function () {
                   this.multiInsertSql(columns, values.slice(offset, sliceSize + offset)).forEach(hitch(this, function (st) {
                       return this.executeDui(st);
                   }));
               })).then(hitch(this, function () {
                   offset += sliceSize;
                   execute();
               }), hitch(ret, &quot;errback&quot;));
           });
           execute();
       } else {
           var statements = this.multiInsertSql(columns, values);
           ret = this.db.transaction(hitch(this, function () {
               statements.forEach(function (st) {
                   this.executeDui(st);
               }, this);
           }));
       }
   }
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_inherits"></a>
    <h3>
        inherits
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Stub for plugins to notified of model inheritance

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>model</em>  : a model class to inherit from</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (model){
   
}
    </pre>
    


  
    <a name="patio_Model_insert"></a>
    <h3>
        insert
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Inserts values into the associated table. The returned value is generally
the value of the primary key for the inserted row, but that is adapter dependent.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// INSERT INTO items DEFAULT VALUES
DB.from(&quot;items&quot;).insert()

// INSERT INTO items DEFAULT VALUES
DB.from(&quot;items&quot;).insert({});

// INSERT INTO items VALUES (1, 2, 3)
DB.from(&quot;items&quot;).insert([1,2,3]);

// INSERT INTO items (a, b) VALUES (1, 2)
DB.from(&quot;items&quot;).insert([&quot;a&quot;, &quot;b&quot;], [1,2]);

// INSERT INTO items (a, b) VALUES (1, 2)
DB.from(&quot;items&quot;).insert({a : 1, b : 2});

// INSERT INTO items SELECT * FROM old_items
DB.from(&quot;items&quot;).insert(DB.from(&quot;old_items&quot;));

// INSERT INTO items (a, b) SELECT * FROM old_items
DB.from(&quot;items&quot;).insert([&quot;a&quot;, &quot;b&quot;], DB.from(&quot;old_items&quot;));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em> <code>patio.Dataset|patio.sql.LiteralString|Array|Object|patio.sql.BooleanExpression|...</code> : values to      insert into the database. The INSERT statement generated depends on the type.      <ul>          <li>Empty object| Or no arugments: then DEFAULT VALUES is used.</li>          <li>Object: the keys will be used as the columns, and values will be the values inserted.</li>          <li>Single <a href='#patio_Dataset'>patio.Dataset</a> : an insert with subselect will be performed.</li>          <li>Array with <a href='#patio_Dataset'>patio.Dataset</a> : The array will be used for columns and a subselect will performed with the dataset for the values.</li>          <li><a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a> : the literal value will be used.</li>          <li>Single Array : the values in the array will be used as the VALUES clause.</li>          <li>Two Arrays: the first array is the columns the second array is the values.</li>          <li><a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> : the expression will be used as the values.          <li>An arbitrary number of arguments : the <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a> version of the values will be used</li>      </ul></li>
    
        <li> <em>cb?</em> <code>Function</code> : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is typically resolved with the ID of the inserted row.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = comb.argsToArray(arguments);
   var cb = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   return this.executeInsert(this.insertSql.apply(this, args)).classic(cb);
           
}
    </pre>
    


  
    <a name="patio_Model_insertMultiple"></a>
    <h3>
        insertMultiple
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Inserts multiple values. If a block is given it is invoked for each
item in the given array before inserting it.  See <a href='#patio_Dataset_prototype_multiInsert'>patio.Dataset#multiInsert</a> as
a possible faster version that inserts multiple records in one SQL statement.

<b> Params see @link patio.Dataset#insert</b>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;table&quot;).insertMultiple([{x : 1}, {x : 2}]);
     //=&gt; INSERT INTO table (x) VALUES (1)
     //=&gt; INSERT INTO table (x) VALUES (2)

DB.from(&quot;table&quot;).insertMultiple([{x : 1}, {x : 2}], function(row){
     row.y = row.x * 2;
});
     //=&gt; INSERT INTO table (x, y) VALUES (1, 2)
     //=&gt; INSERT INTO table (x, y) VALUES (2, 4)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>array</em>  : See <a href='#patio_Dataset_prototype_insert'>patio.Dataset#insert</a> for possible values.</li>
    
        <li> <em>block?</em>  : a function to be called before each item is inserted.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.PromiseList</code> a promiseList that should be resolved with the id of each item inserted
         in the order that was in the array.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (array,block,cb){
   var promises;
   if (block) {
       promises = array.map(function (i) {
           return this.insert(block(i));
       }, this);
   } else {
       promises = array.map(function (i) {
           return this.insert(i);
       }, this);
   }
   var ret = new PromiseList(promises, true);
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_intersect"></a>
    <h3>
        intersect
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds an INTERSECT clause using a second dataset object.
An INTERSECT compound dataset returns all rows in both the current dataset
and the given dataset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).intersect(DB.from(&quot;other_items&quot;)).sql;
  //=&gt; SELECT * FROM (SELECT * FROM items INTERSECT SELECT * FROM other_items) AS t1

DB.from(&quot;items&quot;).intersect(DB.from(&quot;other_items&quot;), {all : true, fromSelf : false}).sql;
  //=&gt; SELECT * FROM items INTERSECT ALL SELECT * FROM other_items

DB.from(&quot;items&quot;).intersect(DB.from(&quot;other_items&quot;), {alias : &quot;i&quot;}).sql;
  //=&gt; SELECT * FROM (SELECT * FROM items INTERSECT SELECT * FROM other_items) AS i
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : the dataset to intersect</li>
    
        <li> <em>opts?</em>  : options</li>
    
        <li> <em>opts.alias?</em> <code>String|patio.sql.Identifier</code> : Use the given value as the <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a> alias</li>
    
        <li> <em>opts.all?</em> <code>Boolean</code> : Set to true to use INTERSECT ALL instead of INTERSECT, so duplicate rows can occur</li>
    
        <li> <em>opts.fromSelf?</em> <code>Boolean</code> : Set to false to not wrap the returned dataset in a <a href='#patio_Dataset_prototype_fromSelf'>patio.Dataset#fromSelf</a>.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the INTERSECT clause.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> if the operation is not supported.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   if (!comb.isHash(opts)) {
       opts = {all:opts};
   }
   if (!this.supportsIntersectExcept) {
       throw new QueryError(&quot;INTERSECT not supported&quot;);
   } else if (opts.all &amp;&amp; !this.supportsIntersectExceptAll) {
       throw new QueryError(&quot;INTERSECT ALL not supported&quot;);
   }
   return this.compoundClone(&quot;intersect&quot;, dataset, opts);
           
}
    </pre>
    


  
    <a name="patio_Model_interval"></a>
    <h3>
        interval
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise that is resolved with the interval between minimum and maximum values
for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT (max(id) - min(id)) FROM table LIMIT 1
  DB.from(&quot;table&quot;).interval(&quot;id&quot;).then(function(interval){
     //(e.g) interval === 6
  });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : to find the interval of.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the interval between the min and max values
of the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.max(column).minus(sql.min(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Model_invert"></a>
    <h3>
        invert
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Inverts the current filter.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({category : &#x27;software&#x27;}).invert()
     //=&gt; SELECT * FROM items WHERE (category != &#x27;software&#x27;)
        </pre>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({category : &#x27;software&#x27;, id : 3}).invert()
     //=&gt; SELECT * FROM items WHERE ((category != &#x27;software&#x27;) OR (id != 3))
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the filter inverted.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var having = this.__opts.having, where = this.__opts.where;
   if (!(having || where)) {
       throw new QueryError(&quot;No current filter&quot;);
   }
   var o = {}
   if (having) {
       o.having = BooleanExpression.invert(having);
   }
   if (where) {
       o.where = BooleanExpression.invert(where);
   }
   return this.mergeOptions(o);
           
}
    </pre>
    


  
    <a name="patio_Model_is"></a>
    <h3>
        is
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).is({boolFlag : null});
     =&gt; SELECT * FROM test WHERE (boolFlag IS NULL);
DB.from(&quot;test&quot;).is({boolFlag : false, otherFlag : true, name : null});
     =&gt; SELECT * FROM test WHERE ((boolFlag IS FALSE) AND (otherFlag IS TRUE) AND (name IS NULL));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the IS expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;is&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_isNot"></a>
    <h3>
        isNot
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returnes a cloned dataset with the IS NOT expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).isNot({boolFlag : null});
     =&gt; SELECT * FROM test WHERE (boolFlag IS NOT NULL);
DB.from(&quot;test&quot;).isNot({boolFlag : false, otherFlag : true, name : null});
     =&gt; SELECT * FROM test WHERE ((boolFlag IS NOT FALSE) AND (otherFlag IS NOT TRUE) AND (name IS NOT NULL));
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the IS NOT expression for.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the IS NOT expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;isNot&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_last"></a>
    <h3>
        last
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Reverses the order and then runs first.  Note that this
will not necessarily give you the last record in the dataset,
unless you have an unambiguous order.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table ORDER BY id DESC LIMIT 1
 DB.from(&quot;table&quot;).order(&quot;id&quot;).last().then(function(lastItem){
     //...(e.g lastItem === {id : 10})
 });

 // SELECT * FROM table ORDER BY id ASC LIMIT 2
  DB.from(&quot;table&quot;).order(sql.id.desc()).last(2).then(function(lastItems){
     //...(e.g lastItems === [{id : 1}, {id : 2});
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : See <a href='#patio_Dataset_prototype_first'>patio.Dataset#first</a> for argument types.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with a single object or array depending on the
arguments provided.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.error.QueryError</code> If there is not currently an order for this dataset.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   if (!this.__opts.order) {
       throw new QueryError(&quot;No order specified&quot;);
   }
   var ds = this.reverse();
   return ds.first.apply(ds, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_limit"></a>
    <h3>
        limit
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
If given an integer, the dataset will contain only the first l results.
         If a second argument is given, it is used as an offset. To use
an offset without a limit, pass null as the first argument.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).limit(10)
     //=&gt; SELECT * FROM items LIMIT 10
DB.from(&quot;items&quot;).limit(10, 20)
     //=&gt; SELECT * FROM items LIMIT 10 OFFSET 20
DB.from(&quot;items&quot;).limit([3, 7]).sql
     //=&gt; SELECT * FROM items LIMIT 5 OFFSET 3&#x27;);
DB.from(&quot;items&quot;).limit(null, 20)
     //=&gt; SELECT * FROM items OFFSET 20

DB.from(&quot;items&quot;).limit(&#x27;6&#x27;, sql[&#x27;a() - 1&#x27;]).sql
     =&gt; &#x27;SELECT * FROM items LIMIT 6 OFFSET a() - 1&#x27;);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>limit</em>  : the limit to apply</li>
    
        <li> <em>offset</em>  : the offset to apply</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset witht the LIMIT and OFFSET applied.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (limit,offset){
   if (this.__opts.sql) {
       return this.fromSelf().limit(limit, offset);
   }
   if (comb.isArray(limit) &amp;&amp; limit.length == 2) {
       offset = limit[0];
       limit = limit[1] - limit[0] + 1;
   }
   if (comb.isString(limit) || comb.isInstanceOf(limit, LiteralString)) {
       limit = parseInt(&quot;&quot; + limit, 10);
   }
   if (comb.isNumber(limit) &amp;&amp; limit &lt; 1) {
       throw new QueryError(&quot;Limit must be &gt;= 1&quot;);
   }
   var opts = {limit:limit};
   if (offset) {
       if (comb.isString(offset) || comb.isInstanceOf(offset, LiteralString)) {
           offset = parseInt(&quot;&quot; + offset, 10);
           isNaN(offset) &amp;&amp; (offset = 0);
       }
       if (comb.isNumber(offset) &amp;&amp; offset &lt; 0) {
           throw new QueryError(&quot;Offset must be &gt;= 0&quot;);
       }
       opts.offset = offset;
   }
   return this.mergeOptions(opts);
           
}
    </pre>
    


  
    <a name="patio_Model_lockStyle"></a>
    <h3>
        lockStyle
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset with the given lock style.  If style is a
string, it will be used directly.Currently "update" is respected
by most databases, and "share" is supported by some.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).lockStyle(&#x27;FOR SHARE&#x27;) # SELECT * FROM items FOR SHARE
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>style</em>  : the lock style to use.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned datase with the given lock style.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (style){
   return this.mergeOptions({lock:style});
           
}
    </pre>
    


  
    <a name="patio_Model_lt"></a>
    <h3>
        lt
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a less than expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).lt({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &lt; 1)
 DB.from(&quot;test&quot;).lt({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &lt; 1) AND (y &lt; 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the less than expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the less than expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;lt&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_lte"></a>
    <h3>
        lte
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a less than or equal to expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).gte({x : 1});
         //=&gt; SELECT * FROM test WHERE (x &lt;= 1)
 DB.from(&quot;test&quot;).gte({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x &lt;= 1) AND (y &lt;= 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the less than or equal to expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the less than or equal to expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   var arr = this.__arrayToConditionSpecifier(comb.argsToArray(arguments), &quot;lte&quot;);
   return this.filter(this.__createBoolExpression(&quot;lte&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_manyToMany"></a>
    <h3>
        manyToMany
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/association.js</em>

<p>
Creates a MANY_TO_MANY relationship between models.
See <a href='#patio_plugins_AssociationPlugin_associate'>patio.plugins.AssociationPlugin.associate</a> for options.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
patio.addModel(&quot;class&quot;, {
     static:{
         init:function(){
             this._super(&quot;arguments&quot;);
             this.manyToMany(&quot;students&quot;, {fetchType:this.fetchType.EAGER, order : [sql.firstName.desc(), sql.lastName.desc()]});
         }
     }
});
patio.addModel(&quot;student&quot;, {
     instance:{
         enroll:function(clas){
             if (comb.isArray(clas)) {
                 return this.addClasses(clas);
             } else {
                 return this.addClass(clas);
             }
         }
     },
     static:{
         init:function(){
             this._super(&quot;arguments&quot;);
             this.manyToMany(&quot;classes&quot;, {fetchType:this.fetchType.EAGER, order : sql.name.desc()});
         }
     }
         });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>filter</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,filter){
   return this.associate(this.MANY_TO_MANY, name, options, filter);
           
}
    </pre>
    


  
    <a name="patio_Model_manyToOne"></a>
    <h3>
        manyToOne
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/association.js</em>

<p>
Creates a MANY_TO_ONE association.
See <a href='#patio_plugins_AssociationPlugin_oneToMany'>patio.plugins.AssociationPlugin.oneToMany</a>.
See <a href='#patio_plugins_AssociationPlugin_associate'>patio.plugins.AssociationPlugin.associate</a>
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>filter</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,filter){
   return this.associate(this.MANY_TO_ONE, name, options, filter);
           
}
    </pre>
    


  
    <a name="patio_Model_map"></a>
    <h3>
        map
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Maps column values for each record in the dataset (if a column name is
given).

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
DB.from(&quot;table&quot;).map(&quot;id&quot;).then(function(ids){
  // e.g. ids === [1, 2, 3, ...]
});

 // SELECT * FROM table
DB.from(&quot;table&quot;).map(function(r){
     return r.id * 2;
}).then(function(ids){
    // e.g. ids === [2, 4, 6, ...]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : if a string is provided then then it is assumed to be the name of a column in that table and the value of the column for each row will be returned. If column is a function then the return value of the function will be used.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the array of mapped values.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ret = new Promise(), block;
   if (comb.isFunction(column)) {
       block = column;
       column = null;
   }
   var a = [], forEachP;
   forEachP = this.forEach(function (r) {
       var item = column ? r[column] : (block ? block(r) : r);
       return comb.when(item, function (mapped) {
           a.push(mapped);
       });
   });
   forEachP.then(hitch(this, function () {
       ret.callback(a);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_max"></a>
    <h3>
        max
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  the maximum value for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT max(id) FROM table LIMIT 1
DB.from(&quot;table&quot;).max(&quot;id&quot;).then(function(max){
  // e.g. max === 10.
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the maximum value for.</li>
    
        <li> <em>cb?</em>  : callback to invoke when action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>*</code> the maximum value for the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.max(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Model_min"></a>
    <h3>
        min
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  the minimum value for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT min(id) FROM table LIMIT 1
DB.from(&quot;table&quot;).min(&quot;id&quot;).then(function(min){
  // e.g. max === 0.
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the minimum value for.</li>
    
        <li> <em>cb?</em>  : callback to invoke when action is done</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>*</code> the minimum value for the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.min(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Model_multiInsert"></a>
    <h3>
        multiInsert
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
This is the recommended function to do the insert of multiple items into the
database. This acts as a proxy to the <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a> method so
one can use an array of hashes rather than an array of columns and an array of values.
See <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a> for more information regarding the method of inserting.
<p>
    <b>NOTE:</b>All hashes should have the same keys other wise some values could be missed</b>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// INSERT INTO table (x) VALUES (1)
// INSERT INTO table (x) VALUES (2)
DB.from(&quot;table&quot;).multiInsert([{x : 1}, {x : 2}]).then(function(){
    //...do something
})

//commit every 50 inserts
DB.from(&quot;table&quot;).multiInsert([{x : 1}, {x : 2},....], {commitEvery : 50}).then(function(){
    //...do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hashes</em>  : an array of objects to insert into the database. The keys of the first item in the array will be used to look up columns in all subsequent objects. If the array is empty then the promise is resolved immediatly.</li>
    
        <li> <em>opts</em>  : See <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a>.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> See <a href='#patio_Dataset_prototype_import'>patio.Dataset#import</a> for return functionality.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hashes,opts,cb){
   if (comb.isFunction(opts)) {
       cb = opts;
       opts = null;
   }
   opts = opts || {};
   hashes = hashes || [];
   var ret = new Promise().classic(cb);
   if (!hashes.length) {
       ret.callback();
   } else {
       var columns = Object.keys(hashes[0]);
       return this[&quot;import&quot;](columns, hashes.map(function (h) {
           return columns.map(function (c) {
               return h[c];
           });
       }), opts, cb);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_naked"></a>
    <h3>
        naked
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns the a cloned dataset with out the <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var ds = DB.from(&quot;test&quot;);
ds.rowCb = function(r){
    r.a = r.a * 2;
}

ds.all().then(function(ret){
     //ret === [{a : 4}, {a : 6}]
});
ds.naked().all().then(function(ret){
     //ret ===  [{a : 2}, {a : 3}];
});
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with out the <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a></li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ds = this.mergeOptions({});
   ds.rowCb = null;
   return ds;
           
}
    </pre>
    


  
    <a name="patio_Model_neq"></a>
    <h3>
        neq
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>

Returns a cloned dataset with a not equal expression added to the WHERE
clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).neq({x : 1});
         //=&gt; SELECT * FROM test WHERE (x != 1)
 DB.from(&quot;test&quot;).neq({x : 1, y : 10});
         //=&gt; SELECT * FROM test WHERE ((x != 1) AND (y != 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object used to create the not equal expression</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the not equal expression added to the WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return this.filter(this.__createBoolExpression(&quot;neq&quot;, obj));
           
}
    </pre>
    


  
    <a name="patio_Model_one"></a>
    <h3>
        one
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Same as <a href='#patio_Dataset_prototype_singleRecord'>patio.Dataset#singleRecord</a> but accepts arguments
to filter the dataset. See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for argument types.

<b>NOTE</b> If the last argument is a function that accepts arguments it is not assumed to
be a filter function but instead a callback.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with a single row from the database that matched the filter.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = comb.argsToArray(arguments), cb;
   var last = args[args.length - 1];
   if (comb.isFunction(last) &amp;&amp; last.length &gt; 0) {
       cb = args.pop();
   }
   if (args.length) {
       return this.filter.apply(this, args).singleRecord(cb);
   } else {
       return this.singleRecord(cb);
   }
           
}
    </pre>
    


  
    <a name="patio_Model_oneToMany"></a>
    <h3>
        oneToMany
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/association.js</em>

<p>
Creates a ONE_TO_MANY association.
See <a href='#patio_plugins_AssociationPlugin_associate'>patio.plugins.AssociationPlugin.associate</a> for options.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//define the BiologicalFather model
 patio.addModel(&quot;biologicalFather&quot;, {
     static:{
         init:function () {
             this._super(&quot;arguments&quot;);
             this.oneToMany(&quot;children&quot;);
         }
     }
});


//define Child  model
patio.addModel(&quot;child&quot;, {
     static:{
         init:function () {
             this._super(&quot;arguments&quot;);
             this.manyToOne(&quot;biologicalFather&quot;);
         }
    }
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>filter</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,filter){
   return this.associate(this.ONE_TO_MANY, name, options, filter);
           
}
    </pre>
    


  
    <a name="patio_Model_oneToOne"></a>
    <h3>
        oneToOne
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/association.js</em>

<p>
Creates a ONE_TO_ONE relationship between models.
See <a href='#patio_plugins_AssociationPlugin_associate'>patio.plugins.AssociationPlugin.associate</a> for options.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
patio.addModel(&quot;state&quot;, {
     static:{
         init:function () {
             this._super(&quot;arguments&quot;);
             this.oneToOne(&quot;capital&quot;);
         }
    }
});

patio.addModel(&quot;capital&quot;, {
     static:{
       init:function () {
         this._super(&quot;arguments&quot;);
         this.manyToOne(&quot;state&quot;);
       }
     }
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>options</em>  : </li>
    
        <li> <em>filter</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,options,filter){
   return this.associate(this.ONE_TO_ONE, name, options, filter);
           
}
    </pre>
    


  
    <a name="patio_Model_or"></a>
    <h3>
        or
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds an alternate filter to an existing WHERE/HAVING using OR.

<p>
    <b>For parameter types see <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</b>
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter(&quot;a&quot;).or(&quot;b&quot;)
     //=&gt; SELECT * FROM items WHERE a OR b
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the condtion added to the WHERE/HAVING clause added.</li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>patio.QueryError</code> If no WHERE?HAVING clause exists.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var tOpts = this.__opts;
   var clause = (tOpts.having ? &quot;having&quot; : &quot;where&quot;), clauseObj = tOpts[clause];
   if (clauseObj) {
       var args = comb.argsToArray(arguments);
       args = args.length == 1 ? args[0] : args;
       var opts = {};
       opts[clause] = new BooleanExpression(&quot;OR&quot;, clauseObj, this._filterExpr(args))
       return this.mergeOptions(opts);
   } else {
       throw new QueryError(&quot;No existing filter found&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Model_order"></a>
    <h3>
        order
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order changed. If the dataset has an
existing order, it is ignored and overwritten with this order. If null is given
the returned dataset has no order. This can accept multiple arguments
of varying kinds, such as SQL functions.  This also takes a function similar
to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).order(&quot;name&quot;)
         //=&gt; SELECT * FROM items ORDER BY name

 DB.from(&quot;items&quot;).order(&quot;a&quot;, &quot;b&quot;)
         //=&gt; SELECT * FROM items ORDER BY a, b

 DB.from(&quot;items&quot;).order(sql.literal(&#x27;a + b&#x27;))
         //=&gt; SELECT * FROM items ORDER BY a + b

 DB.from(&quot;items&quot;).order(sql.identifier(&quot;a&quot;).plus(&quot;b&quot;))
         //=&gt; SELECT * FROM items ORDER BY (a + b)

 DB.from(&quot;items&quot;).order(sql.identifier(&quot;name&quot;).desc())
         //=&gt; SELECT * FROM items ORDER BY name DESC

 DB.from(&quot;items&quot;).order(sql.identifier(&quot;name&quot;).asc({nulls : &quot;last&quot;))
         //=&gt; SELECT * FROM items ORDER BY name ASC NULLS LAST

 DB.from(&quot;items&quot;).order(function(){
         return this.sum(&quot;name&quot;).desc();
 }); //=&gt; SELECT * FROM items ORDER BY sum(name) DESC

 DB.from(&quot;items&quot;).order(null)
         //=&gt;SELECT * FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : </li>
    
        <li> <em>arg</em>  : variable number of arguments similar to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the order changed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   var order = [];
   args = array.compact(args).length ? args : null;
   if (args) {
       args.forEach(function (a) {
           if (comb.isString(a)) {
               order.push(this.stringToIdentifier(a));
           } else if (comb.isFunction(a)) {
               var res = a.apply(sql, [sql]);
               order = order.concat(comb.isArray(res) ? res : [res]);
           } else {
               order.push(a);
           }
       }, this);
   } else {
       order = null;
   }
   return this.mergeOptions({order:order});
           
}
    </pre>
    


  
    <a name="patio_Model_orderAppend"></a>
    <h3>
        orderAppend
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Alias of <a href='#patio_Dataset_prototype_orderMore'>patio.Dataset#orderMore</a>;
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.orderMore.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_orderBy"></a>
    <h3>
        orderBy
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.order.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_orderMore"></a>
    <h3>
        orderMore
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order columns added
to the end of the existing order. For more detail
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).order(&quot;a&quot;).order(&quot;b&quot;);
     //=&gt; SELECT * FROM items ORDER BY b

DB.from(&quot;items&quot;).order(&quot;a&quot;).orderMore(&quot;b&quot;);
     //=&gt;SELECT * FROM items ORDER BY a, b
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var args = comb.argsToArray(arguments);
   if (this.__opts.order) {
       args = this.__opts.order.concat(args);
   }
   return this.order.apply(this, args);
           
}
    </pre>
    


  
    <a name="patio_Model_orderPrepend"></a>
    <h3>
        orderPrepend
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order columns added
to the beginning of the existing order. For more detail
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).order(&quot;a&quot;).order(&quot;b&quot;);
     //=&gt; SELECT * FROM items ORDER BY b

DB.from(&quot;items&quot;).order(&quot;a&quot;).orderPrepend(&quot;b&quot;);
     //=&gt;SELECT * FROM items ORDER BY b, a
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ds = this.order.apply(this, arguments);
   return this.__opts.order ? ds.orderMore.apply(ds, this.__opts.order) : ds;
           
}
    </pre>
    


  
    <a name="patio_Model_qualify"></a>
    <h3>
        qualify
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Qualify to the given table, or <a href='#patio_Dataset_prototype_firstSourceAlias'>patio.Dataset#firstSourceAlias</a> if not table is given.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).filter({id : 1}).qualify();
   //=&gt; SELECT items.* FROM items WHERE (items.id = 1)

DB.from(&quot;items&quot;).filter({id : 1}).qualify(&quot;i&quot;);
  //=&gt; SELECT i.* FROM items WHERE (i.id = 1)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>[table={@link patio.Dataset#firstSourceAlias}]</em>  : the table name to qualify to.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset qualified to the table or @link patio.Dataset#firstSourceAlias}</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (table){
   table = table || this.firstSourceAlias;
   return this.qualifyTo(table);
           
}
    </pre>
    


  
    <a name="patio_Model_range"></a>
    <h3>
        range
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  a range from the minimum and maximum values for the
given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT max(id) AS v1, min(id) AS v2 FROM table LIMIT 1
 DB.from(&quot;table&quot;).range(&quot;id&quot;).then(function(min, max){
     //e.g min === 1 AND max === 10
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the min and max value for.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with the min and max value, as the first
and second args respectively.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ret = new Promise();
   this.__aggregateDataset().select(sql.min(this.stringToIdentifier(column)).as(&quot;v1&quot;), sql.max(this.stringToIdentifier(column)).as(&quot;v2&quot;)).first().then(hitch(this, function (r) {
       ret.callback(r.v1, r.v2);
   }), hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_remove"></a>
    <h3>
        remove
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Remove(delete) models. This can be used to do a mass delete of models.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var User = patio.getModel(&quot;user&quot;);

//remove all users
User.remove();

//remove all users who&#x27;s names start with a.
User.remove({name : /A%/i});

//remove all users who&#x27;s names start with a, without a transaction.
User.remove({name : /A%/i}, {transaction : false});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>q?</em>  : query to filter the rows to remove. See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</li>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
removing the models.</li>
    
        <li> <em>[options.load=true]</em> <code>Boolean</code> : boolean set to prevent the loading of each model. This is more efficient
but the pre/post remove hooks not be notified of the deletion.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back when the removal completes.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (q,options){
   options = options || {};
   var loadEach = comb.isBoolean(options.load) ? options.load : true;
   //first find all records so we call alert the middleware for each model
   return this._checkTransaction(options, hitch(this, function () {
       var ds = this.dataset;
       ds = ds.filter.call(ds, q);
       if (loadEach) {
           return ds.map(function (r) {
               //todo this sucks find a better way!
               return r.remove(options);
           });
       } else {
           return ds.remove();
       }
   }));
           
}
    </pre>
    


  
    <a name="patio_Model_removeById"></a>
    <h3>
        removeById
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Similar to remove but takes an id or an array for a composite key.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
User.removeById(1);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>id</em>  : id or an array for a composite key, to find the model by</li>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
removing the model.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back when the removal completes.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (id,options){
   return this._checkTransaction(options, hitch(this, function () {
       var p = new Promise();
       this.findById(id).then(function (model) {
           if (model) {
               model.remove(options).then(hitch(p, &quot;callback&quot;), hitch(p, &quot;errback&quot;));
           } else {
               p.callback(0);
           }
       }, hitch(p, &quot;errback&quot;));
       return p;
   }));
           
}
    </pre>
    


  
    <a name="patio_Model_reverse"></a>
    <h3>
        reverse
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the order reversed. If no order is
given, the existing order is inverted.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).reverse(&quot;id&quot;);
     //=&gt; SELECT * FROM items ORDER BY id DESC

DB.from(&quot;items&quot;).order(&quot;id&quot;).reverse();
     //=&gt; SELECT * FROM items ORDER BY id DESC

DB.from(&quot;items&quot;).order(&quot;id&quot;).reverse(sql.identifier(&quot;name&quot;).asc);
     //=&gt; SELECT * FROM items ORDER BY name ASC
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of columns add to order before reversing.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the order reversed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   return this.order.apply(this, this._invertOrder(args.length ? args : this.__opts.order));
           
}
    </pre>
    


  
    <a name="patio_Model_reverseOrder"></a>
    <h3>
        reverseOrder
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.reverse.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_save"></a>
    <h3>
        save
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Save either a new model or list of models to the database.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var Student = patio.getModel(&quot;student&quot;);
Student.save([
     {
         firstName:&quot;Bob&quot;,
         lastName:&quot;Yukon&quot;,
         gpa:3.689,
         classYear:&quot;Senior&quot;
     },
     {
         firstName:&quot;Greg&quot;,
         lastName:&quot;Horn&quot;,
         gpa:3.689,
         classYear:&quot;Sohpmore&quot;
     },
     {
         firstName:&quot;Sara&quot;,
         lastName:&quot;Malloc&quot;,
         gpa:4.0,
         classYear:&quot;Junior&quot;
     },
     {
         firstName:&quot;John&quot;,
         lastName:&quot;Favre&quot;,
         gpa:2.867,
         classYear:&quot;Junior&quot;
     },
     {
         firstName:&quot;Kim&quot;,
         lastName:&quot;Bim&quot;,
         gpa:2.24,
         classYear:&quot;Senior&quot;
     },
     {
         firstName:&quot;Alex&quot;,
         lastName:&quot;Young&quot;,
         gpa:1.9,
         classYear:&quot;Freshman&quot;
     }
]).then(function(users){
    //work with the users
});

Save a single record
MyModel.save(m1);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>items</em>  : </li>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>record</em> <code>patio.Model|Object|patio.Model[]|Object[]</code> : the record/s to save.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
saving the models.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back with the saved record/s.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (items,options){
   options = options || {};
   return this._checkTransaction(options, hitch(this, function () {
       var ps;
       if (comb.isArray(items)) {
           ps = items.map(function (o) {
               if (!comb.isInstanceOf(o, this)) {
                   o = new this(o);
               }
               return o.save(null, options);
           }, this);
           var ret = new comb.Promise();
           return new PromiseList(ps, true).then(ret);
       } else {
           var ret = new comb.Promise();
           try {
               if (!comb.isInstanceOf(items, this)) {
                   items = new this(items);
               }
               ret = items.save(null, options);
           } catch (e) {
               ret.errback(e);
           }
           return ret;
       }
   }));
           
}
    </pre>
    


  
    <a name="patio_Model_saveMultiple"></a>
    <h3>
        saveMultiple
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.insertMultiple.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_select"></a>
    <h3>
        select
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the columns selected changed
to the given columns. This also takes a function similar to <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).select(&quot;a&quot;);
     //=&gt; SELECT a FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;, &quot;b&quot;);
     //=&gt; SELECT a, b FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;, function(){
         return this.sum(&quot;b&quot;)
  }).sql;  //=&gt; SELECT a, sum(b) FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : variable number of colums to select</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the columns selected changed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   args = comb.argsToArray(arguments);
   var columns = [];
   args.forEach(function (c) {
       if (comb.isFunction(c)) {
           var res = c.apply(sql, [sql]);
           columns = columns.concat(comb.isArray(res) ? res : [res]);
       } else {
           columns.push(c);
       }
   });
   var select = [];
   columns.forEach(function (c) {
       if (comb.isHash(c)) {
           for (var i in c) {
               select.push(new AliasedExpression(new Identifier(i), c[i]));
           }
       } else if (comb.isString(c)) {
           select.push(this.stringToIdentifier(c));
       } else {
           select.push(c);
       }
   }, this);
   return this.mergeOptions({select:select});
           
}
    </pre>
    


  
    <a name="patio_Model_selectAll"></a>
    <h3>
        selectAll
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a cloned dataset that selects *.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset that selects *.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({select:null});
           
}
    </pre>
    


  
    <a name="patio_Model_selectAppend"></a>
    <h3>
        selectAppend
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the given columns added
to the existing selected columns. If no columns are currently selected,
it will select the columns given in addition to *.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).select(&quot;a&quot;).selectAppend(&quot;b&quot;).sql;
     //=&gt; SELECT b FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;).selectAppend(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;).sql
     //=&gt; SELECT a, b, c, d FROM items

  DB.from(&quot;items&quot;).selectAppend(&quot;b&quot;).sql
     //=&gt; SELECT *, b FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cols</em>  : </li>
    
        <li> <em>...?</em>  : cols variable number of columns to add to the select statement</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> returns a cloned dataset with the new select columns appended.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cols){
   cols = comb.argsToArray(arguments);
   var currentSelect = this.__opts.select;
   if (!currentSelect || !currentSelect.length) {
       currentSelect = [this._static.WILDCARD];
   }
   return this.select.apply(this, currentSelect.concat(cols));
           
}
    </pre>
    


  
    <a name="patio_Model_selectHash"></a>
    <h3>
        selectHash
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with a hash with keyColumn values as keys and valueColumn values as
values.  Similar to <a href='#patio_Dataset_prototype_toHash'>patio.Dataset#toHash</a>, but only selects the two columns.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id, name FROM table
 DB.from(&quot;table&quot;).selectHash(&quot;id&quot;, &quot;name&quot;).then(function(hash){
  // e.g {1 : &#x27;a&#x27;, 2 : &#x27;b&#x27;, ...}
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>keyColumn</em>  : the column to use as the key in the hash.</li>
    
        <li> <em>valueColumn</em>  : the column to use as the value in the hash.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved with an array of hashes, that have the keyColumn
as the key and the valueColumn as the value.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (keyColumn,valueColumn,cb){
   var map = {}, args = comb.argsToArray(arguments);
   cb = comb.isFunction(args[args.length - 1]) ? args.pop() : null;
   var ret = new Promise().classic(cb);
   var k = this.__hashIdentifierToName(keyColumn), v = this.__hashIdentifierToName(valueColumn);
   var mapPromise = this.select.apply(this, args).map(function (r) {
       map[r[k]] = v ? r[v] : r;
   });
   mapPromise.then(function () {
       ret.callback(map);
   }, ret);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_selectMap"></a>
    <h3>
        selectMap
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Selects the column given (either as an argument or as a callback), and
returns an array of all values of that column in the dataset.  If you
give a block argument that returns an array with multiple entries,
the contents of the resulting array are undefined.


</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id FROM table
 DB.from(&quot;table&quot;).selectMap(&quot;id&quot;).then(function(selectMap){
  // e,g. selectMap === [3, 5, 8, 1, ...]
});

// SELECT abs(id) FROM table
DB.from(&quot;table&quot;).selectMap(function(){
     return this.abs(&quot;id&quot;);
}).then(function(selectMap){
  //e.g selectMap === [3, 5, 8, 1, ...]
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : The column to return the values for.      See <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> for valid column values.</li>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the array of mapped values.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ds = this.naked().ungraphed().select(column);
   return ds.map(function (r) {
       return r[Object.keys(r)[0]];
   }, cb);
           
}
    </pre>
    


  
    <a name="patio_Model_selectMore"></a>
    <h3>
        selectMore
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the given columns added
to the existing selected columns. If no columns are currently selected
it will just select the columns given.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).select(&quot;a&quot;).select(&quot;b&quot;).sql;
     //=&gt; SELECT b FROM items

  DB.from(&quot;items&quot;).select(&quot;a&quot;).selectMore(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;).sql
     //=&gt; SELECT a, b, c, d FROM items

  DB.from(&quot;items&quot;).selectMore(&quot;b&quot;).sql
     //=&gt; SELECT b FROM items
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cols</em>  : </li>
    
        <li> <em>...?</em>  : cols variable number of columns to add to the select statement</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> returns a cloned dataset with the new select columns appended.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cols){
   cols = comb.argsToArray(arguments);
   var currentSelect = this.__opts.select;
   return this.select.apply(this, (currentSelect || []).concat(cols));
           
}
    </pre>
    


  
    <a name="patio_Model_selectOrderMap"></a>
    <h3>
        selectOrderMap
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
The same as <a href='#patio_Dataset_prototype_selectMap'>patio.Dataset#selectMap</a>, but in addition orders the array by the column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT id FROM table ORDER BY id
DB.from(&quot;table&quot;).selectOrderMap(&quot;id&quot;).then(function(mappedIds){
  //e.g. [1, 2, 3, 4, ...]
});

 // SELECT abs(id) FROM table ORDER BY abs(id)
 DB.from(&quot;table&quot;).selectOrderMap(function(){
         return this.abs(&quot;id&quot;);
 }).then(function(mappedIds){
     //e.g. [1, 2, 3, 4, ...]
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : The column to return the values for.      See <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> for valid column values.</li>
    
        <li> <em>cb</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the array of mapped values.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   var ds = this.naked()
       .ungraphed()
       .select(column)
       .order(comb.isFunction(column) ? column : this._unaliasedIdentifier(column));
   return ds.map(function (r) {
       return r[Object.keys(r)[0]];
   }, cb);
           
}
    </pre>
    


  
    <a name="patio_Model_set"></a>
    <h3>
        set
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   this.update.apply(this, arguments);
           
}
    </pre>
    


  
    <a name="patio_Model_setDefaults"></a>
    <h3>
        setDefaults
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Set the default values for insert and update statements.  The values hash passed
to insert or update are merged into this hash, so any values in the hash passed
to insert or update will override values passed to this method.

 </p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).setDefaults({a : &#x27;a&#x27;, c : &#x27;c&#x27;}).insert({a : &#x27;d&#x27;, b : &#x27;b&#x27;}).insertSql();
     //=&gt; INSERT INTO items (a, c, b) VALUES (&#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hash</em>  : object with key value pairs to use as override values</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the defaults added to the current datasets defaults.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hash){
   return this.mergeOptions({defaults:comb.merge({}, this.__opts.defaults || {}, hash)});
           
}
    </pre>
    


  
    <a name="patio_Model_setGraphAliases"></a>
    <h3>
        setGraphAliases
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
This allows you to manually specify the graph aliases to use
when using graph.  You can use it to only select certain
columns, and have those columns mapped to specific aliases
in the result set.  This is the equivalent of <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> for a
graphed dataset, and must be used instead of <a href='#patio_Dataset_prototype_select'>patio.Dataset#select</a> whenever
graphing is used.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var DB = patio.defaultDatabase, ds = DB.from(&quot;artists&quot;);
var p = comb.executeInOrder(ds, function(ds){
    var graphedDs = ds.graph(&quot;albums&quot;, {artist_id : id});
    //SELECT artists.name AS artist_name, albums.name AS album_name, 42 AS forty_two FROM table
    return graphedDs.setGraphAliases({artist_name : [&quot;artists&quot;, &quot;name&quot;],
                      album_name : [&quot;albums&quot;, &quot;name&quot;],
                      forty_two : [&quot;albums&quot;, &quot;fourtwo&quot;, 42]).first();
});

p.then(function(obj){
   //obj == {artists : {name : artists.name}, albums : {name : albums.name, fourtwo : 42}}
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>graphAliases</em>  : </li>
    
        <li> <em>eter</em>  : {Object} graphAliases Should be a hash with keys being  column aliases, and values being                  arrays with two or three elements. The first element of the array should be the table alias,                  and the second should be the actual column name. If the array                  has a third element, it is used as the value returned, instead of                  tableAlias.columnName.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (graphAliases){
   var ds = this.select.apply(this, this.__graphAliasColumns(graphAliases));
   ds.__opts.graphAliases = graphAliases;
   return ds;
       
}
    </pre>
    


  
    <a name="patio_Model_setOverrides"></a>
    <h3>
        setOverrides
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Set values that override hash arguments given to insert and update statements.
This hash is merged into the hash provided to insert or update, so values
will override any values given in the insert/update hashes.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).setOverrides({a : &#x27;a&#x27;, c : &#x27;c&#x27;}).insert({a : &#x27;d&#x27;, b : &#x27;b&#x27;}).insertSql();
     //=&gt; INSERT INTO items (a, c, b) VALUES (&#x27;a&#x27;, &#x27;c&#x27;, &#x27;b&#x27;)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>hash</em>  : object with key value pairs to use as override values</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the overrides added to the current datasets overrides.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (hash){
   return this.mergeOptions({overrides:comb.merge({}, this.__opts.overrides || {}, hash)});
           
}
    </pre>
    


  
    <a name="patio_Model_singleRecord"></a>
    <h3>
        singleRecord
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with  the first record in the dataset, or null if the dataset
has no records. Users should probably use <a href='#patio_Dataset_prototype_first'>patio.Dataset#first</a> instead of
this method.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//&#x27;SELECT * FROM test LIMIT 1&#x27;
DB.from(&quot;test&quot;).singleRecord().then(function(r) {
    //e.g r === {id : 1, name : &quot;firstName&quot;}
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : a function to be called when the aciton is complete</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the first record returned from the query.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise().classic(cb);
   this.mergeOptions({limit:1}).all().then(function (r) {
       ret.callback(r &amp;&amp; r.length ? r[0] : null);
   }, ret);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_singleValue"></a>
    <h3>
        singleValue
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with the first value of the first record in the dataset.
Returns null if dataset is empty.  Users should generally use
<a href='#patio_Dataset_prototype_get'>patio.Dataset#get</a> instead of this method.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//&#x27;SELECT * FROM test LIMIT 1&#x27;
DB.from(&quot;test&quot;).singleValue().then(function(r) {
    //e.g r === 1
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the first value of the first row returned
from the dataset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   var ret = new Promise().classic(cb);
   this.naked().ungraphed().singleRecord().then(function (r) {
       ret.callback(r ? r[Object.keys(r)[0]] : null);
   }, hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_sum"></a>
    <h3>
        sum
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved the sum for the given column.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT sum(id) FROM table LIMIT 1
DB.from(&quot;table&quot;).sum(&quot;id&quot;).then(function(sum){
  // e.g sum === 55
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>column</em>  : the column to find the sum of.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise resolved with the sum of the column.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (column,cb){
   return this.__aggregateDataset().get(sql.sum(this.stringToIdentifier(column)), cb);
           
}
    </pre>
    


  
    <a name="patio_Model_toCsv"></a>
    <h3>
        toCsv
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with a string in CSV format containing the dataset records. By
default the CSV representation includes the column titles in the
first line. You can turn that off by passing false as the
includeColumnTitles argument.

<p>
   <b>NOTE:</b> This does not use a CSV library or handle quoting of values in
         any way.  If any values in any of the rows could include commas or line
         endings, you shouldn't use this.
</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
 DB.from(&quot;table&quot;).toCsv().then(function(csv){
     console.log(csv);
     //outputs
       id,name
       1,Jim
       2,Bob
 });

   // SELECT * FROM table
 DB.from(&quot;table&quot;).toCsv(false).then(function(csv){
     console.log(csv);
     //outputs
       1,Jim
       2,Bob
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>[includeColumnTitles=true]</em>  : Set to false to prevent the printing of the column
 titles as the first line.</li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the CSV string of the results of the
 query.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (includeColumnTitles,cb){
   var n = this.naked();
   if(comb.isFunction(includeColumnTitles)){
       cb = includeColumnTitles;
       includeColumnTitles = true;
   }
   includeColumnTitles = comb.isBoolean(includeColumnTitles) ? includeColumnTitles : true;
   var csv = null, cols = [];
   var ret = new comb.Promise().classic(cb);
   n.columns.then(hitch(this, function (cols) {
       var vals = [];
       if (includeColumnTitles) {
           vals.push(cols.join(&quot;, &quot;));
       }
       n.forEach(
           function (r) {
               vals.push(cols.map(
                   function (c) {
                       return r[c] || &quot;&quot;;
                   }).join(&quot;, &quot;));
           }).then(function () {
               ret.callback(vals.join(&quot;\r\n&quot;) + &quot;\r\n&quot;);
           }, hitch(ret, &quot;errback&quot;));
   }), hitch(ret, &quot;errback&quot;));
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_toHash"></a>
    <h3>
        toHash
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Returns a promise resolved with a hash with one column used as key and another used as value.
If rows have duplicate values for the key column, the latter row(s)
will overwrite the value of the previous row(s). If the valueColumn
is not given or null, uses the entire hash as the value.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// SELECT * FROM table
 DB.from(&quot;table&quot;).toHash(&quot;id&quot;, &quot;name&quot;).then(function(hash){
   // {1 : &#x27;Jim&#x27;, 2 : &#x27;Bob&#x27;, ...}
 });

// SELECT * FROM table
DB.from(&quot;table&quot;).toHash(&quot;id&quot;).then(function(hash){
  // {1 : {id : 1, name : &#x27;Jim&#x27;}, 2 : {id : 2, name : &#x27;Bob&#x27;}, ...}
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>keyColumn</em>  : the column  to use as the key in the returned hash.</li>
    
        <li> <em>valueColumn</em>  : </li>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
        <li> <em>[keyValue=null]</em> <code>String|patio.sql.Identifier\patio.sql.QualifiedIdentifier|patio.sql.AliasedExpression</code> : the
 key of the column to use as the value in the hash</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that will be resolved with the resulting hash.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (keyColumn,valueColumn,cb){
   var ret = new Promise(), map = {};
   if (comb.isFunction(valueColumn)) {
       cb = valueColumn;
       valueColumn = null;
   }
   var k = this.__hashIdentifierToName(keyColumn), v = this.__hashIdentifierToName(valueColumn);
   var mapPromise = this.map(function (r) {
       map[r[k]] = v ? r[v] : r;
   });
   mapPromise.then(function () {
       ret.callback(map);
   }, hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_truncate"></a>
    <h3>
        truncate
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/actions.js</em>

<p>
Truncates the dataset.  Returns a promise that is resolved once truncation is complete.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
// TRUNCATE table
DB.from(&quot;table&quot;).truncate().then(function(){
    //...do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>cb?</em>  : the callback to invoke when the action is done.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> a promise that is resolved once truncation is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (cb){
   return this.executeDdl(this.truncateSql).classic(cb);
           
}
    </pre>
    


  
    <a name="patio_Model_unfiltered"></a>
    <h3>
        unfiltered
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no filters (HAVING or WHERE clause) applied.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).group(&quot;a&quot;).having({a : 1}).where(&quot;b&quot;).unfiltered().sql;
     //=&gt; SELECT * FROM items GROUP BY a
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no HAVING or WHERE clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({where:null, having:null});
           
}
    </pre>
    


  
    <a name="patio_Model_ungraphed"></a>
    <h3>
        ungraphed
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/graph.js</em>

<p>
Remove the splitting of results into subhashes, and all metadata
related to the current graph (if any).
     </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({graph:null});
       
}
    </pre>
    


  
    <a name="patio_Model_ungrouped"></a>
    <h3>
        ungrouped
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no GROUP or HAVING clause.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;).group(&quot;a&quot;).having({a : 1}).where(&quot;b&quot;).ungrouped().sql;
     //=&gt; SELECT * FROM t WHERE b
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no GROUP or HAVING clause.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({group:null, having:null});
           
}
    </pre>
    


  
    <a name="patio_Model_union"></a>
    <h3>
        union
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Adds a UNION clause using a second dataset object.
A UNION compound dataset returns all rows in either the current dataset
or the given dataset.
Options:
:alias :: Use the given value as the from_self alias
:all :: Set to true to use UNION ALL instead of UNION, so duplicate rows can occur
:from_self :: Set to false to not wrap the returned dataset in a from_self, use with care.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).union(DB.from(&quot;otherItems&quot;)).sql;
     //=&gt; SELECT * FROM items UNION SELECT * FROM other_items

DB.from(&quot;items&quot;).union(DB.from(&quot;otherItems&quot;), {all : true, fromSelf : false}).sql;
     //=&gt; SELECT * FROM items UNION ALL SELECT * FROM other_items

DB.from(&quot;items&quot;).union(DB.from(&quot;otherItems&quot;), {alias : &quot;i&quot;})
     //=&gt; SELECT * FROM (SELECT * FROM items UNION SELECT * FROM other_items) AS i
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dataset</em>  : dataset to union with</li>
    
        <li> <em>opts</em>  : addional options</li>
    
        <li> <em>opts.alias?</em> <code>String|patio.sql.Identifier</code> : Alias to use as the fromSelf alias.</li>
    
        <li> <em>[opt.all=false]</em> <code>Boolean</code> : Set to true to use UNION ALL instead of UNION so duplicate rows can occur</li>
    
        <li> <em>[opts.fromSelf=true]</em> <code>Boolean</code> : Set to false to not wrap the returned dataset in a fromSelf.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the union.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dataset,opts){
   opts = comb.isUndefined(opts) ? {} : opts;
   if (!comb.isHash(opts)) {
       opts = {all:opts};
   }
   return this.compoundClone(&quot;union&quot;, dataset, opts);
           
}
    </pre>
    


  
    <a name="patio_Model_unlimited"></a>
    <h3>
        unlimited
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no limit or offset.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;).limit(10, 20).unlimited().sql;
     //=&gt; SELECT * FROM t
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no limit or offset.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.mergeOptions({limit:null, offset:null});
           
}
    </pre>
    


  
    <a name="patio_Model_unordered"></a>
    <h3>
        unordered
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with no order.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;).order(&quot;a&quot;, sql.identifier(&quot;b&quot;).desc()).unordered().sql;
     //=&gt; SELECT * FROM t
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with no order.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.order(null);
           
}
    </pre>
    


  
    <a name="patio_Model_update"></a>
    <h3>
        update
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Update multiple rows with a set of values.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var User = patio.getModel(&quot;user&quot;);

//BEGIN
//UPDATE &#x60;user&#x60; SET &#x60;password&#x60; = NULL WHERE (&#x60;last_accessed&#x60; &lt;= &#x27;2011-01-27&#x27;)
//COMMIT
User.update({password : null}, function(){
 return this.lastAccessed.lte(comb.date.add(new Date(), &quot;year&quot;, -1));
});
//same as
User.update({password : null}, {lastAccess : {lte : comb.date.add(new Date(), &quot;year&quot;, -1)}});

//UPDATE &#x60;user&#x60; SET &#x60;password&#x60; = NULL WHERE (&#x60;last_accessed&#x60; &lt;= &#x27;2011-01-27&#x27;)
User.update({password : null}, function(){
 return this.lastAccessed.lte(comb.date.add(new Date(), &quot;year&quot;, -1));
}, {transaction : false});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>vals</em>  : a hash of values to update. See <a href='#patio_Dataset_prototype_update'>patio.Dataset#update</a>.</li>
    
        <li> <em>/*?object*/query</em>  : </li>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>query</em>  : a filter to apply to the UPDATE.  See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a>.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
updating the models.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the update statement has completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (vals,/*?object*/query,options){
   options = options || {};
   var args = comb.argsToArray(arguments);
   return this._checkTransaction(options, hitch(this, function () {
       var dataset = this.dataset;
       if (!comb.isUndefined(query)) {
           dataset = dataset.filter(query);
       }
       return dataset.update(vals);
   }));
           
}
    </pre>
    


  
    <a name="patio_Model_useTransaction"></a>
    <h3>
        useTransaction
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts?</em>  : set a transaction property to override the <a href='#patio_Model_prototype_useTransaction'>patio.Model#useTransaction</a>.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   opts = opts || {};
   return comb.isBoolean(opts.transaction) ? opts.transaction === true : this.useTransactions === true;
           
}
    </pre>
    


  
    <a name="patio_Model_where"></a>
    <h3>
        where
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add a condition to the WHERE clause.  See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for argument types.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;test&quot;).where(&#x27;price &lt; ? AND id in ?&#x27;, 100, [1, 2, 3]).sql;
     //=&gt; &quot;SELECT * FROM test WHERE (price &lt; 100 AND id in (1, 2, 3))&quot;
  DB.from(&quot;test&quot;).where(&#x27;price &lt; {price} AND id in {ids}&#x27;, {price:100, ids:[1, 2, 3]}).sql;
     //=&gt; &quot;SELECT * FROM test WHERE (price &lt; 100 AND id in (1, 2, 3))&quot;)
        </pre>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._filter.apply(this, [&quot;where&quot;].concat(comb.argsToArray(arguments)));
           
}
    </pre>
    


  
    <a name="patio_Model_with"></a>
    <h3>
        with
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add a common table expression (CTE) with the given name and a dataset that defines the CTE.
A common table expression acts as an inline view for the query.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;t&quot;)[&quot;with&quot;](&quot;t&quot;, db.from(&quot;x&quot;))[&quot;with&quot;](&quot;j&quot;, db.from(&quot;y&quot;)).sql;
     //=&gt; &#x27;WITH t AS (SELECT * FROM x), j AS (SELECT * FROM y) SELECT * FROM t&#x27;

DB.from(&quot;t&quot;)[&quot;with&quot;](&quot;t&quot;, db.from(&quot;x&quot;)).withRecursive(&quot;j&quot;, db.from(&quot;y&quot;), db.from(&quot;j&quot;)).sql;
     //=&gt; &#x27;WITH t AS (SELECT * FROM x), j AS (SELECT * FROM y UNION ALL SELECT * FROM j) SELECT * FROM t&#x27;

DB.from(&quot;t&quot;)[&quot;with&quot;](&quot;t&quot;, db.from(&quot;x&quot;), {args:[&quot;b&quot;]}).sql;
     //=&gt; &#x27;WITH t(b) AS (SELECT * FROM x) SELECT * FROM t&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the to assign to the CTE.</li>
    
        <li> <em>dataset</em>  : the dataset to use for the CTE.</li>
    
        <li> <em>opts</em>  : extra options.</li>
    
        <li> <em>opts.args?</em> <code>String[]</code> : colums/args for the CTE.</li>
    
        <li> <em>opts.recursive?</em> <code>Boolean</code> : set to true that the CTE is recursive.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the CTE.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,dataset,opts){
   if (!this.supportsCte) {
       throw new QueryError(&quot;this dataset does not support common table expressions&quot;);
   }
   return this.mergeOptions({
       &quot;with&quot;:(this.__opts[&quot;with&quot;] || []).concat([comb.merge(opts || {}, {name:this.stringToIdentifier(name), dataset:dataset})])
   });
           
}
    </pre>
    


  
    <a name="patio_Model_withRecursive"></a>
    <h3>
        withRecursive
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Add a recursive common table expression (CTE) with the given name, a dataset that
defines the nonrecursive part of the CTE, and a dataset that defines the recursive part
of the CTE.

 </p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//Sing withRecursive call.
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;)).sql;
         //=&gt; &#x27;WITH t AS (SELECT * FROM x UNION ALL SELECT * FROM t) SELECT * FROM t&#x27;

//Multiple withRecursive calls.
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;))
   .withRecursive(&quot;j&quot;, db.from(&quot;y&quot;), db.from(&quot;j&quot;)).sql;
         //=&gt; &#x27;WITH t AS (SELECT * FROM x UNION ALL SELECT * FROM t),
                    j AS (SELECT * FROM y UNION ALL SELECT * FROM j) SELECT * FROM t&#x27;;

//Adding args
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;), {args:[&quot;b&quot;, &quot;c&quot;]}).sql;
         //=&gt; &#x27;WITH t(b, c) AS (SELECT * FROM x UNION ALL SELECT * FROM t) SELECT * FROM t&#x27;

//Setting union all to false
DB.from(&quot;t&quot;).withRecursive(&quot;t&quot;, db.from(&quot;x&quot;), db.from(&quot;t&quot;), {unionAll:false}).sql;
         //=&gt; &#x27;WITH t AS (SELECT * FROM x UNION SELECT * FROM t) SELECT * FROM t&#x27;);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name to assign to the CTE</li>
    
        <li> <em>nonRecursive</em>  : the non-recursive part of the CTE</li>
    
        <li> <em>recursive</em>  : the recursive part of the CTE</li>
    
        <li> <em>[opts={}]</em>  : extra options</li>
    
        <li> <em>opts.args?</em> <code>String[]</code> : columns to include with the CTE</li>
    
        <li> <em>opts.unionAll?</em> <code>Boolena</code> : set to false to use UNION instead of UNION ALL when combining non recursive
                               with recursive.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the CTE.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,nonRecursive,recursive,opts){
   if (!this.supportsCte) {
       throw new QueryError(&quot;This dataset does not support common table expressions&quot;);
   }
   opts = opts || {};
   var wit = (this.__opts[&quot;with&quot;] || []).concat([comb.merge(opts, {recursive:true, name:this.stringToIdentifier(name), dataset:nonRecursive.union(recursive, {all:opts.unionAll != false, fromSelf:false})})]);
   return this.mergeOptions({&quot;with&quot;:wit});
           
}
    </pre>
    


  
    <a name="patio_Model_withSql"></a>
    <h3>
        withSql
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined dataset/query.js</em>

<p>
Returns a copy of the dataset with the static SQL used.  This is useful if you want
to keep the same <a href='#patio_Dataset_prototype_rowCb'>patio.Dataset#rowCb</a>/<a href='#patio_Dataset_prototype_graph'>patio.Dataset#graph</a>,
 but change the SQL used to custom SQL.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.from(&quot;items&quot;).withSql(&#x27;SELECT * FROM foo&#x27;)
         //=&gt; SELECT * FROM foo
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sql</em>  : sql for the dataset to use.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Dataset</code> a cloned dataset with the static sql set.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sql){
   var args = comb.argsToArray(arguments).slice(1);
   if (args.length) {
       sql = new PlaceHolderLiteralString(sql, args)
   }
   return this.mergeOptions({sql:sql});
           
}
    </pre>
    


  
  
    <a name="patio_Model_prototype___reload"></a>
    <h3>
        __reload
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Forces the reload of the data for a particular model instance.  The Promise returned is resolved with the
model.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
myModel.reload().then(function(model){
   //model === myModel
});
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> resolved with the model instance.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   var ret = new Promise();
   if (!this.__isNew) {
       this.dataset.naked().filter(this._getPrimaryKeyQuery()).one().then(hitch(this, function (values) {
           this.__set(values, true);
           ret.callback(this);
       }), hitch(ret, &quot;errback&quot;));
   } else {
       ret.callback(this);
   }
   return ret;
           
}
    </pre>
    


  
    <a name="patio_Model_prototype__saveReload"></a>
    <h3>
        _saveReload
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._static.reloadOnSave ? this.__reload() : new comb.Promise().callback(this);
           
}
    </pre>
    


  
    <a name="patio_Model_prototype__updateReload"></a>
    <h3>
        _updateReload
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
</p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._static.reloadOnUpdate ? this.__reload() : new comb.Promise().callback(this);
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_remove"></a>
    <h3>
        remove
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
This method removes the instance of the model. If the model <a href='#patio_Model_prototype_isNew'>patio.Model#isNew</a> then the promise is
resolved with a 0 indicating no rows were affected. Otherwise the model is removed, primary keys are cleared
and the model's isNew flag is set to true.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
myModel.remove().then(function(){
    //model is deleted
    assert.isTrue(myModel.isNew);
});

//dont use a transaction to remove this model
myModel.remove({transaction : false}).then(function(){
    //model is deleted
    assert.isTrue(myModel.isNew);
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
removing the model.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> called back after the deletion is successful.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options){
   if (this.synced) {
       if (!this.__isNew) {
           return this._checkTransaction(options, hitch(this, function () {
               var ret = new Promise();
               this._hook(&quot;pre&quot;, &quot;remove&quot;).then(hitch(this, function () {
                   this._remove().then(hitch(this, function () {
                       this._hook(&quot;post&quot;, &quot;remove&quot;).then(hitch(this, function () {
                           this._clearPrimaryKeys();
                           this.__isNew = true;
                           if (this._static.emitOnRemove) {
                               this.emit(&quot;remove&quot;, this);
                               this._static.emit(&quot;remove&quot;, this);
                           }
                           ret.callback(this);
                       }), ret);
                   }), ret);
               }), ret);
               return ret;
           }));
       } else {
           return new comb.Promise().callback(0);
       }
   } else {
       throw new ModelError(&quot;Model &quot; + this.tableName + &quot; has not been synced&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_save"></a>
    <h3>
        save
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Updates a model. This action checks if the model is new and values have changed.
If the model is not new then the <a href='#patio_Model_prototype_update'>patio.Model#update</a> action is called.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//set new values and save the model
someModel.save({
     myVal1 : &quot;newValue1&quot;,
     myVal2 : &quot;newValue2&quot;,
     myVal3 : &quot;newValue3&quot;
     }).then(function(){
         //do something
     });

//or

//set new values and save the model and DO NOT use a transaction
someModel.save({
     myVal1 : &quot;newValue1&quot;,
     myVal2 : &quot;newValue2&quot;,
     myVal3 : &quot;newValue3&quot;
     }, {transaction : false}).then(function(){
         //do something
     });

//or
someModel.myVal1 = &quot;newValue1&quot;;
someModel.myVal2 = &quot;newValue2&quot;;
someModel.myVal3 = &quot;newValue3&quot;;

someModel.save().then(function(){
    //do something
});

//or

//dont use a transaction
someModel.save(null, {transaction : false}).then(function(){
    //do something
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>vals?</em>  : optional values hash to set on the model before saving.</li>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
saving the model.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> resolved when the save action has completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (vals,options){
   if (this.synced) {
       if (this.__isNew) {
           return this._checkTransaction(options, hitch(this, function () {
               comb.isHash(vals) &amp;&amp; this.__set(vals);
               var ret = new comb.Promise();
               this._hook(&quot;pre&quot;, &quot;save&quot;)
                   .chain(hitch(this, &quot;_save&quot;), ret)
                   .then(hitch(this, function () {
                   this._hook(&quot;post&quot;, &quot;save&quot;).then(hitchIgnore(ret, &quot;callback&quot;, this), ret);
               }), ret);
               return ret;
           }));
       } else {
           return this.update(vals, options);
       }
   } else {
       throw new ModelError(&quot;Model &quot; + this.tableName + &quot; has not been synced&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_setValues"></a>
    <h3>
        setValues
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Set multiple values at once. Useful if you have a hash of properties that you want to set.

<b>NOTE:</b> This method will use the static restrictedColumns property of the model.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
myModel.setValues({firstName : &quot;Bob&quot;, lastName : &quot;yukon&quot;});

//this will throw an error by default, assuming id is a pk.
myModel.setValues({id : 1, firstName : &quot;Bob&quot;, lastName : &quot;yukon&quot;});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>values</em>  : value to set on the model.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.Model</code> return this for chaining.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (values){
   this.__set(values, false);
   return this;
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_toJSON"></a>
    <h3>
        toJSON
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Convert this model to JSON, containing column, value pairs.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>JSON</code> the JSON version of this model.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.toObject();
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_toObject"></a>
    <h3>
        toObject
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Convert this model to an object, containing column, value pairs.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>Object</code> the object version of this model.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this._toObject(false);
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Convert this model to a string, containing column, value pairs.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the string version of this model.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return JSON.stringify(this.toObject(), null, 4);
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_update"></a>
    <h3>
        update
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/query.js</em>

<p>
Updates a model. This action checks if the model is not new and values have changed.
If the model is new then the <a href='#patio_Model_prototype_save'>patio.Model#save</a> action is called.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
//set values before saving
someModel.update({
     myVal1 : &quot;newValue1&quot;,
     myVal2 : &quot;newValue2&quot;,
     myVal3 : &quot;newValue3&quot;
     }).then(function(){
    //do something
});

//set vals before saving and don&#x27;t use a transaction
someModel.update({
     myVal1 : &quot;newValue1&quot;,
     myVal2 : &quot;newValue2&quot;,
     myVal3 : &quot;newValue3&quot;
     }, {transaction : false}).then(function(){
    //do something
});

//or

someModel.myVal1 = &quot;newValue1&quot;;
someModel.myVal2 = &quot;newValue2&quot;;
someModel.myVal3 = &quot;newValue3&quot;;

//update model with current values
someModel.update().then(function(){
    //do something
});


//don&#x27;t use a transaction
someModel.update(null, {transaction : false});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>vals?</em>  : optional values hash to set on the model before saving.</li>
    
        <li> <em>options?</em>  : additional options.</li>
    
        <li> <em>options.transaction?</em> <code>Boolean</code> : boolean indicating if a transaction should be used when
updating the model.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>comb.Promise</code> resolved when the update action has completed.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (vals,options){
   if (this.synced) {
       if (!this.__isNew) {
           return this._checkTransaction(options, hitch(this, function () {
               comb.isHash(vals) &amp;&amp; this.__set(vals);
               var saveChange = !comb.isEmpty(this.__changed);
               var ret = new Promise();
               this._hook(&quot;pre&quot;, &quot;update&quot;).then(hitch(this, function () {
                   (saveChange ? this._update() : new Promise().callback()).then(hitch(this, function () {
                       this._hook(&quot;post&quot;, &quot;update&quot;).then(hitchIgnore(ret, &quot;callback&quot;, this), ret);
                   }), ret);
               }), ret);
               return ret;
           }));
       } else if (this.__isNew &amp;&amp; this.__isChanged) {
           return this.save(vals, options);
       } else {
           return new comb.Promise().callback(this);
       }
   } else {
       throw new ModelError(&quot;Model &quot; + this.tableName + &quot; has not been synced&quot;);
   }
           
}
    </pre>
    


  
    <a name="patio_Model_prototype_valueOf"></a>
    <h3>
        valueOf
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined model.js</em>

<p>
Convert this model to a string, containing column, value pairs.

</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the string version of this model.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.toObject();
           
}
    </pre>
    


  

    <a name="patio_ModelError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.ModelError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_ModelError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is a error thrown within a model.</p>
    

    

    
    

    <a name="patio_ModelError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Model error : &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_NotImplemented"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.NotImplemented
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_NotImplemented_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if a function is not impltemened</p>
    

    

    
    

    <a name="patio_NotImplemented_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Not Implemented :  &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_PatioError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.PatioError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_PatioError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is a unexpected Error.</p>
    

    

    
    

    <a name="patio_PatioError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;Patio error : &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_QueryError"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.QueryError
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_QueryError_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Thrown if there is a Query Error.</p>
    

    

    
    

    <a name="patio_QueryError_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined errors.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>message</em>  : the message to show.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (message){
   return new Error(&quot;QueryError : &quot; + message);
}
            </pre>
      
    

  
  

    <a name="patio_SchemaGenerator"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.SchemaGenerator
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_SchemaGenerator_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_SchemaGenerator_prototype___compositeForeignKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __compositeForeignKey

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype___compositePrimaryKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __compositePrimaryKey

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_check">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                check

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_column">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                column

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_constraint">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                constraint

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_foreignKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                foreignKey

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_fullTextIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                fullTextIndex

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_hasColumn">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                hasColumn

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_index">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                index

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_primaryKey">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                primaryKey

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_spatialIndex">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                spatialIndex

                                </a></li>
                                
                                <li><a href="#patio_SchemaGenerator_prototype_unique">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                unique

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
An internal class that the user is not expected to instantiate directly.
Instances are created by <a href='#patio_Database_prototype_createTable'>patio.Database#createTable</a>.
It is used to specify table creation parameters.  It takes a Database
object and a block of column/index/constraint specifications, and
gives the Database a table description, which the database uses to
create a table.

<a href='#patio_SchemaGenerator'>patio.SchemaGenerator</a> has some methods but also includes method_missing,
allowing users to specify column type as a method instead of using
the column method, which makes for a cleaner code.
</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
comb.executeInOrder(DB, function(DB){
      DB.createTable(&quot;airplane_type&quot;, function () {
         this.primaryKey(&quot;id&quot;);
         this.name(String, {allowNull:false});
         this.max_seats(Number, {size:3, allowNull:false});
         this.company(String, {allowNull:false});
      });
     DB.createTable(&quot;airplane&quot;, function () {
         this.primaryKey(&quot;id&quot;);
         this.total_no_of_seats(Number, {size:3, allowNull:false});
         this.foreignKey(&quot;typeId&quot;, &quot;airplane_type&quot;, {key:&quot;id&quot;});
     });
     DB.createTable(&quot;flight_leg&quot;, function () {
         this.primaryKey(&quot;id&quot;);
         this.scheduled_departure_time(&quot;time&quot;);
         this.scheduled_arrival_time(&quot;time&quot;);
         this.foreignKey(&quot;departure_code&quot;, &quot;airport&quot;, {key:&quot;airport_code&quot;, type : String, size : 4});
         this.foreignKey(&quot;arrival_code&quot;, &quot;airport&quot;, {key:&quot;airport_code&quot;, type : String, size : 4});
         this.foreignKey(&quot;flight_id&quot;, &quot;flight&quot;, {key:&quot;id&quot;});
     });
     DB.createTable(&quot;leg_instance&quot;, function () {
         this.primaryKey(&quot;id&quot;);
         this.date(&quot;date&quot;);
         this.arr_time(&quot;datetime&quot;);
         this.dep_time(&quot;datetime&quot;);
         this.foreignKey(&quot;airplane_id&quot;, &quot;airplane&quot;, {key:&quot;id&quot;});
         this.foreignKey(&quot;flight_leg_id&quot;, &quot;flight_leg&quot;, {key:&quot;id&quot;});
     });
});
            </pre>
    

    

    
    

    <a name="patio_SchemaGenerator_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined database/schemaGenerators.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>db</em>  : </li>
        
            <li> <em>the</em> <code>patio.Database</code> : database this generator is for</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (db){
   this.db = db;
   this.columns = [];
   this.indexes = [];
   this.constraints = [];
   this.__primaryKey = null;
           
}
            </pre>
      
    

  
  
    <a name="patio_SchemaGenerator_prototype___compositeForeignKey"></a>
    <h3>
        __compositeForeignKey
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   this.constraints.push(comb.merge({type:&quot;foreignKey&quot;, columns:columns}, opts));
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype___compositePrimaryKey"></a>
    <h3>
        __compositePrimaryKey
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns){
   var args = comb.argsToArray(arguments).slice(1);
   var opts = args.pop() || {};
   this.constraints.push(comb.merge({type:&quot;primaryKey&quot;, columns:columns}, opts));
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_check"></a>
    <h3>
        check
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add an unnamed constraint to the DDL, specified by the given block
or args:

  check({num : {between : [1,5]}})
     //=> CHECK num >= 1 AND num <= 5
  check(function(){return this.num.gt(5);});
     //=> CHECK num > 5
  </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.constraint.apply(this, [null].concat(comb.argsToArray(arguments)));
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_column"></a>
    <h3>
        column
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a column with the given name, type, and opts to the DDL.

<pre class="code">
 DB.createTable("test", function(){
     this.column("num", "integer");
         //=> num INTEGER
     this.column('name", String, {allowNull : false, "default" : "a");
         //=> name varchar(255) NOT NULL DEFAULT 'a'
     this.column("ip", "inet");
         //=> ip inet
  });
</pre>

You can also create columns via method missing, so the following are
equivalent:
<pre class="code">
DB.createTable("test", function(){
  this.column("number", "integer");
  this.number("integer");
});
</pre>

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the column</li>
    
        <li> <em>type</em>  : the datatype of the column.</li>
    
        <li> <em>opts?</em>  : additional options</li>
    
        <li> <em>opts.default?</em>  : The default value for the column.</li>
    
        <li> <em>opts.deferrable?</em>  : This ensure Referential Integrity will work even if
               reference table will use for its foreign key a value that does not
               exists(yet) on referenced table. Basically it adds
               DEFERRABLE INITIALLY DEFERRED on key creation.</li>
    
        <li> <em>opts.index?</em> <code>Boolean</code> : Create an index on this column.</li>
    
        <li> <em>key?</em> <code>String|patio.sql.Identifier</code> : For foreign key columns, the column in the associated table
        that this column references.  Unnecessary if this column references the primary key of the
        associated table.</li>
    
        <li> <em>opts.allowNull?</em> <code>Boolean</code> : Mark the column as allowing NULL values (if true),
         or not allowing NULL values (if false).  If unspecified, will default
         to whatever the database default is.</li>
    
        <li> <em>opts.onDelete?</em> <code>String</code> : Specify the behavior of this column when being deleted
              ("restrict", "cascade", "setNull", "setDefault", "noAction").</li>
    
        <li> <em>opts.onUpdate?</em> <code>String</code> : Specify the behavior of this column when being updated
              Valid options ("restrict", "cascade", "setNull", "setDefault", "noAction").</li>
    
        <li> <em>opts.primaryKey?</em> <code>Boolean</code> : Make the column as a single primary key column.  This should only
                be used if you have a single, non-autoincrementing primary key column.</li>
    
        <li> <em>opts.size?</em> <code>Number</code> : The size of the column, generally used with string
         columns to specify the maximum number of characters the column will hold.
         An array of two integers can be provided to set the size and the
         precision, respectively, of decimal columns.</li>
    
        <li> <em>opts.unique?</em> <code>String</code> : Mark the column as unique, generally has the same effect as
           creating a unique index on the column.</li>
    
        <li> <em>opts.unsigned?</em> <code>String</code> : Make the column type unsigned, only useful for integer
             columns.</li>
    
        <li> <em>opts.elements?</em> <code>Array</code> : Available items used for set and enum columns.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,type,opts){
   opts = opts || {};
   this.columns.push(comb.merge({name:name, type:type}, opts));
   if (opts.index) {
       this.index(name);
   }
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_constraint"></a>
    <h3>
        constraint
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Adds a named constraint (or unnamed if name is nil) to the DDL,
with the given block or args.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createTable(&quot;test&quot;, function(){
     this.constraint(&quot;blah&quot;, {num : {between : [1,5])
             //=&gt; CONSTRAINT blah CHECK num &gt;= 1 AND num &lt;= 5
     this.check(&quot;foo&quot;, function(){
         return this.num.gt(5);
     }); # CONSTRAINT foo CHECK num &gt; 5
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : the name of the constraint</li>
    
        <li> <em>args</em>  : variable number of arguments to create the constraint filter.              See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a> for valid filter arguments.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,args){
   args = comb.argsToArray(arguments).slice(1);
   var block = comb.isFunction(args[args.length - 1]) ? args.pop : null;
   this.constraints.push({name:name, type:&quot;check&quot;, check:block || args});
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_foreignKey"></a>
    <h3>
        foreignKey
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
 Add a foreign key in the table that references another table to the DDL. See {@link patio.SchemaGenerator#column{
for options.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createTable(&quot;flight_leg&quot;, function () {
     this.primaryKey(&quot;id&quot;);
     this.scheduled_departure_time(&quot;time&quot;);
     this.scheduled_arrival_time(&quot;time&quot;);
     this.foreignKey(&quot;departure_code&quot;, &quot;airport&quot;, {key:&quot;airport_code&quot;, type : String, size : 4});
     this.foreignKey(&quot;arrival_code&quot;, &quot;airport&quot;, {key:&quot;airport_code&quot;, type : String, size : 4});
     this.foreignKey(&quot;flight_id&quot;, &quot;flight&quot;, {key:&quot;id&quot;});
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
        <li> <em>table</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name,table,opts){
   opts = opts || {};
   opts = comb.isHash(table) ? comb.merge({}, table, opts) : comb.isString(table) ? comb.merge({table:table}, opts) : opts;
   if (comb.isArray(name)) {
       return this.__compositeForeignKey(name, opts);
   } else {
       return this.column(name, &quot;integer&quot;, opts);
   }
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_fullTextIndex"></a>
    <h3>
        fullTextIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a full text index on the given columns to the DDL.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createTable(&quot;posts&quot;, function () {
     this.title(&quot;text&quot;);
     this.body(&quot;text&quot;);
     this.fullTextIndex(&quot;title&quot;);
     this.fullTextIndex([&quot;title&quot;, &quot;body&quot;]);
 });
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   return this.index(columns, comb.merge({type:&quot;fullText&quot;}, opts));
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_hasColumn"></a>
    <h3>
        hasColumn
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>

Check if the DDL includes the creation of a column with the given name.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Boolean</code> true if the DDL includes the creation of a column with the given name.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   return this.columns.some(function (c) {
       return c.name == name
   });
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_index"></a>
    <h3>
        index
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add an index on the given column(s) with the given options to the DDL.
The available options are:
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createTable(&quot;test&quot;, function(table) {
      table.primaryKey(&quot;id&quot;, &quot;integer&quot;, {null : false});
      table.column(&quot;name&quot;, &quot;text&quot;);
      table.index(&quot;name&quot;, {unique : true});
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : the column/n to create the index from.</li>
    
        <li> <em>opts?</em>  : Additional options</li>
    
        <li> <em>opts.type?</em> <code>String</code> : The type of index to use (only supported by some databases)</li>
    
        <li> <em>opts.unique?</em> <code>Boolean</code> : :: Make the index unique, so duplicate values are not allowed.</li>
    
        <li> <em>opts.where?</em>  : :: Create a partial index (only supported by some databases)</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   this.indexes.push(comb.merge({columns:comb.array.toArray(columns)}, opts || {}));
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_primaryKey"></a>
    <h3>
        primaryKey
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Adds an auto-incrementing primary key column or a primary key constraint to the DDL.
To create a constraint, the first argument should be an array of columns
specifying the primary key columns. To create an auto-incrementing primary key
column, a single column can be used. In both cases, an options hash can be used
as the second argument.

If you want to create a primary key column that is not auto-incrementing, you
should not use this method.  Instead, you should use the regular <a href='#patio_SchemaGenerator_prototype_column'>patio.SchemaGenerator#column</a>
method with a {primaryKey : true} option.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
db.createTable(&quot;airplane_type&quot;, function () {
     this.primaryKey(&quot;id&quot;);
         //=&gt; id integer NOT NULL PRIMARY KEY AUTOINCREMENT
     this.name(String, {allowNull:false});
     this.max_seats(Number, {size:3, allowNull:false});
     this.company(String, {allowNull:false});
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>name</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (name){
   if (comb.isArray(name)) {
       return this.__compositePrimaryKey.apply(this, arguments);
   } else {
       var args = comb.argsToArray(arguments).slice(1), type;
       var opts = args.pop();
       this.__primaryKey = comb.merge({}, this.db.serialPrimaryKeyOptions, {name:name}, opts);
       if ((type = args.pop()) != null) {
           comb.merge(opts, {type:type});
       }
       comb.merge(this.__primaryKey, opts);
       return this.__primaryKey;
   }
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_spatialIndex"></a>
    <h3>
        spatialIndex
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a spatial index on the given columns to the DDL.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   return this.index(columns, comb.merge({type:&quot;spatial&quot;}, opts));
           
}
    </pre>
    


  
    <a name="patio_SchemaGenerator_prototype_unique"></a>
    <h3>
        unique
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined database/schemaGenerators.js</em>

<p>
Add a unique constraint on the given columns to the DDL. See <a href='#patio_SchemaGenerator_prototype_constraint'>patio.SchemaGenerator#constraint</a>
for argument types.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
DB.createTable(&quot;test&quot;, function(){
  this.unique(&quot;name&quot;);
         //=&gt; UNIQUE (name)
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>columns</em>  : </li>
    
        <li> <em>opts</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (columns,opts){
   opts = opts || {};
   this.constraints.push(comb.merge({type:&quot;unique&quot;, columns:comb.array.toArray(columns)}, opts));
           
}
    </pre>
    


  

    <a name="patio_Time"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.Time
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_Time_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_Time_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_Time_prototype_dateTimeToString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dateTimeToString

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_dateToString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                dateToString

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_stringToDate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                stringToDate

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_stringToDateTime">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                stringToDateTime

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_stringToTime">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                stringToTime

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_stringToTimeStamp">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                stringToTimeStamp

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_stringToYear">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                stringToYear

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_timeStampToString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                timeStampToString

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_timeToString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                timeToString

                                </a></li>
                                
                                <li><a href="#patio_Time_prototype_yearToString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                yearToString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Mixin that provides time formatting/coversion functions.

</p>
    

    

    
    
        <a name="patio_Time_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>DATETIME_FORMAT_TZ</td><td>String</td><td><code>
yyyy-MM-dd HH:mm:ssZ
     </code></td><td>
Datetime format used if the default fails. This format includes timezone info.</td><tr><tr><td>DATETIME_TWO_YEAR_FORMAT</td><td>String</td><td><code>
yy-MM-dd HH:mm:ss

     </code></td><td>
Two year datetime format. If convertTwoDigitYear is set to true and the timeStampFormat
fails this format will be tried.</td><tr><tr><td>DEFAULT_DATETIME_FORMAT</td><td>String</td><td><code>
yyyy-MM-dd HH:mm:ss
</code></td><td>
Default datetime format</td><tr><tr><td>DEFAULT_DATE_FORMAT</td><td>String</td><td><code>
yyyy-MM-dd
</code></td><td>

default date format.</td><tr><tr><td>DEFAULT_TIMESTAMP_FORMAT</td><td>String</td><td><code>
yyyy-MM-dd HH:mm:ss
</code></td><td>
Default timestamp format</td><tr><tr><td>DEFAULT_TIME_FORMAT</td><td>String</td><td><code>
HH:mm:ss
</code></td><td>
Default time format</td><tr><tr><td>DEFAULT_YEAR_FORMAT</td><td>String</td><td><code>
yyyy
</code></td><td>
Default year format</td><tr><tr><td>ISO_8601</td><td>String</td><td><code>
yyyy-MM-ddTHH:mm:ssZ
     </code></td><td>
ISO-8601 format</td><tr><tr><td>ISO_8601_TWO_YEAR</td><td>String</td><td><code>
yy-MM-ddTHH:mm:ssZ
     </code></td><td>
Two year ISO-8601 format</td><tr><tr><td>TIMESTAMP_FORMAT_TZ</td><td>String</td><td><code>
yyyy-MM-dd HH:mm:ssZ
     </code></td><td>
Timestamp format used if the default fails. This format includes timezone info.</td><tr><tr><td>TIMESTAMP_TWO_YEAR_FORMAT</td><td>String</td><td><code>
yy-MM-dd HH:mm:ss

     </code></td><td>
Two year timestamp format. If convertTwoDigitYear is set to true and the timeStampFormat
fails this format will be tried.</td><tr><tr><td>TWO_YEAR_DATE_FORMAT</td><td>String</td><td><code>
yy-MM-dd
</code></td><td>
Two year date format
This is used in date coversions when convertTwoDigitYears is used.

If this format fails then dateFormat|DEFAULT_DATE_FORMAT is used.</td><tr><tr><td>convertTwoDigitYears</td><td>Boolean</td><td><code>
true
</code></td><td>
By default patio will try to covert all two digit years.
To turn this off:</td><tr><tr><td>dateFormat</td><td></td><td><code><a href='#patio_Time_prototype_DEFAULT_DATE_FORMAT'>patio.Time#DEFAULT_DATE_FORMAT</a></code></td><td>the format to use to formatting/converting dates.</td><tr><tr><td>dateTimeFormat</td><td></td><td><code><a href='#patio_Time_prototype_DEFAULT_DATETIME_FORMAT'>patio.Time#DEFAULT_DATETIME_FORMAT</a></code></td><td>the format to use to formatting/converting dates.</td><tr><tr><td>timeFormat</td><td></td><td><code><a href='#patio_Time_prototype_DEFAULT_TIME_FORMAT'>patio.Time#DEFAULT_TIME_FORMAT</a></code></td><td>the format to use to formatting/converting dates.</td><tr><tr><td>timeStampFormat</td><td></td><td><code><a href='#patio_Time_prototype_DEFAULT_TIMESTAMP_FORMAT'>patio.Time#DEFAULT_TIMESTAMP_FORMAT</a></code></td><td>the format to use to formatting/converting dates.</td><tr><tr><td>yearFormat</td><td></td><td><code><a href='#patio_Time_prototype_DEFAULT_YEAR_FORMAT'>patio.Time#DEFAULT_YEAR_FORMAT</a></code></td><td>the format to use to formatting/converting dates.</td><tr></table>
    

    <a name="patio_Time_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined time.js</em>
    
    
    

  
  
    <a name="patio_Time_prototype_dateTimeToString"></a>
    <h3>
        dateTimeToString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a @link{sql.DateTime} to a string.
The format used is <a href='#time_dateTimeFormat'>time.dateTimeFormat</a>,
which defaults to <a href='#time_DEFAULT_DATETIME_FORMAT'>time.DEFAULT_DATETIME_FORMAT</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var date = new Date(2004, 1, 1, 12, 12, 12),
dateTime = new sql.DateTime(2004, 1, 1, 12, 12, 12),
offset = &quot;-0600&quot;;
patio.dateTimeToString(date); //=&gt; &#x27;2004-02-01 12:12:12&#x27;
patio.dateTimeToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12&#x27;

patio.dateTimeFormat = patio.DATETIME_TWO_YEAR_FORMAT;
patio.dateTimeToString(date); //=&gt; &#x27;04-02-01 12:12:12&#x27;
patio.dateTimeToString(dateTime); //=&gt; &#x27;04-02-01 12:12:12&#x27;

patio.dateTimeFormat = patio.DATETIME_FORMAT_TZ;
patio.dateTimeToString(date); //=&gt; &#x27;2004-02-01 12:12:12-0600&#x27;
patio.dateTimeToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12-0600&#x27;

patio.dateTimeFormat = patio.ISO_8601;
patio.dateTimeToString(date); //=&gt; &#x27;2004-02-01T12:12:12-0600&#x27;
patio.dateTimeToString(dateTime); //=&gt; &#x27;2004-02-01T12:12:12-0600&#x27;

patio.dateTimeFormat = patio.ISO_8601_TWO_YEAR;
patio.dateTimeToString(date); //=&gt; &#x27;04-02-01T12:12:12-0600&#x27;
patio.dateTimeToString(dateTime); //=&gt; &#x27;04-02-01T12:12:12-0600&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the datetime to covert to to a string.</li>
    
        <li> <em>format</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the date string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   return date.format(comb.isInstanceOf(dt, SQL.DateTime) ? dt.date : dt, format || this.dateTimeFormat);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_dateToString"></a>
    <h3>
        dateToString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a date to a string.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var date = new Date(2004, 1, 1),
timeStamp = new sql.TimeStamp(2004, 1, 1, 12, 12, 12),
dateTime = new sql.DateTime(2004, 1, 1, 12, 12, 12),
year = new sql.Year(2004),
time = new sql.Time(12,12,12),

//convert years
patio.dateToString(year); //=&gt; &#x27;2004&#x27;
patio.yearFormat = &quot;yy&quot;;
patio.dateToString(year); //=&gt; &#x27;04&#x27;
patio.yearFormat = patio.DEFAULT_YEAR_FORMAT;
patio.dateToString(year); //=&gt; &#x27;2004&#x27;

//convert times
patio.dateToString(time); //=&gt; &#x27;12:12:12&#x27;

//convert dates
patio.dateToString(date); //=&gt; &#x27;2004-02-01&#x27;
patio.dateFormat = patio.TWO_YEAR_DATE_FORMAT;
patio.dateToString(date); //=&gt; &#x27;04-02-01&#x27;
patio.dateFormat = patio.DEFAULT_DATE_FORMAT;
patio.dateToString(date); //=&gt; &#x27;2004-02-01&#x27;

//convert dateTime
patio.dateToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12&#x27;
patio.dateTimeFormat = patio.DATETIME_TWO_YEAR_FORMAT;
patio.dateToString(dateTime); //=&gt; &#x27;04-02-01 12:12:12&#x27;
patio.dateTimeFormat = patio.DATETIME_FORMAT_TZ;
patio.dateToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12-0600&#x27;
patio.dateTimeFormat = patio.ISO_8601;
patio.dateToString(dateTime); //=&gt; &#x27;2004-02-01T12:12:12-0600&#x27;
patio.dateTimeFormat = patio.ISO_8601_TWO_YEAR;
patio.dateToString(dateTime); //=&gt; &#x27;04-02-01T12:12:12-0600&#x27;
patio.dateTimeFormat = patio.DEFAULT_DATETIME_FORMAT;
patio.dateToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12&#x27;

//convert timestamps
patio.dateToString(timeStamp); //=&gt; &#x27;2004-02-01 12:12:12&#x27;
patio.timeStampFormat = patio.TIMESTAMP_TWO_YEAR_FORMAT;
patio.dateToString(timeStamp); //=&gt; &#x27;04-02-01 12:12:12&#x27;
patio.timeStampFormat = patio.TIMESTAMP_FORMAT_TZ;
patio.dateToString(timeStamp); //=&gt; &#x27;2004-02-01 12:12:12-0600&#x27;
patio.timeStampFormat = patio.ISO_8601;
patio.dateToString(timeStamp); //=&gt; &#x27;2004-02-01T12:12:12-0600&#x27;
patio.timeStampFormat = patio.ISO_8601_TWO_YEAR;
patio.dateToString(timeStamp); //=&gt; &#x27;04-02-01T12:12:12-0600&#x27;
patio.timeStampFormat = patio.DEFAULT_TIMESTAMP_FORMAT;
patio.dateToString(timeStamp); //=&gt; &#x27;2004-02-01 12:12:12&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the date to covert to to a string.</li>
    
        <li> <em>format</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the date string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   var ret = &quot;&quot;;
   if (comb.isInstanceOf(dt, SQL.Time)) {
     ret = this.timeToString(dt, format);
   } else if (comb.isInstanceOf(dt, SQL.Year)) {
     ret = this.yearToString(dt, format);
   } else if (comb.isInstanceOf(dt, SQL.DateTime)) {
     ret = this.dateTimeToString(dt, format);
   } else if (comb.isInstanceOf(dt, SQL.TimeStamp)) {
     ret = this.timeStampToString(dt, format);
   } else if (comb.isDate(dt)) {
     ret = date.format(dt, format || this.dateFormat);
   }
   return ret;
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_stringToDate"></a>
    <h3>
        stringToDate
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a date string to a Date

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var date = new Date(2004, 1,1,0,0,0);
patio.stringToDate(&#x27;2004-02-01&#x27;); //=&gt; date

patio.dateFormat = patio.TWO_YEAR_DATE_FORMAT;
patio.stringToDate(&#x27;04-02-01&#x27;); //=&gt; date
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the string to convert to a Date</li>
    
        <li> <em>[format=time.dateFormat]</em>  : the format to use when converting the date.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Date</code> the <a href='#Date'>Date</a></li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>PatioError</code> thrown if the conversion fails.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   var ret;
   if (this.convertTwoDigitYears) {
     ret = date.parse(dt, this.TWO_YEAR_DATE_FORMAT);
   }
   if (!ret) {
     ret = date.parse(dt, format || this.dateFormat);
   }
   if (!ret) {
     throw new PatioError(&quot;Unable to convert date: &quot; + dt);
   }
   return ret;
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_stringToDateTime"></a>
    <h3>
        stringToDateTime
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a datetime date string to a <a href='#sql_DateTime'>sql.DateTime</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var dateTime = new sql.DateTime(2004, 1, 1, 12, 12, 12),
offset = getTimeZoneOffset();
patio.stringToDateTime(&#x27;2004-02-01 12:12:12&#x27;); //=&gt; dateTime

patio.dateTimeFormat = patio.DATETIME_TWO_YEAR_FORMAT;
patio.stringToDateTime(&#x27;04-02-01 12:12:12-0600&#x27;); //=&gt; dateTime

patio.dateTimeFormat = patio.DATETIME_FORMAT_TZ;
patio.stringToDateTime(&#x27;2004-02-01 12:12:12-0600&#x27;); //=&gt; dateTime

patio.dateTimeFormat = patio.ISO_8601;
patio.stringToDateTime(&#x27;2004-02-01T12:12:12-0600&#x27;); //=&gt; dateTime

patio.dateTimeFormat = patio.ISO_8601_TWO_YEAR;
patio.stringToDateTime(&#x27;04-02-01T12:12:12-0600&#x27;); //=&gt; dateTime
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the string to convert to a <a href='#sql_DateTime'>sql.DateTime</a></li>
    
        <li> <em>fmt</em>  : </li>
    
        <li> <em>[format=time.dateTimeFormat]</em> <code>String</code> : the format to use when converting the date.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>sql.DateTime</code> the <a href='#sql_DateTime'>sql.DateTime</a></li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>PatioError</code> thrown if the conversion fails.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,fmt){
   var useT = dt.indexOf(&quot;T&quot;) != -1;
   //test if there is a T in the string so we can try to properly convert it
   var format = fmt ? fmt : useT ? this.ISO_8601 : this.DEFAULT_DATETIME_FORMAT;
   var ret = date.parse(dt, format);
   //if the coversion failed try it with a time zone
   !ret &amp;&amp; (ret = date.parse(dt, this.DATETIME_FORMAT_TZ));
   if (!ret &amp;&amp; this.convertTwoDigitYears) {
     //if we still fail and we need to convert two digit years try the twoYearFormat
     var twoYearFormat = fmt ? fmt : useT ? this.ISO_8601_TWO_YEAR : this.DATETIME_TWO_YEAR_FORMAT;
     ret = date.parse(dt, twoYearFormat);
     //try with time zone
     !ret &amp;&amp; (ret = date.parse(dt, twoYearFormat + &quot;Z&quot;));
   }
   if (!ret) {
     throw new PatioError(&quot;Unable to convert datetime: &quot; + dt);
   }
   return new SQL.DateTime(ret);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_stringToTime"></a>
    <h3>
        stringToTime
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a time date string to a <a href='#sql_Time'>sql.Time</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var time = new sql.Time(12,12,12);
patio.stringToTime(&quot;12:12:12&quot;); //=&gt; time
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the string to convert to a <a href='#sql_Time'>sql.Time</a></li>
    
        <li> <em>[format=time.timeFormat]</em>  : the format to use when converting the date.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>sql.Time</code> the <a href='#sql_Time'>sql.Time</a></li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>PatioError</code> thrown if the conversion fails.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   var ret = date.parse(dt, format || this.timeFormat);
   if (!ret) {
     throw new PatioError(&quot;Unable to convert time: &quot; + dt);
   }
   return new SQL.Time(ret);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_stringToTimeStamp"></a>
    <h3>
        stringToTimeStamp
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a timestamp date string to a <a href='#sql_TimeStamp'>sql.TimeStamp</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var timeStamp = new sql.TimeStamp(2004, 1, 1, 12, 12, 12);
patio.stringToTimeStamp(&#x27;2004-02-01 12:12:12&#x27;); //=&gt; timeStamp

patio.timeStampFormat = patio.TIMESTAMP_TWO_YEAR_FORMAT;
patio.stringToTimeStamp(&#x27;04-02-01 12:12:12-0600&#x27;); //=&gt; timeStamp

patio.timeStampFormat = patio.TIMESTAMP_FORMAT_TZ;
patio.stringToTimeStamp(&#x27;2004-02-01 12:12:12-0600&#x27;); //=&gt; timeStamp

patio.timeStampFormat = patio.ISO_8601;
patio.stringToTimeStamp(&#x27;2004-02-01T12:12:12-0600&#x27;); //=&gt; timeStamp

patio.timeStampFormat = patio.ISO_8601_TWO_YEAR;
patio.stringToTimeStamp(&#x27;04-02-01T12:12:12-0600&#x27;); //=&gt; timeStamp
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the string to convert to a <a href='#sql_TimeStamp'>sql.TimeStamp</a></li>
    
        <li> <em>fmt</em>  : </li>
    
        <li> <em>[format=time.timeStampFormat]</em> <code>String</code> : the format to use when converting the date.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>sql.TimeStamp</code> the <a href='#sql_TimeStamp'>sql.TimeStamp</a></li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>PatioError</code> thrown if the conversion fails.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,fmt){
   var useT = dt.indexOf(&quot;T&quot;) != -1;
   //test if there is a T in the string so we can try to properly convert it
   var format = fmt ? fmt : useT ? this.ISO_8601 : this.DEFAULT_TIME_FORMAT;
   var ret = date.parse(dt, format);
   //if the coversion failed try it with a time zone
   !ret &amp;&amp; (ret = date.parse(dt, this.TIMESTAMP_FORMAT_TZ));
   if (!ret &amp;&amp; this.convertTwoDigitYears) {
     //if we still fail and we need to convert two digit years try the twoYearFormat
     var twoYearFormat = fmt ? fmt : useT ? this.ISO_8601_TWO_YEAR : this.TIMESTAMP_TWO_YEAR_FORMAT;
     ret = date.parse(dt, twoYearFormat);
     //try with time zone
     !ret &amp;&amp; (ret = date.parse(dt, twoYearFormat + &quot;Z&quot;));
   }
   if (!ret) {
     throw new PatioError(&quot;Unable to convert timestamp: &quot; + dt);
   }
   return new SQL.TimeStamp(ret);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_stringToYear"></a>
    <h3>
        stringToYear
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a year date string to a <a href='#sql_Year'>sql.Year</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var year = new sql.Year(2004);
patio.stringToYear(&quot;2004&quot;); //=&gt; year
patio.yearFormat = &quot;yy&quot;;
patio.stringToYear(&quot;04&quot;); //=&gt; year
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the string to covert to a <a href='#sql_Year'>sql.Year</a></li>
    
        <li> <em>[format=time.yearFormat]</em>  : the format to use when converting the date.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>sql.Year</code> the <a href='#sql_Year'>sql.Year</a></li>
    
    </ul>


    <em>Throws</em>
    <ul>
    
        <li> <code>PatioError</code> thrown if the conversion fails.</li>
    
    </ul>


    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   var ret = date.parse(dt, format || this.yearFormat);
   if (!ret) {
     throw new PatioError(&quot;Unable to convert year: &quot; + dt);
   }
   return new SQL.Year(ret);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_timeStampToString"></a>
    <h3>
        timeStampToString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a <a href='#sql_TimeStamp'>sql.TimeStamp</a> to a string.
The format used is <a href='#time_timeStampFormat'>time.timeStampFormat</a>,
which defaults to <a href='#time_DEFAULT_TIMESTAMP_FORMAT'>time.DEFAULT_TIMESTAMP_FORMAT</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var date = new Date(2004, 1, 1, 12, 12, 12),
dateTime = new sql.TimeStamp(2004, 1, 1, 12, 12, 12),
offset = &quot;-0600&quot;;
patio.timeStampToString(date); //=&gt; &#x27;2004-02-01 12:12:12&#x27;
patio.timeStampToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12&#x27;

patio.timeStampFormat = patio.TIMESTAMP_TWO_YEAR_FORMAT;
patio.timeStampToString(date); //=&gt; &#x27;04-02-01 12:12:12&#x27;
patio.timeStampToString(dateTime); //=&gt; &#x27;04-02-01 12:12:12&#x27;

patio.timeStampFormat = patio.TIMESTAMP_FORMAT_TZ;
patio.timeStampToString(date); //=&gt; &#x27;2004-02-01 12:12:12-0600&#x27;
patio.timeStampToString(dateTime); //=&gt; &#x27;2004-02-01 12:12:12-0600&#x27;

patio.timeStamp = patio.ISO_8601;
patio.timeStampToString(date); //=&gt; &#x27;2004-02-01T12:12:12-0600&#x27;
patio.timeStampToString(dateTime); //=&gt; &#x27;2004-02-01T12:12:12-0600&#x27;

patio.timeStamp = patio.ISO_8601_TWO_YEAR;
patio.timeStampToString(date); //=&gt; &#x27;04-02-01T12:12:12-0600&#x27;
patio.timeStampToString(dateTime); //=&gt; &#x27;04-02-01T12:12:12-0600&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the timestamp to convert to to a string.</li>
    
        <li> <em>format</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the date string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   return date.format(comb.isInstanceOf(dt, SQL.TimeStamp) ? dt.date : dt, format || this.timeStampFormat);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_timeToString"></a>
    <h3>
        timeToString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a <a href='#sql_Time'>sql.Time</a> to a string.
The format used is <a href='#time_timeFormat'>time.timeFormat</a>,
which defaults to <a href='#time_DEFAULT_TIME_FORMAT'>time.DEFAULT_TIME_FORMAT</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var date =  new Date(null, null, null, 13, 12, 12),
    time = new sql.Time(13,12,12);
patio.timeToString(date); //=&gt; &#x27;13:12:12&#x27;
patio.timeToString(time); //=&gt; &#x27;13:12:12&#x27;
patio.timeFormat = &quot;hh:mm:ss&quot;;
patio.timeToString(date); //=&gt; &#x27;01:12:12&#x27;
patio.timeToString(time); //=&gt; &#x27;01:12:12&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the time to covert to to a string.</li>
    
        <li> <em>format</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the date string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   return date.format(comb.isInstanceOf(dt, SQL.Time) ? dt.date : dt, format || this.timeFormat);
       
}
    </pre>
    


  
    <a name="patio_Time_prototype_yearToString"></a>
    <h3>
        yearToString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined time.js</em>

<p>
Converts a <a href='#sql_Year'>sql.Year</a> to a string.
The format used is <a href='#time_yearFormat'>time.yearFormat</a>,
which defaults to <a href='#time_DEFAULT_YEAR_FORMAT'>time.DEFAULT_YEAR_FORMAT</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var date = new Date(2004, 1, 1, 1, 1, 1),
    year = new sql.Year(2004);
patio.yearToString(date); //=&gt; &#x27;2004&#x27;
patio.yearToString(year); //=&gt; &#x27;2004&#x27;
patio.yearFormat = &quot;yy&quot;;
patio.yearToString(date); //=&gt; &#x27;04&#x27;
patio.yearToString(year); //=&gt; &#x27;04&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>dt</em>  : the year to covert to to a string.</li>
    
        <li> <em>format</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> the date string.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (dt,format){
   return date.format(comb.isInstanceOf(dt, SQL.Year) ? dt.date : dt, format || this.yearFormat);
       
}
    </pre>
    


  

    <a name="patio_associations_Association"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.associations.Association
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_associations_Association_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_associations_Association_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_associations_Association_prototype__filter">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _filter

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__getter">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _getter

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__postLoad">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _postLoad

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__postRemove">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _postRemove

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__postSave">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _postSave

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__postUpdate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _postUpdate

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__preLoad">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _preLoad

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__preRemove">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _preRemove

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__preSave">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _preSave

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__preUpdate">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _preUpdate

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype__setter">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _setter

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype_inject">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                inject

                                </a></li>
                                
                                <li><a href="#patio_associations_Association_prototype_isEager">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isEager

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Base class for all associations.

</br>
<b>NOT to be instantiated directly</b>
Its just documented for reference.</p>
    

    

    
    
        <a name="patio_associations_Association_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>_fetchMethod</td><td>property</td><td><code>"all"</code></td><td>

Method to call to look up association,
called after the model has been filtered
</td><tr><tr><td>fetchType</td><td>property</td><td><code>fetch.LAZY</code></td><td>
Fetch type
         </td><tr><tr><td>filter</td><td>property</td><td><code>null</code></td><td>Our filter method</td><tr><tr><td>model</td><td></td><td></td><td>the model associatied with this association.</td><tr><tr><td>orderBy</td><td>property</td><td><code>null</code></td><td>how to order our association</td><tr></table>
    

    <a name="patio_associations_Association_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined associations/_Association.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>options</em> <code>Object</code> : </li>
        
            <li> <em>options.model</em> <code>String</code> : a string to look up the model that we are associated with</li>
        
            <li> <em>options.filter</em> <code>Function</code> : a callback to find association if a filter is defined then                                    the association is read only</li>
        
            <li> <em>options.key</em> <code>Object</code> : object with left key and right key</li>
        
            <li> <em>options.orderBy&lt;String|Object&gt;</em> <code>String|Object</code> : - how to order our association</li>
        
            <li> <em>options.fetchType</em> <code>fetch.EAGER|fetch.LAZY</code> : the fetch type of the model if fetch.Eager is supplied then                                    the associations are automatically filled, if fetch.Lazy is supplied                                    then a promise is returned and is called back with the loaded models</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
exports = comb.define(comb.plugins.Middleware, {
            </pre>
      
    

  
  
    <a name="patio_associations_Association_prototype__filter"></a>
    <h3>
        _filter
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Filters our associated dataset to load our association.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>parent</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Dataset</code> the dataset with all filters applied.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (parent){
   var options = this.__opts || {};
   var ds;
   if (!comb.isUndefined((ds = options.dataset)) &amp;&amp; comb.isFunction(ds)) {
       ds = ds.apply(parent, [parent]);
   }
   if (!ds) {
       var q = {};
       this._setAssociationKeys(parent, q);
       ds = this.model.dataset.naked().filter(q);
       var recip = this.model._findAssociation(this);
       recip &amp;&amp; (recip = recip[1]);
       ds.rowCb = comb.hitch(this, function (item) {
           var ret = new comb.Promise();
           var model = this._toModel(item, true);
           recip &amp;&amp; recip.__setValue(model, parent);
           //call hook to finish other model associations
           model._hook(&quot;post&quot;, &quot;load&quot;).then(hitch(this, function () {
               ret.callback(model);
           }), hitch(ret, &quot;errback&quot;));
           return ret;
       });
   }
   return this._setDatasetOptions(ds);
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__getter"></a>
    <h3>
        _getter
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Alias used to explicitly get an association on a model.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (model){
   //if we have them return them;
   if (this.associationLoaded(model)) {
       var assoc = this.getAssociation(model);
       return this.isEager() ? assoc : new Promise().callback(assoc);
   } else if (model.isNew) {
       return null;
   } else {
       return this.fetch(model);
   }
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__postLoad"></a>
    <h3>
        _postLoad
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called after a model is loaded.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__postRemove"></a>
    <h3>
        _postRemove
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called aft era model is removed.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__postSave"></a>
    <h3>
        _postSave
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called after a model is saved.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__postUpdate"></a>
    <h3>
        _postUpdate
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called before a model is updated.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__preLoad"></a>
    <h3>
        _preLoad
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called before a model is loaded.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__preRemove"></a>
    <h3>
        _preRemove
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called before a model is removed.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being acted up.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   if (this.isOwner &amp;&amp; !this.isCascading) {
       var q = {};
       this._setAssociationKeys(model, q, null);
       model[this.associatedDatasetName].update(q).then(next, function (e) {
           throw e;
       });
   } else {
       next();
   }
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__preSave"></a>
    <h3>
        _preSave
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called before a model is saved.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__preUpdate"></a>
    <h3>
        _preUpdate
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Middleware called before a model is updated.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   next();
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype__setter"></a>
    <h3>
        _setter
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Alias used to explicitly set an association on a model.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>val</em>  : the value to set the association to</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being called.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (val,model){
   model.__associations[this.name] = val;
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype_inject"></a>
    <h3>
        inject
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
Method to inject functionality into a model. This method alters the model
to prepare it for associations, and initializes all required middleware calls
to fulfill requirements needed to loaded the associations.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>parent</em>  : the model that is having an associtaion set on it.</li>
    
        <li> <em>name</em>  : the name of the association.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (parent,name){
   this.name = name;
   var self = this;
   this.parent = parent;
   parent.prototype.__defineGetter__(name, function () {
       return  self._getter(this);
   });
   parent.prototype.__defineGetter__(this.associatedDatasetName, function () {
       return  self._filter(this);
   });
   if (!this.readOnly &amp;&amp; this.createSetter) {
       //define a setter because we arent read only
       parent.prototype.__defineSetter__(name, function (vals) {
           self._setter(vals, this);
       });
   }
   //set up all callbacks
   [&quot;pre&quot;, &quot;post&quot;].forEach(function (op) {
       [&quot;save&quot;, &quot;update&quot;, &quot;remove&quot;, &quot;load&quot;].forEach(function (type) {
           parent[op](type, function (next) {
               return self[&quot;_&quot; + op + type.charAt(0).toUpperCase() + type.slice(1)](next, this);
           });
       }, this);
   }, this);
           
}
    </pre>
    


  
    <a name="patio_associations_Association_prototype_isEager"></a>
    <h3>
        isEager
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined associations/_Association.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>Boolean</code> true if the association is eager.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return this.fetchType == fetch.EAGER;
           
}
    </pre>
    


  

    <a name="patio_associations_ManyToMany"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.associations.ManyToMany
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_associations_ManyToMany_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_associations_ManyToMany_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Class to define a manyToMany association.

</br>
<b>NOT to be instantiated directly</b>
Its just documented for reference.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_associations_OneToMany">patio.associations.OneToMany</a></li>
            
        </ul>
    

    
    
        <a name="patio_associations_ManyToMany_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>joinTable</td><td></td><td></td><td>the join table used in the relation.</td><tr></table>
    

    <a name="patio_associations_ManyToMany_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined associations/manyToMany.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>options.joinTable</em> <code>String</code> : the joinTable of the association.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
exports = comb.define(OneToMany, {
            </pre>
      
    

  
  

    <a name="patio_associations_ManyToOne"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.associations.ManyToOne
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_associations_ManyToOne_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Class to define a many to one association.

</br>
<b>NOT to be instantiated directly</b>
Its just documented for reference.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_associations_Association">patio.associations.Association</a></li>
            
        </ul>
    

    
    

    <a name="patio_associations_ManyToOne_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined associations/manyToOne.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
exports = comb.define(_Association, {
            </pre>
      
    

  
  

    <a name="patio_associations_ManyToOne"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.associations.ManyToOne
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_associations_ManyToOne_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Class to define a manyToOne association.

</br>
<b>NOT to be instantiated directly</b>
Its just documented for reference.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_associations_ManyToOne">patio.associations.ManyToOne</a></li>
            
        </ul>
    

    
    

    <a name="patio_associations_ManyToOne_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined associations/oneToOne.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
exports = comb.define(ManyToOne, {
            </pre>
      
    

  
  

    <a name="patio_associations_OneToMany"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.associations.OneToMany
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_associations_OneToMany_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_associations_OneToMany_prototype__preRemove">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                _preRemove

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Class to define a one to many association.

</br>
<b>NOT to be instantiated directly</b>
Its just documented for reference.

Adds the following methods to each model.
<ul>
 <li>add{ModelName} - add an association</li>
 <li>add{comb.pluralize(ModelName)} - add multiple associations</li>
 <li>remove{ModelName} - remove an association</li>
 <li>remove{comb.pluralize(ModelName)} - remove multiple association</li>
 <li>removeAll - removes all associations of this type</li>
 </ul></p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_associations_Association">patio.associations.Association</a></li>
            
        </ul>
    

    
    

    <a name="patio_associations_OneToMany_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined associations/oneToMany.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
exports = comb.define(_Association, {
            </pre>
      
    

  
  
    <a name="patio_associations_OneToMany_prototype__preRemove"></a>
    <h3>
        _preRemove
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined associations/oneToMany.js</em>

<p>
Middleware called before a model is removed.
</br>
<b> This is called in the scope of the model</b>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>next</em>  : function to pass control up the middleware stack.</li>
    
        <li> <em>model</em>  : </li>
    
        <li> <em>self</em> <code>_Association</code> : reference to the Association that is being acted up.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (next,model){
   this.removeAllItems(model).both(next);
           
}
    </pre>
    


  

    <a name="patio_dataset__Query"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.dataset._Query
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_dataset__Query_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_dataset__Query_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Dataset mixin that provides functions to the <a href='#patio_dataset_Dataset'>patio.dataset.Dataset</a> to
create SELECT, UPDATE, CREATE, and DELETE SQL statements, based off of the the
methods invoked in the <a href='#patio_dataset__Query'>patio.dataset._Query</a>
mixin. This class should not be used directly by

</p>
    

    

    
    
        <a name="patio_dataset__Query_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>deleteSql</td><td></td><td></td><td>DELETE SQL query string.  See <a href='#patio_dataset__Actions_prototype_delete'>patio.dataset._Actions#delete</a>.       <pre class="code">       dataset.filter(function(){           return this.price.gte(100);       }).deleteSql;           // => "DELETE FROM items WHERE (price >= 100)"      </pre></td><tr><tr><td>exists</td><td></td><td></td><td>Returns an EXISTS clause for the dataset as a <a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a>.       <pre class="code">        var ds = DB.from("test");       ds.filter(ds.filter(sql.price.lt(100))).exists()).sql;              //=> 'SELECT * FROM test WHERE (EXISTS (SELECT * FROM test WHERE (price < 100)))'       </pre></td><tr><tr><td>selectSql</td><td></td><td></td><td>Returns a SELECT SQL query string.       <pre class="code">        DB.from("items").selectSql;              //=> "SELECT * FROM items"      </pre></td><tr><tr><td>sql</td><td></td><td></td><td>Readonly property that returns a SELECT statement.</td><tr><tr><td>truncateSql</td><td></td><td></td><td>Returns a TRUNCATE SQL query string.  See <a href='#patio_dataset__Actions_prototype_truncate'>patio.dataset._Actions#truncate</a>       <pre class="code">        DB.from("items").truncateSql();              //=> 'TRUNCATE items'      </pre></td><tr></table>
    

    <a name="patio_dataset__Query_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined dataset/sql.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (){
   //We initialize these here because otherwise
   //the will be blank because of recursive dependencies.
   !patio &amp;&amp; (patio = require(&quot;../index&quot;));
   !Dataset &amp;&amp; (Dataset = patio.Dataset);
   this._super(arguments);
           
}
            </pre>
      
    

  
  

    <a name="patio_migrations_IntegerMigrator"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.migrations.IntegerMigrator
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_migrations_IntegerMigrator_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Migrator that uses the file format {migrationName}.{version}.js, where version starts at 0.
<b>Missing migrations are not allowed</b></p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_migrations_Migrator">patio.migrations.Migrator</a></li>
            
        </ul>
    

    
    

    <a name="patio_migrations_IntegerMigrator_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined migration.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
comb.define(Migrator, {
            </pre>
      
    

  
  

    <a name="patio_migrations_Migrator"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.migrations.Migrator
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_migrations_Migrator_constructor">Constructor</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_migrations_Migrator_run">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                run
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_migrations_Migrator_prototype_run">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                run

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Abstract Migrator class. This class should be be instantiated directly.

</p>
    

    

    
    

    <a name="patio_migrations_Migrator_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined migration.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>db</em>  : the database to migrate</li>
        
            <li> <em>directory</em>  : directory that the migration files reside in</li>
        
            <li> <em>[opts={}]</em>  : optional parameters.</li>
        
            <li> <em>opts.column?</em> <code>String</code> : the column in the table that version information should be stored.</li>
        
            <li> <em>opts.table?</em> <code>String</code> : the table that version information should be stored.</li>
        
            <li> <em>opts.target?</em> <code>Number</code> : the target migration(i.e the migration to migrate up/down to).</li>
        
            <li> <em>opts.current?</em> <code>String</code> : the version that the database is currently at if the current version</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (db,directory,opts){
   this.db = db;
   this.directory = directory;
   opts = opts || {};
   this.table = opts.table || this._static.DEFAULT_SCHEMA_TABLE;
   this.column = opts.column || this._static.DEFAULT_SCHEMA_COLUMN;
   this._opts = opts;
           
}
            </pre>
      
    

  
    <a name="patio_migrations_Migrator_run"></a>
    <h3>
        run
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined migration.js</em>

<p>
Migrates the database using migration files found in the supplied directory.
See <a href='#patio_prototype_migrate'>patio#migrate</a>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
var DB = patio.connect(&quot;my://connection/string&quot;);
patio. migrate(DB, __dirname + &quot;/timestamp_migration&quot;).then(function(){
    console.log(&quot;done migrating!&quot;);
});

patio. migrate(DB, __dirname + &quot;/timestamp_migration&quot;, {target : 0}).then(function(){
    console.log(&quot;done migrating down!&quot;);
});
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>db</em>  : the database to migrate</li>
    
        <li> <em>directory</em>  : directory that the migration files reside in</li>
    
        <li> <em>[opts={}]</em>  : optional parameters.</li>
    
        <li> <em>cb</em>  : </li>
    
        <li> <em>opts.column?</em> <code>String</code> : the column in the table that version information should be stored.</li>
    
        <li> <em>opts.table?</em> <code>String</code> : the table that version information should be stored.</li>
    
        <li> <em>opts.target?</em> <code>Number</code> : the target migration(i.e the migration to migrate up/down to).</li>
    
        <li> <em>opts.current?</em> <code>String</code> : the version that the database is currently at if the current version
is not provided it is retrieved from the database.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Promise</code> a promise that is resolved once the migration is complete.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (db,directory,opts,cb){
   if(comb.isFunction(opts)){
       cb = opts;
       opts = {};
   }else{
       opts = opts || {};
   }
   opts = opts || {};
   var ret = new Promise();
   this.__getMigrator(directory).then(function(migrator){
       new migrator(db, directory, opts).run().then(hitch(ret, &quot;callback&quot;), hitch(ret, &quot;errback&quot;));
   }, hitch(ret, &quot;errback&quot;));
   ret.classic(cb);
   return ret;
           
}
    </pre>
    


  
  
    <a name="patio_migrations_Migrator_prototype_run"></a>
    <h3>
        run
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined migration.js</em>

<p>
Runs the migration and returns a promise.
         </p>





    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   throw new NotImplemented(&quot;patio.migrations.Migrator#run&quot;);
           
}
    </pre>
    


  

    <a name="patio_migrations_TimestampMigrator"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.migrations.TimestampMigrator
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_migrations_TimestampMigrator_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Migrator that uses the file format {migrationName}.{timestamp}.js, where the timestamp
can be anything greater than 20000101.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_migrations_Migrator">patio.migrations.Migrator</a></li>
            
        </ul>
    

    
    

    <a name="patio_migrations_TimestampMigrator_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined migration.js</em>
    
    
    

  
  

    <a name="patio_plugins_CachePlugin"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.plugins.CachePlugin
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_plugins_CachePlugin_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Adds in memory caching support for models.</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.CachePlugin];
});

//NOW IT WILL CACHE
            </pre>
    

    

    
    

    <a name="patio_plugins_CachePlugin_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined plugins/cache.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
comb.define(null, {
            </pre>
      
    

  
  

    <a name="patio_plugins_ClassTableInheritancePlugin"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.plugins.ClassTableInheritancePlugin
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_plugins_ClassTableInheritancePlugin_constructor">Constructor</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_plugins_ClassTableInheritancePlugin_configure">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                configure
                                </a></li>
                                
                                <li><a href="#patio_plugins_ClassTableInheritancePlugin_inherits">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                inherits
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This plugin enables
<a href="http://www.martinfowler.com/eaaCatalog/classTableInheritance.html" target="patioapi">
    class table inheritance
</a>.

<div>
    Consider the following table model.
    <pre class="code">
         employee
           - id
           - name (varchar)
           - kind (varchar)
    /                          \
staff                        manager
  - id (fk employee)           - id (fk employee)
  - manager_id (fk manger)     - numStaff (number)
                                |
                             executive
                               - id (fk manager)
    </pre>
 <ul>
     <li><b>employee</b>: This is the parent table of all employee instances.</li>
     <li><b>staff</b>: Table that inherits from employee where and represents.</li>
     <li><b>manager</b>: Another subclass of employee.</li>
     <li><b>executive</b>: Subclass of manager that also inherits from employee through inhertiance</li>
 </ul>
<p>
When setting up you tables the parent table should contain a String column that contains the "kind" of class it is.
(i.e. employee, staff, manager, executive). This allows the plugin to return the proper instance type when querying
the tables.
</p>
<p>
    All other tables that inherit from employee should contain a foreign key to their direct super class that is the
    same name as the primary key of the parent table(<b>employee</b>). So, in the
    above example <b>staff</b> and <b>manager</b> both contain foreign keys to employee and <b>executive</b> contains
    a foreign key to <b>manager</b> and they are all named <b>id</b>.
</p>
</div>

To set up you models the base super class should contain the ClassTableInheritancePlugin

<pre class="code">
patio.addModel("employee", {
     plugins : [patio.plugins.ClassTableInheritancePlugin],
     static:{
         init:function () {
             this._super(arguments);
             this.configure({key : "kind"});
         }
     }
 });
</pre>
All sub classes should just inherit their super class
<pre class="code">
var Employee = patio.getModel("employee");
 patio.addModel("staff", Employee, {
     static:{
         init:function () {
             this._super(arguments);
             this.manyToOne("manager", {key : "managerId", fetchType : this.fetchType.EAGER});
         }
     }
});
patio.addModel("manager", Employee, {
     static:{
         init:function () {
             this._super(arguments);
             this.oneToMany("staff", {key : "managerId", fetchType : this.fetchType.EAGER});
         }
     }
});

</pre>
Executive inherits from manager, and through inheritance will also receive the oneToMany relationship with staff
<pre class="code">
var Manager = patio.getModel("manager");
patio.addModel("executive",  Manager);
</pre>

Working with models

<pre class="code">
comb.when(
    new Employee({name:"Bob"}).save(),
    new Staff({name:"Greg"}).save(),
    new Manager({name:"Jane"}).save(),
    new Executive({name:"Sue"}).save()
).then(function(){
     Employee.all().then(function(emps){
         var bob = emps[0], greg = emps[1], jane = emps[2], sue = emps[3];
         console.log(bob instanceof Employee); //true
         console.log(greg instanceof Employee);  //true
         console.log(greg instanceof Staff);  //true
         console.log(jane instanceof Employee);  //true
         console.log(jane instanceof Manager);  //true
         console.log(sue instanceof Employee);  //true
         console.log(sue instanceof Manager);  //true
         console.log(sue instanceof Executive);  //true
     });
});
</pre></p>
    

    

    
    

    <a name="patio_plugins_ClassTableInheritancePlugin_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined plugins/inheritance.js</em>
    
    
    

  
    <a name="patio_plugins_ClassTableInheritancePlugin_configure"></a>
    <h3>
        configure
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/inheritance.js</em>

<p>
Configures the plugins with the provided options. <b>Note:</b> This should only be called in the
initial parent class.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>opts?</em>  : Additional options to configure behavior of the plugin</li>
    
        <li> <em>[opts.key=&quot;key&quot;]</em> <code>String</code> : the column in the base table that contains the name of the subclass.</li>
    
        <li> <em>opts.keyCb?</em> <code>Funciton</code> : A callback to invoke on on the key returned from the database. This is useful
if you are working with other orms that save the keys differently.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (opts){
   this.__configureOpts = opts;
           
}
    </pre>
    


  
    <a name="patio_plugins_ClassTableInheritancePlugin_inherits"></a>
    <h3>
        inherits
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/inheritance.js</em>

<p>
<b>Not typically called by user code</b>. Sets up subclass inheritance.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>model</em>  : model that this class is inheriting from.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (model){
   this._super(arguments);
   var ctiKey = this.__ctiKey = model.__ctiKey;
   this.__ctiTables = model.__ctiTables.slice();
   this.__ctiModels = model.__ctiModels.slice();
   this.__ctiModels.push(this);
   this.__ctiTables.push(this.tableName);
   this.__ctiColumns = comb.merge({}, model.__ctiColumns);
   this.__ctiColumns[this.tableName] = this.columns;
   this.__ctiBaseModel = model.__ctiBaseModel;
   //copy over our schema
   var newSchema = comb.merge({}, this.__schema);
   var schemas = model.__ctiModels.map(
       function (m) {
           return m.schema;
       }).reverse();
   schemas.forEach(function (s) {
       for (var i in s) {
           newSchema[i] = s[i];
       }
   }, this);
   this._setSchema(newSchema);
   this._setDataset(model.dataset.join(this.tableName, this.primaryKey));
   this._setPrimaryKey(this.__ctiBaseModel.primaryKey);
   this.pre(&quot;save&quot;, function (next) {
       if (ctiKey) {
           this[ctiKey] = this.tableName.toString();
       }
       next();
   });
           
}
    </pre>
    


  
  

    <a name="patio_plugins_TimeStampPlugin"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.plugins.TimeStampPlugin
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_plugins_TimeStampPlugin_constructor">Constructor</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_plugins_TimeStampPlugin_timestamp">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                timestamp
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Time stamp plugin to support creating timestamp</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
//initialize default timestamp functionality
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.TimeStampPlugin],

    static : {
        init : function(){
            this._super(&quot;arguments&quot;);
            this.timestamp();
        }
    }
});



//custom updated column
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.TimeStampPlugin],

    static : {
        init : function(){
            this._super(&quot;arguments&quot;);
            this.timestamp({updated : &quot;myUpdatedColumn&quot;});
        }
    }
});

//custom created column
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.TimeStampPlugin],

    static : {
        init : function(){
            this._super(&quot;arguments&quot;);
            this.timestamp({created : &quot;customCreatedColumn&quot;});
        }
    }
});

//set both custom columns
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.TimeStampPlugin],

    static : {
        init : function(){
            this._super(&quot;arguments&quot;);
            this.timestamp({created : &quot;customCreatedColumn&quot;, updated : &quot;myUpdatedColumn&quot;});
        }
    }
});

//Set to update the updated column when row is created
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.TimeStampPlugin],

    static : {
        init : function(){
            this._super(&quot;arguments&quot;);
            this.timestamp({updateOnCreate : true});
        }
    }
});

//Set all three options
var MyModel = patio.addModel(&quot;testTable&quot;, {
    plugins : [patio.plugins.TimeStampPlugin],

    static : {
        init : function(){
            this._super(&quot;arguments&quot;);
            this.timestamp({created : &quot;customCreatedColumn&quot;, updated : &quot;myUpdatedColumn&quot;, updateOnCreate : true});
        }
    }
});
            </pre>
    

    

    
    

    <a name="patio_plugins_TimeStampPlugin_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined plugins/timestamp.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
exports = define(null, {
            </pre>
      
    

  
    <a name="patio_plugins_TimeStampPlugin_timestamp"></a>
    <h3>
        timestamp
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined plugins/timestamp.js</em>

<p>
Adds timestamp functionality to a table.
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options?</em>  : </li>
    
        <li> <em>[options.updated=&quot;updated&quot;]</em> <code>String</code> : the name of the column to set the updated timestamp on.</li>
    
        <li> <em>[options.created=&quot;created&quot;]</em> <code>String</code> : the name of the column to set the created timestamp on</li>
    
        <li> <em>[options.updateOnCreate=false]</em> <code>Boolean</code> : Set to true to set the updated column on creation</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options){
   options = options || {};
   var updateColumn = options.updated || &quot;updated&quot;;
   var createdColumn = options.created || &quot;created&quot;;
   var updateOnCreate = options.updateOnCreate || false;
   this.pre(&quot;save&quot;, function (next) {
       this[createdColumn] = new Date();
       if (updateOnCreate) {
           this[updateColumn] = new Date();
       }
       next();
   });
   this.pre(&quot;update&quot;, function (next) {
       this[updateColumn] = new Date();
       next();
   });
   return this;
           
}
    </pre>
    


  
  

    <a name="patio_sql_AliasMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.AliasMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_AliasMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_AliasMethods_prototype_as">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                as

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Mixin to provide alias methods to an expression.</p>
    

    

    
    

    <a name="patio_sql_AliasMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
comb.define(null, {
            </pre>
      
    

  
  
    <a name="patio_sql_AliasMethods_prototype_as"></a>
    <h3>
        as
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
 Create an SQL alias <a href='#patio_sql_AliasedExpression'>patio.sql.AliasedExpression</a> of the receiving column or expression
 to the given alias.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.identifier(&quot;column&quot;).as(&quot;alias&quot;);
     //=&gt; &quot;column&quot; AS &quot;alias&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>alias</em>  : the alias to assign to the expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.AliasedExpression</code> the aliased expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (alias){
   return new AliasedExpression(this, alias);
           
}
    </pre>
    


  

    <a name="patio_sql_AliasedExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.AliasedExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_AliasedExpression_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_AliasedExpression_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_AliasedExpression_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This class reperesents an Aliased Expression

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_Expression">patio.sql.Expression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_AliasedExpression_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>alias</td><td></td><td></td><td>the alias of the expression</td><tr><tr><td>expression</td><td></td><td></td><td>the expression being aliased</td><tr></table>
    

    <a name="patio_sql_AliasedExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>expression</em>  : the expression to alias.</li>
        
            <li> <em>alias</em>  : the alias to alias the expression to.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (expression,alias){
   this.expression = expression;
   this.alias = alias;
               
}
            </pre>
      
    

  
  
    <a name="patio_sql_AliasedExpression_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the aliased expression to a string
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL alias fragment.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.aliasedExpressionSql(this);
               
}
    </pre>
    


  

    <a name="patio_sql_BitWiseMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.BitWiseMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_BitWiseMethods_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_BitWiseMethods_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Defines the bitwise methods: bitWiseAnd, bitWiseOr, exclusiveOr, leftShift, and rightShift.  These
methods are only on <a href='#patio_sql_NumericExpression'>patio.sql.NumericExpression</a></p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.a.sqlNumber.bitWiseAnd(&quot;b&quot;); //=&gt; &quot;a&quot; &amp; &quot;b&quot;
  sql.a.sqlNumber.bitWiseOr(&quot;b&quot;) //=&gt; &quot;a&quot; | &quot;b&quot;
  sql.a.sqlNumber.exclusiveOr(&quot;b&quot;) //=&gt; &quot;a&quot; ^ &quot;b&quot;
  sql.a.sqlNumber.leftShift(&quot;b&quot;) // &quot;a&quot; &lt;&lt; &quot;b&quot;
  sql.a.sqlNumber.rightShift(&quot;b&quot;) //=&gt; &quot;a&quot; &gt;&gt; &quot;b&quot;
            </pre>
    

    

    
    
        <a name="patio_sql_BitWiseMethods_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>bitWiseAnd</td><td>property</td><td><code>bitWiseMethod("bitWiseAnd")</code></td><td>
Bitwise and

</td><tr><tr><td>bitWiseOr</td><td>property</td><td><code>bitWiseMethod("bitWiseOr")</code></td><td>
Bitwise or

</td><tr><tr><td>exclusiveOr</td><td>property</td><td><code>bitWiseMethod("exclusiveOr")</code></td><td>
Exclusive Or

</td><tr><tr><td>leftShift</td><td>property</td><td><code>bitWiseMethod("leftShift")</code></td><td>
 Bitwise shift left

 </td><tr><tr><td>rightShift</td><td>property</td><td><code>bitWiseMethod("rightShift")</code></td><td>
Bitwise shift right

</td><tr></table>
    

    <a name="patio_sql_BitWiseMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  

    <a name="patio_sql_BooleanConstant"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.BooleanConstant
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_BooleanConstant_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_BooleanConstant_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents boolean constants such as NULL, NOTNULL, TRUE, and FALSE.
@auments patio.sql.Constant</p>
    

    

    
    

    <a name="patio_sql_BooleanConstant_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_BooleanConstant_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_BooleanConstant'>patio.sql.BooleanConstant</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_BooleanConstant'>patio.sql.BooleanConstant</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.booleanConstantSql(this.__constant);
           
}
    </pre>
    


  

    <a name="patio_sql_BooleanExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.BooleanExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_BooleanExpression_constructor">Constructor</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_BooleanExpression___filterObject">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                __filterObject
                                </a></li>
                                
                                <li><a href="#patio_sql_BooleanExpression_fromValuePairs">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                fromValuePairs
                                </a></li>
                                
                                <li><a href="#patio_sql_BooleanExpression_invert">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                invert
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Subclass of <a href='#patio_sql_ComplexExpression'>patio.sql.ComplexExpression</a> where the expression results
in a boolean value in SQL.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_ComplexExpression">patio.sql.ComplexExpression</a></li>
            
                <li> <a href="#patio_sql_BooleanMethods">patio.sql.BooleanMethods</a></li>
            
        </ul>
    

    
    

    <a name="patio_sql_BooleanExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
comb.define([ComplexExpression, BooleanMethods], {
            </pre>
      
    

  
    <a name="patio_sql_BooleanExpression___filterObject"></a>
    <h3>
        __filterObject
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
Dataset._filterObject({a : 1}) //=&gt; WHERE (a = 1)
 Dataset._filterObject({x : {gt : 1}}) //=&gt; WHERE (x &gt; 1)
 Dataset._filterObject({x : {gt : 1}, a : 1}) //=&gt; WHERE ((x &gt; 1) AND (a = 1))
 Dataset._filterObject({x : {like : &quot;name&quot;}}) //=&gt; WHERE (x LIKE &#x27;name&#x27;)
 Dataset._filterObject({x : {iLike : &quot;name&quot;}}) //=&gt; WHERE (x LIKE &#x27;name&#x27;)
 Dataset._filterObject({x : {between : [1,10]}}) //=&gt; WHERE ((x &gt;= 1) AND (x &lt;= 10))
 Dataset._filterObject({x : {notBetween : [1,10]}}) //=&gt; WHERE ((x &lt; 1) OR (x &gt; 10))
 Dataset._filterObject({x : {neq : 1}}) //=&gt; WHERE (x != 1)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expr</em>  : the expression we need to create an expression out of</li>
    
        <li> <em>[key=null]</em>  : the key that the hash corresponds to</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.Expression</code> an expression to use in the filter</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expr,key){
   var pairs = [], opts, newKey;
   var twoArityOperators = this.TWO_ARITY_OPERATORS;
   for (var k in expr) {
       var v = expr[k];
       if (comb.isHash(v)) { //its a hash too filter it too!
           pairs.push(this.__filterObject(v, k));
       } else if (key &amp;&amp; (twoArityOperators[k.toUpperCase()] || k.match(/between/i))) {
           //its a two arrity operator (e.g. &#x27;=&#x27;, &#x27;&gt;&#x27;)
           newKey = comb.isString(key) ? key.split(&quot;,&quot;) : [key];
           if (newKey.length &gt; 1) {
               //this represents a hash where the key represents two columns
               //(e.g. {&quot;col1,col2&quot; : 1}) =&gt; WHERE (col1 = 1 AND col2 = 1)
               pairs = pairs.concat(newKey.map(function (k) {
                   //filter each column with the expression
                   return this.__filterObject(expr, k);
               }, this));
           } else {
               newKey = [sql.stringToIdentifier(newKey[0])];
               if (k.match(/^like$/)) {
                   //its a like clause {col : {like : &quot;hello&quot;}}
                   pairs.push(StringExpression.like.apply(StringExpression, (newKey.concat(comb.isArray(v) ? v : [v]))));
               } else if (k.match(/^iLike$/)) {
                   //its a like clause {col : {iLike : &quot;hello&quot;}}
                   pairs.push(StringExpression.like.apply(StringExpression, (newKey.concat(comb.isArray(v) ? v : [v]).concat({caseInsensitive:true}))));
               } else if (k.match(/between/i)) {
                   //its a like clause {col : {between : [1,10]}}
                   var between = sql.stringToIdentifier(newKey[0]).between(v);
                   k == &quot;notBetween&quot; &amp;&amp; (between = between.not());
                   pairs.push(between);
               } else {
                   //otherwise is just a boolean expressio
                   //it its not a valid operator then we
                   //BooleanExpression with throw an error
                   pairs.push(new BooleanExpression(k, newKey[0], v));
               }
           }
       } else {
           //we&#x27;re not a twoarity operator
           //so we create a boolean expression out of it
           newKey = k.split(&quot;,&quot;);
           if (newKey.length == 1) {
               newKey = sql.stringToIdentifier(newKey[0]);
           }
           opts = [
               [newKey, v]
           ];
           pairs.push(BooleanExpression.fromValuePairs(opts));
       }
   }
   //if the total of pairs is one then we just return the first element
   //otherwise we join them all with an AND
   return pairs.length == 1 ? pairs[0] : BooleanExpression.fromArgs([&quot;AND&quot;].concat(pairs));
           
}
    </pre>
    


  
    <a name="patio_sql_BooleanExpression_fromValuePairs"></a>
    <h3>
        fromValuePairs
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Take pairs of values (e.g. a hash or array of two element arrays)
and converts it to a <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a>.  The operator and args
used depends on the case of the right (2nd) argument:

<pre class='code'>
BooleanExpression.fromValuePairs({a : [1,2,3]}) //=> a IN (1,2,3)
BooleanExpression.fromValuePairs({a : true}); // a IS TRUE;
BooleanExpression.fromValuePairs({a : /^A/i}); // a *~ '^A'
</pre>

If multiple arguments are given, they are joined with the op given (AND
by default, OR possible).  If negate is set to true,
all subexpressions are inverted before used.
<pre class='code'>
BooleanExpression.fromValuePairs({a : [1,2,3], b : true}) //=> a IN (1,2,3) AND b IS TRUE
BooleanExpression.fromValuePairs({a : [1,2,3], b : true}, "OR") //=> a IN (1,2,3) OR b IS TRUE
BooleanExpression.fromValuePairs({a : [1,2,3], b : true}, "OR", true) //=> a NOT IN (1,2,3) AND b IS NOT TRUE
</pre>
</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>a</em>  : object to convert to a <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a></li>
    
        <li> <em>[op=&quot;AND&quot;]</em>  : Boolean operator to join each subexpression with.
<pre class="code">
    BooleanExpression.fromValuePairs({a : [1,2,3], b : true}, "OR") //=> a IN (1,2,3) OR b IS TRUE
</pre></li>
    
        <li> <em>[negate=false]</em>  : set to try to invert the <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a>.
<pre class="code">
BooleanExpression.fromValuePairs({a : [1,2,3], b : true}, "OR", true) //=> a NOT IN (1,2,3) AND b IS NOT TRUE
</pre></li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> expression composed of sub expressions built from the hash.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (a,op,negate){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   op = op || &quot;AND&quot;, negate = negate || false;
   var pairArr = [];
   var isArr = comb.isArray(a) &amp;&amp; Expression.isConditionSpecifier(a);
   if (comb.isHash(a)) {
       pairArr.push(this.__filterObject(a));
   } else {
       for (var k in a) {
           var v = isArr ? a[k][1] : a[k], ret;
           k = isArr ? a[k][0] : k;
           if (comb.isArray(v) || comb.isInstanceOf(v, Dataset)) {
               k = comb.isArray(k) ? k.map(function (i) {
                   return comb.isString(i) ? sql.stringToIdentifier(i) : i
               }) : comb.isString(k) ? sql.stringToIdentifier(k) : k;
               ret = new BooleanExpression(&quot;IN&quot;, k, v);
           } else if (comb.isInstanceOf(v, NegativeBooleanConstant)) {
               ret = new BooleanExpression(&quot;ISNOT&quot;, k, v.constant);
           } else if (comb.isInstanceOf(v, BooleanConstant)) {
               ret = new BooleanExpression(&quot;IS&quot;, k, v.constant);
           } else if (comb.isNull(v) || comb.isBoolean(v)) {
               ret = new BooleanExpression(&quot;IS&quot;, k, v);
           } else if (comb.isHash(v)) {
               ret = BooleanExpression.__filterObject(v, k);
           } else if (comb.isRexExp(v)) {
               ret = StringExpression.like(sql.stringToIdentifier(k), v);
           } else {
               ret = new BooleanExpression(&quot;EQ&quot;, sql.stringToIdentifier(k), v);
           }
           negate &amp;&amp; (ret = BooleanExpression.invert(ret));
           pairArr.push(ret);
       }
   }
   //if We just have one then return the first otherwise create a new Boolean expression
   return pairArr.length == 1 ? pairArr[0] : BooleanExpression.fromArgs([op].concat(pairArr));
           
}
    </pre>
    


  
    <a name="patio_sql_BooleanExpression_invert"></a>
    <h3>
        invert
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Invert the expression, if possible.  If the expression cannot
be inverted, it throws an <a href='#patio_error_ExpressionError'>patio.error.ExpressionError</a>.  An inverted expression should match
everything that the uninverted expression did not match, and vice-versa, except for possible issues with
SQL NULL (i.e. 1 == NULL is NULL and 1 != NULL is also NULL).

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
BooleanExpression.invert(sql.a) //=&gt; NOT &quot;a&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expression</em>  : the expression to invert.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> the inverted expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expression){
   if (comb.isInstanceOf(expression, BooleanExpression)) {
       var op = expression.op, newArgs;
       if (op == &quot;AND&quot; || op == &quot;OR&quot;) {
           newArgs = [OPERTATOR_INVERSIONS[op]].concat(expression.args.map(function (arg) {
               return BooleanExpression.invert(arg);
           }));
           return BooleanExpression.fromArgs(newArgs);
       } else {
           newArgs = [OPERTATOR_INVERSIONS[op]].concat(expression.args);
           return BooleanExpression.fromArgs(newArgs);
       }
   } else if (comb.isInstanceOf(expression, StringExpression) || comb.isInstanceOf(expression, NumericExpression)) {
       throw new ExpressionError(comb.string.format(&quot;Cannot invert %4j&quot;, [expression]));
   } else {
       return new BooleanExpression(&quot;NOT&quot;, expression);
   }
           
}
    </pre>
    


  
  

    <a name="patio_sql_BooleanMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.BooleanMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_BooleanMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_BooleanMethods_prototype_and">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                and

                                </a></li>
                                
                                <li><a href="#patio_sql_BooleanMethods_prototype_not">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                not

                                </a></li>
                                
                                <li><a href="#patio_sql_BooleanMethods_prototype_or">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                or

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Defines boolean/logical AND (&), OR (|) and NOT (~) operators
that are defined on objects that can be used in a boolean context in SQL
(<a href='#patio_sql_LiteralString'>patio.sql.LiteralString</a>, and <a href='#patio_sql_GenericExpression'>patio.sql.GenericExpression</a>).</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.a.and(sql.b) //=&gt; &quot;a&quot; AND &quot;b&quot;
sql.a.or(sql.b) //=&gt; &quot;a&quot; OR &quot;b&quot;
sql.a.not() //=&gt; NOT &quot;a&quot;
            </pre>
    

    

    
    

    <a name="patio_sql_BooleanMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_BooleanMethods_prototype_and"></a>
    <h3>
        and
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.and(sql.b) //=&gt; &quot;a&quot; AND &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> a ANDed boolean expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
booleanMethod(&quot;and&quot;)
    </pre>
    


  
    <a name="patio_sql_BooleanMethods_prototype_not"></a>
    <h3>
        not
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Logical NOT

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.not() //=&gt; NOT &quot;a&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> a inverted boolean expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return BooleanExpression.invert(this);
           
}
    </pre>
    


  
    <a name="patio_sql_BooleanMethods_prototype_or"></a>
    <h3>
        or
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.or(sql.b) //=&gt; &quot;a&quot; OR &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> a ORed boolean expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
booleanMethod(&quot;or&quot;)
    </pre>
    


  

    <a name="patio_sql_CaseExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.CaseExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_CaseExpression_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_CaseExpression_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_CaseExpression_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Create an object with the given conditions and
default value.  An expression can be provided to
test each condition against, instead of having
all conditions represent their own boolean expression.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_CaseExpression_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>conditions</td><td></td><td></td><td>the conditions of the <a href='#patio_sql_CaseExpression'>patio.sql.CaseExpression</a>.</td><tr><tr><td>def</td><td></td><td></td><td>the default value of the <a href='#patio_sql_CaseExpression'>patio.sql.CaseExpression</a>.</td><tr><tr><td>expression</td><td></td><td></td><td>the expression of the <a href='#patio_sql_CaseExpression'>patio.sql.CaseExpression</a>.</td><tr><tr><td>hasExpression</td><td></td><td></td><td>returns true if this case expression has a expression</td><tr><tr><td>noExpression</td><td></td><td></td><td>true if this <a href='#patio_sql_CaseExpression'>patio.sql.CaseExpression</a>'s expression is undefined.</td><tr></table>
    

    <a name="patio_sql_CaseExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>conditions</em>  : conditions to create the case expression from</li>
        
            <li> <em>def</em>  : default value</li>
        
            <li> <em>expression</em>  : expression to create the CASE expression from</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (conditions,def,expression){
   if (Expression.isConditionSpecifier(conditions)) {
       this.conditions = comb.array.toArray(conditions);
       this.def = def;
       this.expression = expression;
       this.noExpression = comb.isUndefined(expression);
   }
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_CaseExpression_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the case expression to a string

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL case expression fragment.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.caseExpressionSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_Cast_constructor"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Cast.constructor
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Cast_constructor_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_Cast_constructor_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a cast of an SQL expression to a specific type.
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_Cast_constructor_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>expr</td><td></td><td></td><td>the expression to CAST.</td><tr><tr><td>type</td><td></td><td></td><td>the  type to CAST the expression to.</td><tr></table>
    

    <a name="patio_sql_Cast_constructor_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>expr</em>  : the expression to CAST.</li>
        
            <li> <em>type</em>  : the  type to CAST the expression to.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (expr,type){
   this.expr = expr;
   this.type = type;
           
}
            </pre>
      
    

  
  

    <a name="patio_sql_CastMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.CastMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_CastMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_CastMethods_prototype_cast">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                cast

                                </a></li>
                                
                                <li><a href="#patio_sql_CastMethods_prototype_castNumeric">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                castNumeric

                                </a></li>
                                
                                <li><a href="#patio_sql_CastMethods_prototype_castString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                castString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Defines case methods</p>
    

    

    
    

    <a name="patio_sql_CastMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_CastMethods_prototype_cast"></a>
    <h3>
        cast
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Cast the reciever to the given SQL type.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.cast(&quot;integer&quot;) //=&gt; CAST(a AS integer)
sql.a.cast(String) //=&gt; CAST(a AS varchar(255))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.Cast</code> the casted expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type){
   return new Cast(this, type);
           
}
    </pre>
    


  
    <a name="patio_sql_CastMethods_prototype_castNumeric"></a>
    <h3>
        castNumeric
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Cast the reciever to the given SQL type (or the database's default Number type if none given.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.castNumeric() //=&gt; CAST(a AS integer)
sql.a.castNumeric(&quot;double&quot;) //=&gt; CAST(a AS double precision)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : the numeric type to cast to</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.NumericExpression</code> a casted numberic expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type){
   return this.cast(type || &quot;integer&quot;).sqlNumber;
           
}
    </pre>
    


  
    <a name="patio_sql_CastMethods_prototype_castString"></a>
    <h3>
        castString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Cast the reciever to the given SQL type (or the database's default String type if none given),
and return the result as a <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.castString() //=&gt; CAST(a AS varchar(255))
 sql.a.castString(&quot;text&quot;) //=&gt; CAST(a AS text)
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>type</em>  : the string type to cast to</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.StringExpression</code> the casted string expression</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (type){
   return this.cast(type || String).sqlString;
           
}
    </pre>
    


  

    <a name="patio_sql_ColumnAll"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.ColumnAll
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_ColumnAll_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_ColumnAll_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_ColumnAll_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents all columns in a given table, table.* in SQL
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_Expression">patio.sql.Expression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_ColumnAll_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>table</td><td></td><td></td><td>the table this all column expression represents.</td><tr></table>
    

    <a name="patio_sql_ColumnAll_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>table</em>  : the table this expression is for.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (table){
   this.table = table;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_ColumnAll_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the ColumnAll expression to a string

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL columnAll expression fragment.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.columnAllSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_ComplexExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.ComplexExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_ComplexExpression_constructor">Constructor</a></li>
                        
                        
                        <li><a href="#patio_sql_ComplexExpression_staticProperties">Static Properties</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_ComplexExpression_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a complex SQL expression, with a given operator and one
or more attributes (which may also be ComplexExpressions, forming
a tree).

This is an abstract class that is not that useful by itself.  The
subclasses @link patio.sql.BooleanExpression},
<a href='#patio_sql_NumericExpression'>patio.sql.NumericExpression</a> and <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a> should
be used instead of this class directly.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_Expression">patio.sql.Expression</a></li>
            
                <li> <a href="#patio_sql_AliasMethods">patio.sql.AliasMethods</a></li>
            
                <li> <a href="#patio_sql_CastMethods">patio.sql.CastMethods</a></li>
            
                <li> <a href="#patio_sql_OrderedMethods">patio.sql.OrderedMethods</a></li>
            
                <li> <a href="#patio_sql_SubscriptMethods">patio.sql.SubscriptMethods</a></li>
            
        </ul>
    

    
        <a name="patio_sql_ComplexExpression_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>BITWISE_OPERATORS</em></td><td>Object</td><td><code>
{bitWiseAnd:"&", bitWiseOr:"|", exclusiveOr:"^", leftShift:"<<", rightShift:">>"}
         </code></td><td>
Default bitwise operators.

</td><tr><tr><td><em>BOOLEAN_OPERATORS</em></td><td>Object</td><td><code>
{AND:"AND",OR:"OR"}
         </code></td><td>
Default boolean operators.

</td><tr><tr><td><em>INEQUALITY_OPERATORS</em></td><td>Object</td><td><code>
{GT:">",GTE:">=",LT:"<",LTE:"<="}
         </code></td><td>
Default inequality operators.

</td><tr><tr><td><em>IN_OPERATORS</em></td><td>Object</td><td><code>
{IN:"IN",NOTIN:'NOT IN'}
         </code></td><td>
Default IN operators.

</td><tr><tr><td><em>IS_OPERATORS</em></td><td>Object</td><td><code>
{IS:"IS", ISNOT:'IS NOT'}
         </code></td><td>
Default IS operators.

</td><tr><tr><td><em>MATHEMATICAL_OPERATORS</em></td><td>Object</td><td><code>
{PLUS:"+", MINUS:"-", DIVIDE:"/", MULTIPLY:"*"}
         </code></td><td>
Default mathematical operators.

</td><tr><tr><td><em>N_ARITY_OPERATORS</em></td><td>Object</td><td><code>
{
     "||":"||",
     AND:"AND",
     OR:"OR",
     PLUS:"+",
     MINUS:"-",
     DIVIDE:"/", MULTIPLY:"*"
}
         </code></td><td>
Default N(multi) arity operators.

</td><tr><tr><td><em>ONE_ARITY_OPERATORS</em></td><td>Object</td><td><code>
{
     "NOT":"NOT",
     "NOOP":"NOOP"
 }
         </code></td><td>
Default ONE operators.

</td><tr><tr><td><em>OPERATOR_INVERSIONS</em></td><td>Object</td><td><code>
{
     AND:"OR",
     OR:"AND",
     GT:"lte",
     GTE:"lt",
     LT:"gte",
     LTE:"gt",
     EQ:"neq",
     NEQ:"eq",
     LIKE:'NOT LIKE',
     "NOT LIKE":"LIKE",
     '!~*':'~*',
     '~*':'!~*',
     "~":'!~',
     "IN":'NOTIN',
     "NOTIN":"IN",
     "IS":'IS NOT',
     "ISNOT":"IS",
     NOT:"NOOP",
     NOOP:"NOT",
     ILIKE:'NOT ILIKE',
     NOTILIKE:"ILIKE"
}
         </code></td><td>
Hash of operator inversions
</td><tr><tr><td><em>TWO_ARITY_OPERATORS</em></td><td>Object</td><td><code>
{
     EQ:'=',
     NEQ:'!=', LIKE:"LIKE",
     "NOT LIKE":'NOT LIKE',
     ILIKE:"ILIKE",
     "NOT ILIKE":'NOT ILIKE',
     "~":"~",
     '!~':"!~",
     '~*':"~*",
     '!~*':"!~*",
     GT:">",
     GTE:">=",
     LT:"<",
     LTE:"<=",
     bitWiseAnd:"&",
     bitWiseOr:"|",
     exclusiveOr:"^",
     leftShift:"<<",
     rightShift:">>",
     IS:"IS",
     ISNOT:'IS NOT',
     IN:"IN",
     NOTIN:'NOT IN'
 }
         </code></td><td>
Default two arity operators.

</td><tr></table>
    
    

    <a name="patio_sql_ComplexExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>op</em>  : The operator and arguments for this object to the ones given. <p>     Convert all args that are hashes or arrays of two element arrays to <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a>s,          other than the second arg for an IN/NOT IN operator.</li> </p></li>
        
        </ul>
     
    
        <em>Throws</em>
        <ul>
            
                <li><code>patio.sql.ExpressionError</code> if the operator doesn't allow boolean input and a boolean argument is given.</li>
            
                <li><code>patio.sql.ExpressionError</code> if the wrong number of arguments for a given operator is used.</li>
            
        </ul>
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (op){
   if (op) {
       var args = comb.argsToArray(arguments).slice(1);
       //make a copy of the args
       var origArgs = args.slice(0);
       args.forEach(function (a, i) {
           if (Expression.isConditionSpecifier(a)) {
               args[i] = BooleanExpression.fromValuePairs(a);
           }
       });
       op = op.toUpperCase();
       if (N_ARITY_OPERATORS.hasOwnProperty(op)) {
           if (args.length &lt; 1) {
               throw new ExpressionError(&quot;The &quot; + op + &quot; operator requires at least 1 argument&quot;)
           }
           var oldArgs = args.slice(0);
           args = [];
           oldArgs.forEach(function (a) {
               a instanceof ComplexExpression &amp;&amp; a.op == op ? args = args.concat(a.args) : args.push(a);
           });
       } else if (TWO_ARITY_OPERATORS.hasOwnProperty(op)) {
           if (args.length != 2) {
               throw new ExpressionError(&quot;The &quot; + op + &quot; operator requires precisely 2 arguments&quot;);
           }
           //With IN/NOT IN, even if the second argument is an array of two element arrays,
           //don&#x27;t convert it into a boolean expression, since it&#x27;s definitely being used
           //as a value list.
           if (IN_OPERATORS[op]) {
               args[1] = origArgs[1]
           }
       } else if (ONE_ARITY_OPERATORS.hasOwnProperty(op)) {
           if (args.length != 1) {
               throw new ExpressionError(&quot;The &quot; + op + &quot; operator requires only one argument&quot;);
           }
       } else {
           throw new ExpressionError(&quot;Invalid operator &quot; + op);
       }
       this.op = op;
       this.args = args;
   }
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_ComplexExpression_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the ComplexExpression to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_ComplexExpression'>patio.sql.ComplexExpression</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.complexExpressionSql(this.op, this.args);
           
}
    </pre>
    


  

    <a name="patio_sql_ComplexExpressionMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.ComplexExpressionMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_ComplexExpressionMethods_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_ComplexExpressionMethods_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Provides methods to assist in assigning a SQL type to
particular types, i.e. Boolean, Function, Number or String.</p>
    

    

    
    
        <a name="patio_sql_ComplexExpressionMethods_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>sqlBoolean</td><td></td><td></td><td>Return a <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> representation of this expression type.</td><tr><tr><td>sqlFunction</td><td></td><td></td><td>Return a <a href='#patio_sql_SQLFunction'>patio.sql.SQLFunction</a> representation of this expression type.</td><tr><tr><td>sqlNumber</td><td></td><td></td><td>Return a <a href='#patio_sql_NumericExpression'>patio.sql.NumericExpression</a> representation of this expression type. <pre class="code"> sql.a.not("a") //=> NOT "a" sql.a.sqlNumber.not() //=> ~"a" </pre></td><tr><tr><td>sqlString</td><td></td><td></td><td>Return a <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a> representation of this expression type. <pre class="code"> sql.a.plus(sql.b); //=> "a" + "b" sql.a.sqlString.concat(sql.b) //=> "a" || "b" </pre></td><tr></table>
    

    <a name="patio_sql_ComplexExpressionMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  

    <a name="patio_sql_Constant"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Constant
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Constant_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_Constant_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_Constant_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents constants or psuedo-constants (e.g.'CURRENT_DATE) in SQL.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_Constant_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>constant</td><td></td><td></td><td><b>READ ONLY</b> the contant.</td><tr></table>
    

    <a name="patio_sql_Constant_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>constant</em>  : </li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (constant){
   this.__constant = constant;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_Constant_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_Constant'>patio.sql.Constant</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_Constant'>patio.sql.Constant</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.constantSql(this.__constant);
           
}
    </pre>
    


  

    <a name="patio_sql_DateTime"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.DateTime
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_DateTime_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
var dateTime = patio.DateTime(2009, 10, 10, 10, 10, 10); //=&gt; &#x27;2009-11-10 10:10:10&#x27;
JSON.stringify(dateTime); //=&gt; &#x27;2009-11-10 10:10:10&#x27;
            </pre>
    

    

    
    

    <a name="patio_sql_DateTime_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>[y=1970]</em>  : the year</li>
        
            <li> <em>[m=0]</em>  : the month</li>
        
            <li> <em>[d=1]</em>  : the day</li>
        
            <li> <em>[h=0]</em>  : the hour</li>
        
            <li> <em>[min=0]</em>  : the minute/s</li>
        
            <li> <em>[s=0]</em>  : the second/s</li>
        
            <li> <em>[ms=0]</em>  : the millisecond/s, this paramater is not be used, but may depending on the adapter.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (y,m,d,h,min,s,ms){
   var args = comb.argsToArray(arguments);
   if(args.length === 0){
       this.date = new Date();
   }else if (comb.isDate(y)) {
       this.date = y;
   } else {
       var date = new Date(1970, 0, 1, 0, 0, 0);
       comb.isNumber(y) &amp;&amp; date.setYear(y);
       comb.isNumber(m) &amp;&amp; date.setMonth(m);
       comb.isNumber(d) &amp;&amp; date.setDate(d);
       comb.isNumber(h) &amp;&amp; date.setHours(h);
       comb.isNumber(min) &amp;&amp; date.setMinutes(min);
       comb.isNumber(s) &amp;&amp; date.setSeconds(s);
       comb.isNumber(ms) &amp;&amp; date.setMilliseconds(ms);
       this.date = date;
   }
}
            </pre>
      
    

  
  

    <a name="patio_sql_Decimal"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Decimal
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Decimal_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a SQL Decimal type, by default is converted to double precision</p>
    

    

    
    

    <a name="patio_sql_Decimal_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>number</em>  : the number to be represented as a decimal</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (number){
   this.number = number;
}
            </pre>
      
    

  
  

    <a name="patio_sql_Expression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Expression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Expression_constructor">Constructor</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_Expression_fromArgs">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                fromArgs
                                </a></li>
                                
                                <li><a href="#patio_sql_Expression_isConditionSpecifier">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                isConditionSpecifier
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_Expression_prototype_sqlLiteral">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                sqlLiteral

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This is the parent of all expressions.</p>
    

    

    
    

    <a name="patio_sql_Expression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
    <a name="patio_sql_Expression_fromArgs"></a>
    <h3>
        fromArgs
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
This is a helper method that will take in an array of arguments and return an expression.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
QualifiedIdentifier.fromArgs([&quot;table&quot;, &quot;column&quot;]);
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>args</em>  : array of arguments to pass into the constructor of the function.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.Expression</code> an expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (args){
   var ret;
   try {
       ret = new this();
   } catch (ignore) {
   }
   this.apply(ret, args);
   return ret;
           
}
    </pre>
    


  
    <a name="patio_sql_Expression_isConditionSpecifier"></a>
    <h3>
        isConditionSpecifier
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Helper to determine if something is a condition specifier. Returns true if the object
is a Hash or is an array of two element arrays.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
Expression.isConditionSpecifier({a : &quot;b&quot;}); //=&gt; true
Expression.isConditionSpecifier(&quot;a&quot;); //=&gt; false
Expression.isConditionSpecifier([[&quot;a&quot;, &quot;b&quot;], [&quot;c&quot;, &quot;d&quot;]]); //=&gt; true
Expression.isConditionSpecifier([[&quot;a&quot;, &quot;b&quot;, &quot;e&quot;], [&quot;c&quot;, &quot;d&quot;]]); //=&gt; false
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>obj</em>  : object to test if it is a condition specifier</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>Boolean</code> true if the object is a Hash or is an array of two element arrays.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (obj){
   return comb.isHash(obj) || (comb.isArray(obj) &amp;&amp; obj.length &amp;&amp; obj.every(function (i) {
       return comb.isArray(i) &amp;&amp; i.length == 2
   }));
           
}
    </pre>
    


  
  
    <a name="patio_sql_Expression_prototype_sqlLiteral"></a>
    <h3>
        sqlLiteral
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Returns the string representation of this expression

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds</em>  : the dataset that will be used to SQL-ify this expression.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>String</code> a string literal version of this expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   return this.toString(ds);
           
}
    </pre>
    


  

    <a name="patio_sql_Float"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Float
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Float_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a SQL Float type, by default is converted to double precision</p>
    

    

    
    

    <a name="patio_sql_Float_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>number</em>  : the number to be represented as a float</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (number){
   this.number = number;
}
            </pre>
      
    

  
  

    <a name="patio_sql_GenericExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.GenericExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_GenericExpression_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Base class for all GenericExpressions</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_Expression">patio.sql.Expression</a></li>
            
                <li> <a href="#patio_sql_AliasMethods">patio.sql.AliasMethods</a></li>
            
                <li> <a href="#patio_sql_BooleanMethods">patio.sql.BooleanMethods</a></li>
            
                <li> <a href="#patio_sql_CastMethods">patio.sql.CastMethods</a></li>
            
                <li> <a href="#patio_sql_ComplexExpressionMethods">patio.sql.ComplexExpressionMethods</a></li>
            
                <li> <a href="#patio_sql_InequalityMethods">patio.sql.InequalityMethods</a></li>
            
                <li> <a href="#patio_sql_NumericMethods">patio.sql.NumericMethods</a></li>
            
                <li> <a href="#patio_sql_OrderedMethods">patio.sql.OrderedMethods</a></li>
            
                <li> <a href="#patio_sql_StringMethods">patio.sql.StringMethods</a></li>
            
                <li> <a href="#patio_sql_SubscriptMethods">patio.sql.SubscriptMethods</a></li>
            
        </ul>
    

    
    

    <a name="patio_sql_GenericExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
comb.define([Expression, AliasMethods, BooleanMethods, CastMethods, ComplexExpressionMethods, InequalityMethods, NumericMethods, OrderedMethods, StringMethods, SubscriptMethods]).as(sql, &quot;GenericExpression&quot;)
            </pre>
      
    

  
  

    <a name="patio_sql_Identifier"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Identifier
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Identifier_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_Identifier_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_Identifier_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents an identifier (column or table). Can be used
to specify a String with multiple underscores that should not be
split, or for creating an implicit identifier without using a String.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
                <li> <a href="#patio_sql_QualifyingMethods">patio.sql.QualifyingMethods</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_Identifier_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>value</td><td></td><td></td><td><b>READ ONLY</b> the column or table this identifier represents.</td><tr></table>
    

    <a name="patio_sql_Identifier_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>value</em>  : the identifier.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (value){
   this.__value = value;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_Identifier_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_Identifier'>patio.sql.Identifier</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_Identifier'>patio.sql.Identifier</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.quoteIdentifier(this);
           
}
    </pre>
    


  

    <a name="patio_sql_InequalityMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.InequalityMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_InequalityMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_InequalityMethods_prototype_between">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                <span class="label label-important">P</span>
                                
                                between

                                </a></li>
                                
                                <li><a href="#patio_sql_InequalityMethods_prototype_eq">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                eq

                                </a></li>
                                
                                <li><a href="#patio_sql_InequalityMethods_prototype_gt">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                gt

                                </a></li>
                                
                                <li><a href="#patio_sql_InequalityMethods_prototype_gte">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                gte

                                </a></li>
                                
                                <li><a href="#patio_sql_InequalityMethods_prototype_lt">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lt

                                </a></li>
                                
                                <li><a href="#patio_sql_InequalityMethods_prototype_lte">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                lte

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin includes the inequality methods (>, <, >=, <=) that are defined on objects that can be
used in a numeric or string context in SQL.</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.a.gt(&quot;b&quot;)  //=&gt; a &gt; &quot;b&quot;
sql.a.lt(&quot;b&quot;)  //=&gt; a &gt; &quot;b&quot;
sql.a.gte(&quot;b&quot;) //=&gt; a &gt;= &quot;b&quot;
sql.a.lte(&quot;b&quot;) //=&gt; a &lt;= &quot;b&quot;
sql.a.eq(&quot;b&quot;) //=&gt; a = &quot;b&quot;
            </pre>
    

    

    
    

    <a name="patio_sql_InequalityMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_InequalityMethods_prototype_between"></a>
    <h3>
        between
        
        
        <span class="label label-label">Function</span>
        
        
        <span class="label label-important">Private</span>
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.x.between([1,2]) =&gt; //=&gt; WHERE ((x &gt;= 1) AND (x &lt;= 10))
sql.x.between([1,2]).invert() =&gt; //=&gt; WHERE ((x &lt; 1) OR (x &gt; 10))
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>items</em>  : a two element array where the first element it the item to be gte and the second item lte.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> a boolean expression containing the between expression.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (items){
   return new BooleanExpression(&quot;AND&quot;, new BooleanExpression(&quot;gte&quot;, this, items[0]), new BooleanExpression(&quot;lte&quot;, this, items[1]))
           
}
    </pre>
    


  
    <a name="patio_sql_InequalityMethods_prototype_eq"></a>
    <h3>
        eq
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.eq(&quot;b&quot;)  //=&gt; a = &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
inequalityMethod(&quot;eq&quot;)
    </pre>
    


  
    <a name="patio_sql_InequalityMethods_prototype_gt"></a>
    <h3>
        gt
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.gt(&quot;b&quot;)  //=&gt; a &gt; &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
inequalityMethod(&quot;gt&quot;)
    </pre>
    


  
    <a name="patio_sql_InequalityMethods_prototype_gte"></a>
    <h3>
        gte
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.gte(&quot;b&quot;)  //=&gt; a &gt;= &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
inequalityMethod(&quot;gte&quot;)
    </pre>
    


  
    <a name="patio_sql_InequalityMethods_prototype_lt"></a>
    <h3>
        lt
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.lt(&quot;b&quot;)  //=&gt; a &lt; &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
inequalityMethod(&quot;lt&quot;)
    </pre>
    


  
    <a name="patio_sql_InequalityMethods_prototype_lte"></a>
    <h3>
        lte
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.lte(&quot;b&quot;)  //=&gt; a &lt;= &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
inequalityMethod(&quot;lte&quot;)
    </pre>
    


  

    <a name="patio_sql_JoinClause"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.JoinClause
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_JoinClause_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_JoinClause_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_JoinClause_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents an SQL JOIN clause, used for joining tables.
Created by <a href='#patio_Dataset'>patio.Dataset</a> join methods.
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_Expression">patio.sql.Expression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_JoinClause_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>joinType</td><td></td><td></td><td><b>READ ONLY</b> the type of join this JoinClause should use</td><tr><tr><td>joinType</td><td></td><td></td><td><b>READ ONLY</b> the alias to use for this join clause</td><tr><tr><td>table</td><td></td><td></td><td><b>READ ONLY</b> the table to join with</td><tr></table>
    

    <a name="patio_sql_JoinClause_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>joinType</em>  : the type of join this JoinClause should use</li>
        
            <li> <em>table</em>  : the table to join with</li>
        
            <li> <em>tableAlias</em>  : the alias to use for this join clause</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (joinType,table,tableAlias){
   this.__joinType = joinType;
   this.__table = table;
   this.__tableAlias = tableAlias || null;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_JoinClause_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_JoinClause'>patio.sql.JoinClause</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_JoinClause'>patio.sql.JoinClause</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.joinClauseSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_JoinOnClause"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.JoinOnClause
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_JoinOnClause_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_JoinOnClause_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_JoinOnClause_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents an SQL JOIN clause with ON conditions. Created by <a href='#patio_Dataset'>patio.Dataset</a> join methods.
See <a href='#patio_sql_JoinClause'>patio.sql.JoinClause</a> for other argument parameters.
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_JoinClause">patio.sql.JoinClause</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_JoinOnClause_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>on</td><td></td><td></td><td><b>READ ONLY</b> the filter to use with joining the datasets.</td><tr></table>
    

    <a name="patio_sql_JoinOnClause_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>on</em>  : the expression to filter with. See <a href='#patio_Dataset_prototype_filter'>patio.Dataset#filter</a></li>
        
            <li> <em>joinType</em>  : </li>
        
            <li> <em>table</em>  : </li>
        
            <li> <em>tableAlias</em>  : </li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (on,joinType,table,tableAlias){
   this.__on = on;
   this._super(arguments, [joinType, table, tableAlias]);
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_JoinOnClause_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_JoinOnClause'>patio.sql.JoinOnClause</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_JoinOnClause'>patio.sql.JoinOnClause</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.joinOnClauseSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_JoinUsingClause"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.JoinUsingClause
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_JoinUsingClause_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_JoinUsingClause_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_JoinUsingClause_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents an SQL JOIN clause with USING conditions.
Created by <a href='#patio_Dataset'>patio.Dataset</a> join methods.
See <a href='#patio_sql_JoinClause'>patio.sql.JoinClause</a> for other argument parameters.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_JoinClause">patio.sql.JoinClause</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_JoinUsingClause_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>using</td><td></td><td></td><td><b>READ ONLY</b> the column/s to use when joining.</td><tr></table>
    

    <a name="patio_sql_JoinUsingClause_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>using</em>  : the column/s to use when joining.</li>
        
            <li> <em>joinType</em>  : </li>
        
            <li> <em>table</em>  : </li>
        
            <li> <em>tableAlias</em>  : </li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (using,joinType,table,tableAlias){
   this.__using = using.map(function (u) {
       return comb.isString(u) ? new Identifier(u) : u;
   });
   this._super(arguments, [joinType, table, tableAlias]);
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_JoinUsingClause_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_JoinUsingClause'>patio.sql.JoinUsingClause</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_JoinUsingClause'>patio.sql.JoinUsingClause</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.joinUsingClauseSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_LiteralString_constructor"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.LiteralString.constructor
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_LiteralString_constructor_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a string that should be placed into a SQL query literally.
<b>This class has all methods that a normal javascript String has.</b>
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_OrderedMethods">patio.sql.OrderedMethods</a></li>
            
                <li> <a href="#patio_sql_ComplexExpressionMethods">patio.sql.ComplexExpressionMethods</a></li>
            
                <li> <a href="#patio_sql_BooleanMethods">patio.sql.BooleanMethods</a></li>
            
                <li> <a href="#patio_sql_NumericMethods">patio.sql.NumericMethods</a></li>
            
                <li> <a href="#patio_sql_StringMethods">patio.sql.StringMethods</a></li>
            
                <li> <a href="#patio_sql_InequalityMethods">patio.sql.InequalityMethods</a></li>
            
                <li> <a href="#patio_sql_AliasMethods">patio.sql.AliasMethods</a></li>
            
        </ul>
    

    
    

    <a name="patio_sql_LiteralString_constructor_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>str</em>  : the literal string.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (str){
   this.__str = str;
           
}
            </pre>
      
    

  
  

    <a name="patio_sql_NoBooleanInputMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.NoBooleanInputMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_NoBooleanInputMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin augments the default constructor for <a href='#patio_sql_ComplexExpression'>patio.sql.ComplexExpression</a>,
so that attempting to use boolean input when initializing a <a href='#patio_sql_NumericExpression'>patio.sql.NumericExpression</a>
or <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a> results in an error. <b>It is not expected to be used directly.</b></p>
    

    

    
    

    <a name="patio_sql_NoBooleanInputMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  

    <a name="patio_sql_NumericMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.NumericMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_NumericMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_NumericMethods_prototype_divide">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                divide

                                </a></li>
                                
                                <li><a href="#patio_sql_NumericMethods_prototype_minus">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                minus

                                </a></li>
                                
                                <li><a href="#patio_sql_NumericMethods_prototype_multiply">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                multiply

                                </a></li>
                                
                                <li><a href="#patio_sql_NumericMethods_prototype_plus">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                plus

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin includes the standard mathematical methods (+, -, *, and /)
that are defined on objects that can be used in a numeric context in SQL.</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.a.plus(sql.b) //=&gt; &quot;a&quot; + &quot;b&quot;
sql.a.minus(sql.b) //=&gt; &quot;a&quot; - &quot;b&quot;
sql.a.multiply(sql.b) //=&gt; &quot;a&quot; * &quot;b&quot;
sql.a.divide(sql.b) //=&gt; &quot;a&quot; / &quot;b&quot;
            </pre>
    

    

    
    

    <a name="patio_sql_NumericMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_NumericMethods_prototype_divide"></a>
    <h3>
        divide
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.divide(sql.b)  //=&gt; &quot;a&quot; / &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.NumericExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
numericMethod(&quot;divide&quot;)
    </pre>
    


  
    <a name="patio_sql_NumericMethods_prototype_minus"></a>
    <h3>
        minus
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.minus(sql.b)  //=&gt; &quot;a&quot; - &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.NumericExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
numericMethod(&quot;minus&quot;)
    </pre>
    


  
    <a name="patio_sql_NumericMethods_prototype_multiply"></a>
    <h3>
        multiply
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.multiply(sql.b)  //=&gt; &quot;a&quot; * &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.NumericExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
numericMethod(&quot;multiply&quot;)
    </pre>
    


  
    <a name="patio_sql_NumericMethods_prototype_plus"></a>
    <h3>
        plus
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.plus(sql.b)  //=&gt; &quot;a&quot; + &quot;b&quot;
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.NumericExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
numericMethod(&quot;plus&quot;)
    </pre>
    


  

    <a name="patio_sql_OrderedExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.OrderedExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_OrderedExpression_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_OrderedExpression_instanceProperties">Instance Properties</a></li>
                        
                        
                        <li><a href="#patio_sql_OrderedExpression_staticProperties">Static Properties</a></li>
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_OrderedExpression_prototype_asc">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                asc

                                </a></li>
                                
                                <li><a href="#patio_sql_OrderedExpression_prototype_desc">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                desc

                                </a></li>
                                
                                <li><a href="#patio_sql_OrderedExpression_prototype_invert">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                invert

                                </a></li>
                                
                                <li><a href="#patio_sql_OrderedExpression_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a column/expression to order the result set by.
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_Expression">patio.sql.Expression</a></li>
            
        </ul>
    

    
        <a name="patio_sql_OrderedExpression_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>INVERT_NULLS</em></td><td>Object</td><td><code>
{first:"last", last:"first"}
         </code></td><td>
Hash that contains the inversions for "first" and "last".
</td><tr></table>
    
    
        <a name="patio_sql_OrderedExpression_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>descending</td><td></td><td><code>true</code></td><td><b>READ ONLY</b> true if decending, false otherwise.</td><tr><tr><td>expression</td><td></td><td></td><td><b>READ ONLY</b> the expression to order.</td><tr><tr><td>nulls</td><td></td><td><code>null</code></td><td>if value is "first" the null values will be first, if "last" then null values
    will be last</td><tr></table>
    

    <a name="patio_sql_OrderedExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>expression</em>  : the expression to order</li>
        
            <li> <em>[descending=true]</em>  : set to false to order ASC</li>
        
            <li> <em>[opts=null]</em>  : additional options
<ul>
    <li>String: if value is "first" the null values will be first, if "last" then null values
    will be last</li>
    <li>Object: will pull the nulls property off of the object use use the same rules as if it
    were a string</li>
</ul></li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (expression,descending,opts){
   descending = comb.isBoolean(descending) ? descending : true;
   opts = opts || {};
   this.__expression = expression;
   this.__descending = descending;
   var nulls = comb.isString(opts) ? opts : opts.nulls;
   this.__nulls = comb.isString(nulls) ? nulls.toLowerCase() : null;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_OrderedExpression_prototype_asc"></a>
    <h3>
        asc
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.OrderedExpression</code> a copy that is ordered ASC</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return new OrderedExpression(this.__expression, false, {nulls:this.__nulls});
           
}
    </pre>
    


  
    <a name="patio_sql_OrderedExpression_prototype_desc"></a>
    <h3>
        desc
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
</p>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.OrderedExpression</code> Return a copy that is ordered DESC</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return new OrderedExpression(this.__expression, true, {nulls:this.__nulls});
           
}
    </pre>
    


  
    <a name="patio_sql_OrderedExpression_prototype_invert"></a>
    <h3>
        invert
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
* </p>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.OrderedExpression</code> an inverted expression, changing ASC to DESC and NULLS FIRST to NULLS LAST.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return new OrderedExpression(this.__expression, !this.__descending, {nulls:this._static.INVERT_NULLS[this.__nulls] || this.__nulls});
           
}
    </pre>
    


  
    <a name="patio_sql_OrderedExpression_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_OrderedExpression'>patio.sql.OrderedExpression</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_OrderedExpression'>patio.sql.OrderedExpression</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.orderedExpressionSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_OrderedMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.OrderedMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_OrderedMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_OrderedMethods_prototype_asc">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                asc

                                </a></li>
                                
                                <li><a href="#patio_sql_OrderedMethods_prototype_desc">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                desc

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin provides ordering methods ("asc", "desc") to expression.</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.name.asc(); //=&gt; name ASC
sql.price.desc(); //=&gt; price DESC
sql.name.asc({nulls:&quot;last&quot;}); //=&gt; name ASC NULLS LAST
sql.price.desc({nulls:&quot;first&quot;}); //=&gt; price DESC NULLS FIRST
            </pre>
    

    

    
    

    <a name="patio_sql_OrderedMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_OrderedMethods_prototype_asc"></a>
    <h3>
        asc
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Mark the receiving SQL column as sorting in an ascending fashion (generally a no-op).

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.name.asc(); //=&gt; name ASC
sql.name.asc({nulls:&quot;last&quot;}); //=&gt; name ASC NULLS LAST
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options?</em>  : options to use when sorting</li>
    
        <li> <em>[options.nulls = null]</em> <code>String</code> : Set to "first" to use NULLS FIRST (so NULL values are ordered
          before other values), or "last" to use NULLS LAST (so NULL values are ordered after other values).</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.OrderedExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options){
   return new OrderedExpression(this, false, options);
           
}
    </pre>
    


  
    <a name="patio_sql_OrderedMethods_prototype_desc"></a>
    <h3>
        desc
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Mark the receiving SQL column as sorting in a descending fashion.
</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.price.desc(); //=&gt; price DESC
sql.price.desc({nulls:&quot;first&quot;}); //=&gt; price DESC NULLS FIRST
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>options?</em>  : options to use when sorting</li>
    
        <li> <em>[options.nulls = null]</em> <code>String</code> : Set to "first" to use NULLS FIRST (so NULL values are ordered
          before other values), or "last" to use NULLS LAST (so NULL values are ordered after other values).</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.OrderedExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (options){
   return new OrderedExpression(this, true, options);
           
}
    </pre>
    


  

    <a name="patio_sql_PlaceHolderLiteralString"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.PlaceHolderLiteralString
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_PlaceHolderLiteralString_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_PlaceHolderLiteralString_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_PlaceHolderLiteralString_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a literal string with placeholders and arguments.
This is necessary to ensure delayed literalization of the arguments
required for the prepared statement support and for database-specific
literalization.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_PlaceHolderLiteralString_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>args</td><td></td><td></td><td><b>READ ONLY</b> array of arguments that will be literalized using <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a>, and replaced in the string.</td><tr><tr><td>parens</td><td></td><td></td><td><b>READ ONLY</b> set to true to wrap the string in parens.</td><tr><tr><td>str</td><td></td><td></td><td><b>READ ONLY</b> the string that contains placeholders.</td><tr></table>
    

    <a name="patio_sql_PlaceHolderLiteralString_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>str</em>  : the string that contains placeholders.</li>
        
            <li> <em>args</em>  : array of arguments that will be literalized using <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a>, and replaced in the string.</li>
        
            <li> <em>[parens=false]</em>  : set to true to wrap the string in parens.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (str,args,parens){
   parens = parens || false;
   var v;
   this.__str = str;
   this.__args = comb.isArray(args) &amp;&amp; args.length == 1 &amp;&amp; comb.isHash((v = args[0])) ? v : args;
   this.__parens = parens;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_PlaceHolderLiteralString_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_PlaceHolderLiteralString'>patio.sql.PlaceHolderLiteralString</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_PlaceHolderLiteralString'>patio.sql.PlaceHolderLiteralString</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.placeholderLiteralStringSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_QualifiedIdentifier"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.QualifiedIdentifier
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_QualifiedIdentifier_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_QualifiedIdentifier_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_QualifiedIdentifier_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents a qualified identifier (column with table or table with schema).

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
                <li> <a href="#patio_sql_QualifyingMethods">patio.sql.QualifyingMethods</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_QualifiedIdentifier_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>column</td><td></td><td></td><td><b>READ ONLY</b> he column or table to qualify.</td><tr><tr><td>table</td><td></td><td></td><td><b>READ ONLY</b> the table or schema to qualify the column or table to.</td><tr></table>
    

    <a name="patio_sql_QualifiedIdentifier_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>table</em>  : the table or schema to qualify the column or table to.</li>
        
            <li> <em>column</em>  : the column or table to qualify.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (table,column){
   this.__table = table;
   this.__column = column;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_QualifiedIdentifier_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_QualifiedIdentifier'>patio.sql.QualifiedIdentifier</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.qualifiedIdentifierSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_QualifyingMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.QualifyingMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_QualifyingMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_QualifyingMethods_prototype_all">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                all

                                </a></li>
                                
                                <li><a href="#patio_sql_QualifyingMethods_prototype_qualify">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                qualify

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin provides methods related to qualifying expression.</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.column.qualify(&quot;table&quot;) //=&gt; &quot;table&quot;.&quot;column&quot;
sql.table.qualify(&quot;schema&quot;) //=&gt; &quot;schema&quot;.&quot;table&quot;
sql.column.qualify(&quot;table&quot;).qualify(&quot;schema&quot;) //=&gt; &quot;schema&quot;.&quot;table&quot;.&quot;column&quot;
            </pre>
    

    

    
    

    <a name="patio_sql_QualifyingMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_QualifyingMethods_prototype_all"></a>
    <h3>
        all
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Use to create a .* expression.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.table.all() //=&gt; &quot;table&quot;.*
sql.table.qualify(&quot;schema&quot;).all() //=&gt; &quot;schema&quot;.&quot;table&quot;.*
        </pre>



    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.ColumnAll</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (){
   return new ColumnAll(this);
           
}
    </pre>
    


  
    <a name="patio_sql_QualifyingMethods_prototype_qualify"></a>
    <h3>
        qualify
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Qualify the receiver with the given qualifier (table for column/schema for table).

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.column.qualify(&quot;table&quot;) //=&gt; &quot;table&quot;.&quot;column&quot;
sql.table.qualify(&quot;schema&quot;) //=&gt; &quot;schema&quot;.&quot;table&quot;
sql.column.qualify(&quot;table&quot;).qualify(&quot;schema&quot;) //=&gt; &quot;schema&quot;.&quot;table&quot;.&quot;column&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>qualifier</em>  : table/schema to qualify this expression to.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.QualifiedIdentifier</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (qualifier){
   return new QualifiedIdentifier(qualifier, this);
           
}
    </pre>
    


  

    <a name="patio_sql_SQLFunction_NumericExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.SQLFunction.NumericExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_SQLFunction_NumericExpression_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Subclass of <a href='#patio_sql_ComplexExpression'>patio.sql.ComplexExpression</a> where the expression results
in a numeric value in SQL.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_ComplexExpression">patio.sql.ComplexExpression</a></li>
            
                <li> <a href="#patio_sql_BitWiseMethods">patio.sql.BitWiseMethods</a></li>
            
                <li> <a href="#patio_sql_NumericMethods">patio.sql.NumericMethods</a></li>
            
                <li> <a href="#patio_sql_InequalityMethods">patio.sql.InequalityMethods</a></li>
            
        </ul>
    

    
    

    <a name="patio_sql_SQLFunction_NumericExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
comb.define([ComplexExpression, BitWiseMethods, NumericMethods, InequalityMethods]).as(sql, &quot;NumericExpression&quot;)
            </pre>
      
    

  
  

    <a name="patio_sql_SQLFunction_constructor"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.SQLFunction.constructor
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_SQLFunction_constructor_constructor">Constructor</a></li>
                        
                        <li><a href="#patio_sql_SQLFunction_constructor_instanceProperties">Instance Properties</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents an SQL function call.

</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
        </ul>
    

    
    
        <a name="patio_sql_SQLFunction_constructor_instanceProperties"></a>
        <em>Instance Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td>args</td><td></td><td></td><td><b>READ ONLY</b> args  arguments will be literalized through <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a> and placed into the SQL function call.</td><tr><tr><td>f</td><td></td><td></td><td><b>READ ONLY</b> the SQL function to call.</td><tr></table>
    

    <a name="patio_sql_SQLFunction_constructor_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>f</em>  : variable number of arguments where the first argument is the name of the SQL function to invoke. The rest of the arguments will be literalized through <a href='#patio_Dataset_prototype_literal'>patio.Dataset#literal</a> and placed into the SQL function call.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (f){
   var args = comb.argsToArray(arguments).slice(1);
   this.__f = comb.isInstanceOf(f, Identifier) ? f.value : f, this.__args = args.map(function (a) {
       return comb.isString(a) ? sql.stringToIdentifier(a) : a;
   });
           
}
            </pre>
      
    

  
  

    <a name="patio_sql_StringConcatenationMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.StringConcatenationMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_StringConcatenationMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_StringConcatenationMethods_prototype_concat">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                concat

                                </a></li>
                                
                                <li><a href="#patio_sql_StringConcatenationMethods_prototype_sqlSubscript">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                sqlSubscript

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin provides string concatenation methods ("concat");</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.x.sqlString.concat(&quot;y&quot;); //=&gt; &quot;x&quot; || &quot;y&quot;
            </pre>
    

    

    
    

    <a name="patio_sql_StringConcatenationMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_StringConcatenationMethods_prototype_concat"></a>
    <h3>
        concat
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Return a <a href='#patio_sql_StringExpression'>patio.sql.StringExpression</a> representing the concatenation of this expression
with the given argument.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.x.sqlString.concat(&quot;y&quot;); //=&gt; &quot;x&quot; || &quot;y&quot;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expression</em>  : expression to concatenate this expression with.</li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expression){
   return new StringExpression(&quot;||&quot;, this, expression);
           
}
    </pre>
    


  
    <a name="patio_sql_StringConcatenationMethods_prototype_sqlSubscript"></a>
    <h3>
        sqlSubscript
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Return a <a href='#patio_sql_Subscript'>patio.sql.Subscript</a> with the given arguments, representing an
SQL array access.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.array.sqlSubscript(1) //=&gt; array[1]
sql.array.sqlSubscript(1, 2) //=&gt; array[1, 2]
sql.array.sqlSubscript([1, 2]) //=&gt; array[1, 2]
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>subscript</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (subscript){
   var args = comb.argsToArray(arguments);
   return new SubScript(this, comb.array.flatten(args));
           
}
    </pre>
    


  

    <a name="patio_sql_StringExpression"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.StringExpression
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_StringExpression_constructor">Constructor</a></li>
                        
                        
                        <li><a href="#patio_sql_StringExpression_staticProperties">Static Properties</a></li>
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Static Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_StringExpression_like">
                                
                                <span class="label label-info">S</span>
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                like
                                </a></li>
                                
                            </ul>
                        </li>
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Subclass of <a href='#patio_sql_ComplexExpression'>patio.sql.ComplexExpression</a> where the expression results
in a text/string/varchar value in SQL.</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_ComplexExpression">patio.sql.ComplexExpression</a></li>
            
                <li> <a href="#patio_sql_StringMethods">patio.sql.StringMethods</a></li>
            
                <li> <a href="#patio_sql_StringConcatenationMethods">patio.sql.StringConcatenationMethods</a></li>
            
                <li> <a href="#patio_sql_InequalityMethods">patio.sql.InequalityMethods</a></li>
            
                <li> <a href="#patio_sql_NoBooleanInputMethods">patio.sql.NoBooleanInputMethods</a></li>
            
        </ul>
    

    
        <a name="patio_sql_StringExpression_staticProperties"></a>
        <em>Static Properties</em>
        <table class='table table-bordered table-striped'><tr><td>Property</td><td>Type</td><td>Default Value</td><td>Description</td></tr><tr><td><em>likeMap</em></td><td>Object</td><td><code>{"truetrue":'~*', "truefalse":"~", "falsetrue":"ILIKE", "falsefalse":"LIKE"}</code></td><td>
Like map used to by <a href='#patio_sql_StringExpression_like'>patio.sql.StringExpression.like</a> to create the
LIKE expression.
</td><tr></table>
    
    

    <a name="patio_sql_StringExpression_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
    <a name="patio_sql_StringExpression_like"></a>
    <h3>
        like
        
        <span class="label label-info">Static</span>
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
<p>Creates a SQL pattern match expression. left (l) is the SQL string we
are matching against, and ces are the patterns we are matching.
The match succeeds if any of the patterns match (SQL OR).</p>

<p>If a regular expression is used as a pattern, an SQL regular expression will be
used, which is currently only supported on MySQL and PostgreSQL.  Be aware
that MySQL and PostgreSQL regular expression syntax is similar to javascript
regular expression syntax, but it not exactly the same, especially for
advanced regular expression features.  Patio just uses the source of the
regular expression verbatim as the SQL regular expression string.</p>

<p>If any other object is used as a regular expression, the SQL LIKE operator will
be used, and should be supported by most databases.</p>

<p>The pattern match will be case insensitive if the last argument is a hash
with a key of caseInsensitive that is not false or null. Also,
if a case insensitive regular expression is used (//i), that particular
pattern which will always be case insensitive.</p>

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
StringExpression.like(sql.a, &#x27;a%&#x27;) //=&gt; &quot;a&quot; LIKE &#x27;a%&#x27;
  StringExpression.like(sql.a, &#x27;a%&#x27;, {caseInsensitive : true}) //=&gt; &quot;a&quot; ILIKE &#x27;a%&#x27;
  StringExpression.like(sql.a, &#x27;a%&#x27;, /^a/i) //=&gt; &quot;a&quot; LIKE &#x27;a%&#x27; OR &quot;a&quot; ~* &#x27;^a&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>l</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (l){
   var args = comb.argsToArray(arguments).slice(1);
   var params = likeElement(l);
   var likeMap = this.likeMap;
   var lh = params[0], lre = params[1], lci = params[2];
   var last = args[args.length - 1];
   lci = (comb.isHash(last) ? args.pop() : {})[&quot;caseInsensitive&quot;] ? true : lci;
   args = args.map(function (ce) {
       var r, rre, rci;
       var ceArr = likeElement(ce);
       r = ceArr[0], rre = ceArr[1], rci = ceArr[2];
       return new BooleanExpression(likeMap[&quot;&quot; + (lre || rre) + (lci || rci)], l, r)
   }, this);
   return args.length == 1 ? args[0] : BooleanExpression.fromArgs([&quot;OR&quot;].concat(args));
           
}
    </pre>
    


  
  

    <a name="patio_sql_StringMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.StringMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_StringMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_StringMethods_prototype_ilike">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                ilike

                                </a></li>
                                
                                <li><a href="#patio_sql_StringMethods_prototype_like">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                like

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin provides SQL string methods such as (like and iLike).</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.a.like(&quot;A%&quot;); //=&gt; &quot;a&quot; LIKE &#x27;A%&#x27;
sql.a.iLike(&quot;A%&quot;); //=&gt; &quot;a&quot; LIKE &#x27;A%&#x27;
sql.a.like(/^a/); //=&gt;  &quot;a&quot; ~* &#x27;^a&#x27;
            </pre>
    

    

    
    

    <a name="patio_sql_StringMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  
    <a name="patio_sql_StringMethods_prototype_ilike"></a>
    <h3>
        ilike
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Create a <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> case insensitive pattern match of the receiver
with the given patterns.  See <a href='#patio_sql_StringExpression_prototype_like'>patio.sql.StringExpression#like</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.iLike(&quot;A%&quot;); //=&gt; &quot;a&quot; LIKE &#x27;A%&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expression</em>  : </li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li> <code>patio.sql.BooleanExpression</code> </li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expression){
   expression = comb.argsToArray(arguments);
   return StringExpression.like.apply(StringExpression, [this].concat(expression).concat([
       {caseInsensitive:true}
   ]));
           
}
    </pre>
    


  
    <a name="patio_sql_StringMethods_prototype_like"></a>
    <h3>
        like
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Create a <a href='#patio_sql_BooleanExpression'>patio.sql.BooleanExpression</a> case sensitive (if the database supports it) pattern match of the receiver with
the given patterns.  See <a href='#patio_sql_StringExpression_prototype_like'>patio.sql.StringExpression#like</a>.

</p>

    <em>Example</em>
        <pre class="prettyprint linenums lang-js">
sql.a.like(/^a/); //=&gt;  &quot;a&quot; ~* &#x27;^a&#x27;
sql.a.like(&quot;A%&quot;); //=&gt; &quot;a&quot; LIKE &#x27;A%&#x27;
        </pre>


    <em>Arguments</em>
    <ul>
    
        <li> <em>expression</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (expression){
   expression = comb.argsToArray(arguments);
   return StringExpression.like.apply(StringExpression, [this].concat(expression));
           
}
    </pre>
    


  

    <a name="patio_sql_SubScript"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.SubScript
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_SubScript_constructor">Constructor</a></li>
                        
                        
                        
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instance Methods<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                <li><a href="#patio_sql_SubScript_prototype_addSub">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                addSub

                                </a></li>
                                
                                <li><a href="#patio_sql_SubScript_prototype_toString">
                                
                                
                                <span class="label label-label">F</span>
                                
                                
                                        
                                 <span class="label label-success">P</span>
                                        
                                
                                toString

                                </a></li>
                                
                            </ul>
                        </li>
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
Represents an SQL array access, with multiple possible arguments.
</p>
    

    
        <em>Extends</em>
        <ul>
            
                <li> <a href="#patio_sql_GenericExpression">patio.sql.GenericExpression</a></li>
            
        </ul>
    

    
    

    <a name="patio_sql_SubScript_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>arrCol</em>  : the SQL array column</li>
        
            <li> <em>sub</em>  : The array of subscripts to use (should be an array of numbers)</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (arrCol,sub){
   //The SQL array column
   this.__arrCol = arrCol;
   //The array of subscripts to use (should be an array of numbers)
   this.__sub = sub;
           
}
            </pre>
      
    

  
  
    <a name="patio_sql_SubScript_prototype_addSub"></a>
    <h3>
        addSub
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Create a new <a href='#patio_sql_Subscript'>patio.sql.Subscript</a> appending the given subscript(s)
the the current array of subscripts.
         </p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>sub</em>  : </li>
    
     </ul>




    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (sub){
   return new SubScript(this.__arrCol, this.__sub.concat(sub));
           
}
    </pre>
    


  
    <a name="patio_sql_SubScript_prototype_toString"></a>
    <h3>
        toString
        
        
        <span class="label label-label">Function</span>
        
        
                
         <span class="label label-success">Public</span>
                
        
   </h3>

<hr/>
<em>Defined sql.js</em>

<p>
Converts the <a href='#patio_sql_SubScript'>patio.sql.SubScript</a> to a string.

</p>


    <em>Arguments</em>
    <ul>
    
        <li> <em>ds?</em>  : dataset used to created the SQL fragment, if
the dataset is ommited then the default <a href='#patio_Dataset'>patio.Dataset</a> implementation is used.</li>
    
     </ul>


    <em>Returns</em>
    <ul>
    
        <li>  String the SQL version of the <a href='#patio_sql_SubScript'>patio.sql.SubScript</a>.</li>
    
    </ul>



    
    <em>Source</em>
    <pre class="prettyprint linenums lang-js">
function (ds){
   !Dataset &amp;&amp; (Dataset = require(&quot;./dataset&quot;));
   ds = ds || new Dataset();
   return ds.subscriptSql(this);
           
}
    </pre>
    


  

    <a name="patio_sql_SubscriptMethods"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.SubscriptMethods
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_SubscriptMethods_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
This mixin provides the ability to access elements within a SQL array.</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
sql.array.sqlSubscript(1) //=&gt; array[1]
sql.array.sqlSubscript(1, 2) //=&gt; array[1, 2]
sql.array.sqlSubscript([1, 2]) //=&gt; array[1, 2]
            </pre>
    

    

    
    

    <a name="patio_sql_SubscriptMethods_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
    
    

  
  

    <a name="patio_sql_Time"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Time
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Time_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
var time = patio.Time(12, 12, 12); //=&gt; 12:12:12
JSON.stringify(time); //=&gt; 12:12:12
            </pre>
    

    

    
    

    <a name="patio_sql_Time_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>[h=0]</em>  : the hour</li>
        
            <li> <em>[min=0]</em>  : the minute/s</li>
        
            <li> <em>[s=0]</em>  : the second/s</li>
        
            <li> <em>[ms=0]</em>  : the millisecond/s, this paramater is not be used, but may depending on the adapter.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (h,min,s,ms){
   var args = comb.argsToArray(arguments);
   if (args.length === 0) {
       this.date = new Date();
   } else if (comb.isDate(h)) {
       this.date = h;
   } else {
       var date = new Date(1970, 0, 1, 0, 0, 0);
       comb.isNumber(h) &amp;&amp; date.setHours(h);
       comb.isNumber(min) &amp;&amp; date.setMinutes(min);
       comb.isNumber(s) &amp;&amp; date.setSeconds(s);
       comb.isNumber(ms) &amp;&amp; date.setMilliseconds(ms);
       this.date = date;
   }
}
            </pre>
      
    

  
  

    <a name="patio_sql_TimeStamp"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.TimeStamp
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_TimeStamp_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
var timeStamp = patio.TimeStamp(2009, 10, 10, 10, 10, 10); //=&gt; &#x27;2009-11-10 10:10:10&#x27;
JSON.stringify(timeStamp); //=&gt; &#x27;2009-11-10 10:10:10&#x27;
            </pre>
    

    

    
    

    <a name="patio_sql_TimeStamp_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>[y=1970]</em>  : the year</li>
        
            <li> <em>[m=0]</em>  : the month</li>
        
            <li> <em>[d=1]</em>  : the day</li>
        
            <li> <em>[h=0]</em>  : the hour</li>
        
            <li> <em>[min=0]</em>  : the minute/s</li>
        
            <li> <em>[s=0]</em>  : the second/s</li>
        
            <li> <em>[ms=0]</em>  : the millisecond/s, this paramater is not be used, but may depending on the adapter.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (y,m,d,h,min,s,ms){
   var args = comb.argsToArray(arguments);
   if (args.length === 0) {
       this.date = new Date();
   } else if (comb.isDate(y)) {
       this.date = y;
   } else {
       var date = new Date(1970, 0, 1, 0, 0, 0);
       comb.isNumber(y) &amp;&amp; date.setYear(y);
       comb.isNumber(m) &amp;&amp; date.setMonth(m);
       comb.isNumber(d) &amp;&amp; date.setDate(d);
       comb.isNumber(h) &amp;&amp; date.setHours(h);
       comb.isNumber(min) &amp;&amp; date.setMinutes(min);
       comb.isNumber(s) &amp;&amp; date.setSeconds(s);
       comb.isNumber(ms) &amp;&amp; date.setMilliseconds(ms);
       this.date = date;
   }
}
            </pre>
      
    

  
  

    <a name="patio_sql_Year"></a>
    <div class="navbar subnav">
    <div class="navbar-inner  subnav-inner">
          <div class="container">
            <a href="#" class="brand">
            patio.sql.Year
            
                    
             <span class="label label-success">Public</span>
                    
            
            </a>
           <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </a>
                    <div class="nav-collapse">

            <ul class="nav pull-right">
             <li><a href="#patio_sql_Year_constructor">Constructor</a></li>
                        
                        
                        
                        
            </ul>
            </div>
            </div>
     </div>
</div>



    <p>
</p>
    
        <em>Example</em>
            <pre class="prettyprint linenums lang-js">
var year = patio.Year(2009); //=&gt; 2009
JSON.stringify(year)l //=&gt; 2009
            </pre>
    

    

    
    

    <a name="patio_sql_Year_constructor"></a>
    <h3>Constructor</h3>

    <em>Defined sql.js</em>
    
        <em>Arguments</em>
        <ul>
        
            <li> <em>y</em>  : the year this year represents.</li>
        
        </ul>
     
    
    
        
            <em>Source</em>
            <pre class="prettyprint linenums lang-js">
function (y){
   this.date = comb.isUndefined(y) ? new Date() : comb.isDate(y) ? y : new Date(y, 0, 1, 0, 0, 0);
}
            </pre>
      
    

  
  

        
        </div>
    </div>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/jquery.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-transition.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tab.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tooltip.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-popover.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-button.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-carousel.js"></script>
    <script type="text/javascript"
            src="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.js"></script>

  </body>
</html>

